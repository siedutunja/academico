(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5182990f"],{"0cb0":function(a,n,e){"use strict";e("dfaf")},"1da1":function(a,n,e){"use strict";e.d(n,"a",(function(){return l}));e("d3b7");function i(a,n,e,i,l,o,t){try{var r=a[o](t),s=r.value}catch(c){return void e(c)}r.done?n(s):Promise.resolve(s).then(i,l)}function l(a){return function(){var n=this,e=arguments;return new Promise((function(l,o){var t=a.apply(n,e);function r(a){i(t,l,o,r,s,"next",a)}function s(a){i(t,l,o,r,s,"throw",a)}r(void 0)}))}}},"3d0c":function(a,n,e){"use strict";e.r(n);var i=function(){var a=this,n=a.$createElement,e=a._self._c||n;return e("div",[e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[e("b-card",{scopedSlots:a._u([{key:"header",fn:function(){return[e("h5",{staticClass:"mb-0"},[e("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),a._v(" CONSULTA PLANILLA PARCIAL POR PERIODO")],1)]},proxy:!0},{key:"footer",fn:function(){return[e("em",[a._v("Consulta planilla parcial por periodo.")])]},proxy:!0}])},[e("b-card-text",[e("b-row",[e("b-col",{attrs:{lg:"2"}},[e("b-form-group",{staticClass:"etiqueta",attrs:{label:"Periodo:","label-for":"periodo"}},[e("b-form-select",{ref:"periodo",attrs:{id:"periodo",options:a.comboPeriodos},on:{change:function(n){a.idDocente=null,a.idPlanilla=null}},model:{value:a.idPeriodo,callback:function(n){a.idPeriodo=n},expression:"idPeriodo"}})],1)],1),e("b-col",{attrs:{lg:"4"}},[e("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione el Docente:","label-for":"docentes"}},[e("b-form-select",{ref:"docentes",attrs:{id:"docentes",options:a.comboDocentes,disabled:null==a.idPeriodo},on:{change:function(n){a.idPlanilla=null,a.cargarPlanillasDocente()}},model:{value:a.idDocente,callback:function(n){a.idDocente=n},expression:"idDocente"}})],1)],1),e("b-col",{attrs:{lg:"4"}},[e("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione la Planilla:","label-for":"planillas"}},[e("b-form-select",{ref:"planillas",attrs:{id:"planillas",options:a.comboPlanillas,disabled:null==a.idDocente},on:{change:function(n){return a.cargarConfiguracionPlanilla()}},model:{value:a.idPlanilla,callback:function(n){a.idPlanilla=n},expression:"idPlanilla"}})],1)],1),e("b-col",{attrs:{lg:"2"}},[e("b-button",{staticStyle:{"margin-top":"28px"},attrs:{variant:"primary"},on:{click:a.verPlanilla}},[a._v("Ver Planilla")])],1)],1),e("b-row",[e("b-col",{attrs:{lg:"12"}},[e("hr")])],1),1==a.planillita?e("div",[e("NotasParcialPeriodo",{attrs:{configuracionPlanilla:a.configuracionPlanilla}})],1):2==a.planillita?e("div",[e("PreeParcialPeriodo",{attrs:{configuracionPlanilla:a.configuracionPlanilla}})],1):3==a.planillita?e("div",[e("ComportamientoParcialPeriodo",{attrs:{configuracionPlanilla:a.configuracionPlanilla}})],1):4==a.planillita?e("div",[e("PreeParcialPeriodoRural",{attrs:{configuracionPlanilla:a.configuracionPlanilla}})],1):5==a.planillita?e("div",[e("PreeParcialPeriodoSilvino",{attrs:{configuracionPlanilla:a.configuracionPlanilla}})],1):a._e()],1)],1)],1)],1)],1)},l=[],o=e("1da1"),t=(e("96cf"),e("159b"),e("ac1f"),e("5319"),e("bc3a")),r=e.n(t),s=e("9c40"),c=function(){var a=this,n=a.$createElement,e=a._self._c||n;return e("div",{staticClass:"mt-2"},[a.btnCargando?e("div",[e("div",{staticClass:"text-center m-5 text-primary"},[e("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),e("br"),e("strong",[a._v("Cargando planilla...")])],1)]):e("div",[12==a.$store.state.idRol?e("div",[e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[1==a.cambioActivo?e("b-alert",{attrs:{variant:"danger",show:""}},[e("b",[a._v("Advertencia: ")]),a._v("La planilla se ha modificado, se recomienda guardar la planilla.")]):a._e()],1)],1)],1):a._e(),e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[e("vue-good-table",{ref:"table",attrs:{columns:a.encabColumnas,rows:a.notasPlanillaCompor,styleClass:"vgt-table condensed bordered striped","line-numbers":!0},scopedSlots:a._u([{key:"table-row",fn:function(n){return["estudiante"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(n.row.estudiante))])])]):a._e(),0==a.configuracionPlanilla.tipoValComp?e("div",["definitivacompor"==n.column.field?e("span",[e("b-form-input",{ref:"definitivacompor-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"1"},on:{blur:function(e){return a.actualizarItemComporLetra(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"definitivacompor")}},model:{value:n.row.definitivacompor,callback:function(e){a.$set(n.row,"definitivacompor",e)},expression:"props.row.definitivacompor"}})],1):a._e()]):e("div",["definitiva"==n.column.field?e("span",[e("b-form-input",{ref:"definitiva-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemComporNota(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"definitiva"),a.soloDecimales(e)}},model:{value:n.row.definitiva,callback:function(e){a.$set(n.row,"definitiva",e)},expression:"props.row.definitiva"}})],1):a._e()]),"diversa"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(n.row.diversa))])])]):a._e(),"concepto"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(n.row.concepto))])])]):a._e(),"observaciones"==n.column.field?e("span",[e("b-form-input",{ref:"observaciones-"+n.row.originalIndex,staticClass:"text-left",attrs:{autocomplete:"off",maxlength:"255"},on:{blur:function(e){return a.actualizarItemComporObserv(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"observaciones")}},model:{value:n.row.observaciones,callback:function(e){a.$set(n.row,"observaciones",e)},expression:"props.row.observaciones"}})],1):a._e(),"ausJ"==n.column.field?e("span",[e("b-form-input",{ref:"ausJ-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"2"},on:{blur:function(e){return a.actualizarFallasCompor(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"ausJ"),a.soloNumeros(e)}},model:{value:n.row.ausJ,callback:function(e){a.$set(n.row,"ausJ",e)},expression:"props.row.ausJ"}})],1):a._e(),"ausS"==n.column.field?e("span",[e("b-form-input",{ref:"ausS-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"2"},on:{blur:function(e){return a.actualizarFallasCompor(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"ausS"),a.soloNumeros(e)}},model:{value:n.row.ausS,callback:function(e){a.$set(n.row,"ausS",e)},expression:"props.row.ausS"}})],1):a._e()]}}])},[e("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[e("h5",{staticClass:"text-danger ml-5"},[a._v("No existen estudiantes en la planilla")])])])],1)],1),e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[0==a.configuracionPlanilla.tipoValComp?e("div",[e("h6",[a._v("Conceptos Valorativos: "),e("span",{staticClass:"ml-3 text-danger"},[a._v(a._s(a.configuracionPlanilla.compC1)+": ("+a._s(a.configuracionPlanilla.compL1)+")")]),e("span",{staticClass:"ml-3 text-primary"},[a._v(a._s(a.configuracionPlanilla.compC2)+": ("+a._s(a.configuracionPlanilla.compL2)+")")]),e("span",{staticClass:"ml-3 text-warning"},[a._v(a._s(a.configuracionPlanilla.compC3)+": ("+a._s(a.configuracionPlanilla.compL3)+")")]),e("span",{staticClass:"ml-3 text-success"},[a._v(a._s(a.configuracionPlanilla.compC4)+": ("+a._s(a.configuracionPlanilla.compL4)+")")])])]):1==a.configuracionPlanilla.tipoValComp?e("div",[e("h6",[a._v("Conceptos Valorativos: "),e("span",{staticClass:"ml-3 text-danger"},[a._v(a._s(a.configuracionPlanilla.compC1)+": ("+a._s(Number(a.configuracionPlanilla.minBaj).toFixed(1))+" a "+a._s(Number(a.configuracionPlanilla.maxBaj).toFixed(1))+")")]),e("span",{staticClass:"ml-3 text-primary"},[a._v(a._s(a.configuracionPlanilla.compC2)+": ("+a._s(Number(a.configuracionPlanilla.minBas).toFixed(1))+" a "+a._s(Number(a.configuracionPlanilla.maxBas).toFixed(1))+")")]),e("span",{staticClass:"ml-3 text-warning"},[a._v(a._s(a.configuracionPlanilla.compC3)+": ("+a._s(Number(a.configuracionPlanilla.minAlt).toFixed(1))+" a "+a._s(Number(a.configuracionPlanilla.maxAlt).toFixed(1))+")")]),e("span",{staticClass:"ml-3 text-success"},[a._v(a._s(a.configuracionPlanilla.compC4)+": ("+a._s(Number(a.configuracionPlanilla.minSup).toFixed(1))+" a "+a._s(Number(a.configuracionPlanilla.maxSup).toFixed(1))+")")])])]):e("div",[e("h6",[a._v("Conceptos Valorativos: SIN DEFINIR")])])])],1),12==a.$store.state.idRol?e("div",[e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[1==a.cambioActivo?e("b-alert",{attrs:{variant:"danger",show:""}},[e("b",[a._v("Advertencia: ")]),a._v("La planilla se ha modificado, se recomienda guardar la planilla.")]):a._e()],1)],1),a.notasPlanillaCompor?e("b-row",[a.botonGuardando?e("b-col",[e("b-button",{staticClass:"mx-1 mt-4",attrs:{variant:"primary",disabled:""}},[e("b-spinner",{attrs:{small:"",type:"grow"}}),a._v(" Guardando la planilla... ")],1)],1):e("b-col",[e("b-button",{staticClass:"small mx-1 mt-4",attrs:{variant:"success",disabled:!a.cambioActivo},on:{click:function(n){a.botonGuardando=!0,a.guardarPlanillaComportamiento()}}},[a._v("Guardar Planilla Parcial")])],1)],1):a._e()],1):a._e()],1)])},u=[],d=(e("c740"),e("99af"),e("dac4"),e("f617")),f={name:"comportamientofinalperiodo",props:{configuracionPlanilla:Object},components:{VueGoodTable:d["a"]},data:function(){return{notasPlanillaCompor:[],botonGuardando:!1,cambioActivo:!1,encabColumnas:[],btnCargando:!0}},methods:{guardarPlanillaComportamiento:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.a.put(s["d"]+"docente/notas/planillacompor",JSON.stringify(a.notasPlanillaCompor),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(n){n.data.error?a.mensajeEmergente("danger",s["h"],n.data.mensaje+" - Actualizar Planilla Comportamiento"):(a.mensajeEmergente("success",s["h"],"La planilla parcial de evaluaciones se ha guardado satisfactoriamente."),a.botonGuardando=!1,a.cambioActivo=!1)})).catch((function(n){a.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Planilla Comportamiento. Intente más tarde. "+n)}));case 2:case"end":return n.stop()}}),n)})))()},construirPlanillaNotasComportamiento:function(){0==this.configuracionPlanilla.tipoValComp?this.encabColumnas=[{label:"Apellidos y Nombres Estudiante",width:"30%",field:"estudiante",sortable:!1},{label:"",field:"diversa",sortable:!1,tdClass:this.tdClassFuncDiversa},{label:"Definitiva",field:"definitivacompor",sortable:!1},{label:"Concepto",field:"concepto",sortable:!1,tdClass:this.tdClassFuncConceptoComporLetra},{label:"Observaciones del Periodo",width:"40%",field:"observaciones",sortable:!1},{label:"AJ",field:"ausJ",sortable:!1},{label:"AS",field:"ausS",sortable:!1}]:this.encabColumnas=[{label:"Apellidos y Nombres Estudiante",width:"30%",field:"estudiante",sortable:!1},{label:"",field:"diversa",sortable:!1,tdClass:this.tdClassFuncDiversa},{label:"Definitiva",field:"definitiva",sortable:!1},{label:"Concepto",field:"concepto",sortable:!1,tdClass:this.tdClassFuncConceptoComporNota},{label:"Observaciones del Periodo",width:"40%",field:"observaciones",sortable:!1},{label:"AJ",field:"ausJ",sortable:!1},{label:"AS",field:"ausS",sortable:!1}]},tdClassFuncConceptoComporNota:function(a){return a.definitiva>=this.configuracionPlanilla.minBaj&&a.definitiva<=this.configuracionPlanilla.maxBaj?"text-danger text-center bg-light":a.definitiva>=this.configuracionPlanilla.minBas&&a.definitiva<=this.configuracionPlanilla.maxBas?"text-primary text-center bg-light":a.definitiva>=this.configuracionPlanilla.minAlt&&a.definitiva<=this.configuracionPlanilla.maxAlt?"text-warning text-center bg-light":a.definitiva>=this.configuracionPlanilla.minSup&&a.definitiva<=this.configuracionPlanilla.maxSup?"text-success text-center bg-light":"text-secondary text-center bg-light"},tdClassFuncConceptoComporLetra:function(a){return a.definitivacompor==this.configuracionPlanilla.compL1?"text-danger text-center bg-light":a.definitivacompor==this.configuracionPlanilla.compL2?"text-primary text-center bg-light":a.definitivacompor==this.configuracionPlanilla.compL3?"text-warning text-center bg-light":a.definitivacompor==this.configuracionPlanilla.compL4?"text-success text-center bg-light":"text-secondary text-center bg-light"},tdClassFuncDiversa:function(a){if("S"==a.id_diversa)return"text-center alert alert-warning"},cargarNotasPeriodoComportamiento:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.notasPlanillaCompor=[],n.next=3,r.a.get(s["d"]+"docente/notas/planillacompor",{params:{idCurso:a.configuracionPlanilla.idCurso,idPeriodo:a.configuracionPlanilla.idPeriodo,idPlanilla:a.configuracionPlanilla.idPlanilla,vigencia:a.$store.state.aLectivo}}).then((function(n){n.data.error?a.mensajeEmergente("danger",s["h"],n.data.mensaje+" - Notas periodo Comportamiento"):0!=n.data.datos&&(n.data.datos.forEach((function(n){void 0===n.ausJ&&(n.ausJ=null),void 0===n.ausS&&(n.ausS=null),void 0===n.definitivacompor&&(n.definitivacompor=null),void 0===n.definitiva&&(n.definitiva=null),void 0===n.concepto&&(n.concepto=null),void 0===n.observaciones&&(n.observaciones=null),n.id_asignatura_curso=a.configuracionPlanilla.idPlanilla,n.periodo=a.configuracionPlanilla.idPeriodo})),a.notasPlanillaCompor=n.data.datos,setTimeout((function(){a.construirPlanillaNotasComportamiento(),a.btnCargando=!1}),500))})).catch((function(n){a.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Notas periodo Comportamiento. Intente más tarde."+n)}));case 3:case"end":return n.stop()}}),n)})))()},actualizarItemComporLetra:function(a){var n=this.notasPlanillaCompor.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.definitivacompor||null==a.definitivacompor?(this.notasPlanillaCompor[n].definitivacompor=null,a.definitivacompor=null):a.definitivacompor==this.configuracionPlanilla.compL1||a.definitivacompor==this.configuracionPlanilla.compL2||a.definitivacompor==this.configuracionPlanilla.compL3||a.definitivacompor==this.configuracionPlanilla.compL4?this.notasPlanillaCompor[n].definitivacompor=a.definitivacompor:(this.notasPlanillaCompor[n].definitivacompor=null,this.mensajeEmergente("danger",s["h"],"La evaluación: "+a.definitivacompor+" no es válida."),a.definitivacompor=null),a.definitivacompor==this.configuracionPlanilla.compL1?this.notasPlanillaCompor[n].concepto=this.configuracionPlanilla.compC1:a.definitivacompor==this.configuracionPlanilla.compL2?this.notasPlanillaCompor[n].concepto=this.configuracionPlanilla.compC2:a.definitivacompor==this.configuracionPlanilla.compL3?this.notasPlanillaCompor[n].concepto=this.configuracionPlanilla.compC3:a.definitivacompor==this.configuracionPlanilla.compL4?this.notasPlanillaCompor[n].concepto=this.configuracionPlanilla.compC4:this.notasPlanillaCompor[n].concepto=null},actualizarItemComporNota:function(a){var n=this.notasPlanillaCompor.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.definitiva||null==a.definitiva||0==a.definitiva?(this.notasPlanillaCompor[n].definitiva=null,a.definitiva=null):a.definitiva>=this.configuracionPlanilla.minBaj&&a.definitiva<=this.configuracionPlanilla.maxSup?this.notasPlanillaCompor[n].definitiva=a.definitiva:(this.notasPlanillaCompor[n].definitiva=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.definitiva+" no es válida."),a.definitiva=null),this.notasPlanillaCompor[n].definitiva>=this.configuracionPlanilla.minBaj&&this.notasPlanillaCompor[n].definitiva<this.configuracionPlanilla.minBas?this.notasPlanillaCompor[n].concepto=this.configuracionPlanilla.compC1:this.notasPlanillaCompor[n].definitiva>=this.configuracionPlanilla.minBas&&this.notasPlanillaCompor[n].definitiva<this.configuracionPlanilla.minAlt?this.notasPlanillaCompor[n].concepto=this.configuracionPlanilla.compC2:this.notasPlanillaCompor[n].definitiva>=this.configuracionPlanilla.minAlt&&this.notasPlanillaCompor[n].definitiva<this.configuracionPlanilla.minSup?this.notasPlanillaCompor[n].concepto=this.configuracionPlanilla.compC3:this.notasPlanillaCompor[n].definitiva>=this.configuracionPlanilla.minSup&&this.notasPlanillaCompor[n].definitiva<=this.configuracionPlanilla.maxSup?this.notasPlanillaCompor[n].concepto=this.configuracionPlanilla.compC4:this.notasPlanillaCompor[n].concepto=null},actualizarItemComporObserv:function(a){var n=this.notasPlanillaCompor.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.observaciones||null==a.observaciones?(this.notasPlanillaCompor[n].observaciones=null,a.observaciones=null):this.notasPlanillaCompor[n].observaciones=a.observaciones},actualizarFallasCompor:function(a){var n=this.notasPlanillaCompor.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.ausJ||null==a.ausJ?this.notasPlanillaCompor[n].ausJ=null:this.notasPlanillaCompor[n].ausJ=a.ausJ,""==a.ausS||null==a.ausS?this.notasPlanillaCompor[n].ausS=null:this.notasPlanillaCompor[n].ausS=a.ausS},handleKeyNavigation:function(a,n,e){if("ArrowDown"===a.key){var i=this.$refs["".concat(e,"-").concat(n+1)];i&&i.focus()}else if("ArrowUp"===a.key){var l=this.$refs["".concat(e,"-").concat(n-1)];l&&l.focus()}},soloDecimales:function(a){var n=window.Event?a.which:a.keyCode;n>=48&&n<=57||n>=96&&n<=105||8==n||9==n||37==n||39==n||110==n||189==n||190==n||a.preventDefault()},soloNumeros:function(a){var n=window.Event?a.which:a.keyCode;n>=48&&n<=57||n>=96&&n<=105||8==n||9==n||37==n||39==n||a.preventDefault()},cambioPlanilla:function(){this.cambioActivo=!0},cancelarFormulario:function(){this.$router.push("/")},mensajeEmergente:function(a,n,e){this.$bvToast.toast(e,{title:n,variant:a,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.cargarNotasPeriodoComportamiento()}},m=f,p=e("2877"),b=Object(p["a"])(m,c,u,!1,null,null,null),g=b.exports,h=function(){var a=this,n=a.$createElement,e=a._self._c||n;return e("div",{staticClass:"mt-2"},[a.btnCargando?e("div",[e("div",{staticClass:"text-center m-5 text-primary"},[e("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),e("br"),e("strong",[a._v("Cargando planilla...")])],1)]):e("div",[12==a.$store.state.idRol?e("div",[e("b-row",[e("b-col",{attrs:{lg:"12"}},[e("b-button",{staticClass:"float-right",attrs:{variant:"outline-info"},on:{click:function(n){return a.seleccionarColumnaPegarExcel()}}},[a._v("Pegar valoraciones"),e("br"),a._v("desde Excel")])],1)],1),e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[1==a.cambioActivo?e("b-alert",{attrs:{variant:"danger",show:""}},[e("b",[a._v("Advertencia: ")]),a._v("La planilla se ha modificado, se recomienda guardar la planilla.")]):a._e()],1)],1)],1):a._e(),1==a.planillita?e("b-row",{staticClass:"mt-2"},[e("b-col",[e("vue-good-table",{ref:"table",attrs:{columns:a.encabColumnas,rows:a.notasPlanilla,styleClass:"vgt-table condensed bordered striped","line-numbers":!0},scopedSlots:a._u([{key:"table-row",fn:function(n){return["estudiante"==n.column.field?e("span",[e("span",[a._v(a._s(n.row.estudiante))])]):a._e(),"diversa"==n.column.field?e("span",[e("span",[a._v(a._s(n.row.diversa))])]):a._e(),"n1C1"==n.column.field?e("span",[e("b-form-input",{ref:"n1C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n1C1"),a.soloDecimales(e)}},model:{value:n.row.n1C1,callback:function(e){a.$set(n.row,"n1C1",e)},expression:"props.row.n1C1"}})],1):a._e(),"n2C1"==n.column.field?e("span",[e("b-form-input",{ref:"n2C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n2C1"),a.soloDecimales(e)}},model:{value:n.row.n2C1,callback:function(e){a.$set(n.row,"n2C1",e)},expression:"props.row.n2C1"}})],1):a._e(),"n3C1"==n.column.field?e("span",[e("b-form-input",{ref:"n3C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n3C1"),a.soloDecimales(e)}},model:{value:n.row.n3C1,callback:function(e){a.$set(n.row,"n3C1",e)},expression:"props.row.n3C1"}})],1):a._e(),"n4C1"==n.column.field?e("span",[e("b-form-input",{ref:"n4C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n4C1"),a.soloDecimales(e)}},model:{value:n.row.n4C1,callback:function(e){a.$set(n.row,"n4C1",e)},expression:"props.row.n4C1"}})],1):a._e(),"n5C1"==n.column.field?e("span",[e("b-form-input",{ref:"n5C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n5C1"),a.soloDecimales(e)}},model:{value:n.row.n5C1,callback:function(e){a.$set(n.row,"n5C1",e)},expression:"props.row.n5C1"}})],1):a._e(),"definitiva"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(Number(n.row.definitiva)>0?Number(n.row.definitiva).toFixed(1):null))])])]):a._e(),"concepto"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(n.row.concepto))])])]):a._e(),"ausJ"==n.column.field?e("span",[e("b-form-input",{ref:"ausJ-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarFallas(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"ausJ"),a.soloNumeros(e)}},model:{value:n.row.ausJ,callback:function(e){a.$set(n.row,"ausJ",e)},expression:"props.row.ausJ"}})],1):a._e(),"ausS"==n.column.field?e("span",[e("b-form-input",{ref:"ausS-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarFallas(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"ausS"),a.soloNumeros(e)}},model:{value:n.row.ausS,callback:function(e){a.$set(n.row,"ausS",e)},expression:"props.row.ausS"}})],1):a._e()]}}],null,!1,465113667)},[e("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[e("h5",{staticClass:"text-danger ml-5"},[a._v("No existen estudiantes en la planilla")])])])],1)],1):2==a.planillita?e("b-row",[e("b-col",[e("vue-good-table",{ref:"notas1",attrs:{columns:a.encabColumnas,rows:a.notasPlanilla,styleClass:"vgt-table condensed bordered striped","line-numbers":!0},scopedSlots:a._u([{key:"table-row",fn:function(n){return["estudiante"==n.column.field?e("span",[e("span",[a._v(a._s(n.row.estudiante))])]):a._e(),"diversa"==n.column.field?e("span",[e("span",[a._v(a._s(n.row.diversa))])]):a._e(),"n1C1"==n.column.field?e("span",[e("b-form-input",{ref:"n1C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n1C1"),a.soloDecimales(e)}},model:{value:n.row.n1C1,callback:function(e){a.$set(n.row,"n1C1",e)},expression:"props.row.n1C1"}})],1):a._e(),"n2C1"==n.column.field?e("span",[e("b-form-input",{ref:"n2C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n2C1"),a.soloDecimales(e)}},model:{value:n.row.n2C1,callback:function(e){a.$set(n.row,"n2C1",e)},expression:"props.row.n2C1"}})],1):a._e(),"n3C1"==n.column.field?e("span",[e("b-form-input",{ref:"n3C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n3C1"),a.soloDecimales(e)}},model:{value:n.row.n3C1,callback:function(e){a.$set(n.row,"n3C1",e)},expression:"props.row.n3C1"}})],1):a._e(),"n4C1"==n.column.field?e("span",[e("b-form-input",{ref:"n4C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n4C1"),a.soloDecimales(e)}},model:{value:n.row.n4C1,callback:function(e){a.$set(n.row,"n4C1",e)},expression:"props.row.n4C1"}})],1):a._e(),"n5C1"==n.column.field?e("span",[e("b-form-input",{ref:"n5C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n5C1"),a.soloDecimales(e)}},model:{value:n.row.n5C1,callback:function(e){a.$set(n.row,"n5C1",e)},expression:"props.row.n5C1"}})],1):a._e(),"defC1"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(Number(n.row.defC1)>0?Number(n.row.defC1).toFixed(1):null))])])]):a._e(),"n1C2"==n.column.field?e("span",[e("b-form-input",{ref:"n1C2-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC2(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n1C2"),a.soloDecimales(e)}},model:{value:n.row.n1C2,callback:function(e){a.$set(n.row,"n1C2",e)},expression:"props.row.n1C2"}})],1):a._e(),"n2C2"==n.column.field?e("span",[e("b-form-input",{ref:"n2C2-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC2(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n2C2"),a.soloDecimales(e)}},model:{value:n.row.n2C2,callback:function(e){a.$set(n.row,"n2C2",e)},expression:"props.row.n2C2"}})],1):a._e(),"n3C2"==n.column.field?e("span",[e("b-form-input",{ref:"n3C2-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC2(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n3C2"),a.soloDecimales(e)}},model:{value:n.row.n3C2,callback:function(e){a.$set(n.row,"n3C2",e)},expression:"props.row.n3C2"}})],1):a._e(),"n4C2"==n.column.field?e("span",[e("b-form-input",{ref:"n4C2-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC2(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n4C2"),a.soloDecimales(e)}},model:{value:n.row.n4C2,callback:function(e){a.$set(n.row,"n4C2",e)},expression:"props.row.n4C2"}})],1):a._e(),"n5C2"==n.column.field?e("span",[e("b-form-input",{ref:"n5C2-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC2(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n5C2"),a.soloDecimales(e)}},model:{value:n.row.n5C2,callback:function(e){a.$set(n.row,"n5C2",e)},expression:"props.row.n5C2"}})],1):a._e(),"defC2"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(Number(n.row.defC2)>0?Number(n.row.defC2).toFixed(1):null))])])]):a._e(),"definitiva"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(Number(n.row.definitiva)>0?Number(n.row.definitiva).toFixed(1):null))])])]):a._e(),"concepto"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(n.row.concepto))])])]):a._e(),"ausJ"==n.column.field?e("span",[e("b-form-input",{ref:"ausJ-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarFallas(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"ausJ"),a.soloNumeros(e)}},model:{value:n.row.ausJ,callback:function(e){a.$set(n.row,"ausJ",e)},expression:"props.row.ausJ"}})],1):a._e(),"ausS"==n.column.field?e("span",[e("b-form-input",{ref:"ausS-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarFallas(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"ausS"),a.soloNumeros(e)}},model:{value:n.row.ausS,callback:function(e){a.$set(n.row,"ausS",e)},expression:"props.row.ausS"}})],1):a._e()]}}])},[e("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[e("h5",{staticClass:"text-danger ml-5"},[a._v("No existen estudiantes en la planilla")])])])],1)],1):3==a.planillita?e("b-row",[e("b-col",[e("vue-good-table",{ref:"notas1",attrs:{columns:a.encabColumnas,rows:a.notasPlanilla,styleClass:"vgt-table condensed bordered striped","line-numbers":!0},scopedSlots:a._u([{key:"table-row",fn:function(n){return["estudiante"==n.column.field?e("span",[e("span",[a._v(a._s(n.row.estudiante))])]):a._e(),"diversa"==n.column.field?e("span",[e("span",[a._v(a._s(n.row.diversa))])]):a._e(),"n1C1"==n.column.field?e("span",[e("b-form-input",{ref:"n1C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n1C1"),a.soloDecimales(e)}},model:{value:n.row.n1C1,callback:function(e){a.$set(n.row,"n1C1",e)},expression:"props.row.n1C1"}})],1):a._e(),"n2C1"==n.column.field?e("span",[e("b-form-input",{ref:"n2C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n2C1"),a.soloDecimales(e)}},model:{value:n.row.n2C1,callback:function(e){a.$set(n.row,"n2C1",e)},expression:"props.row.n2C1"}})],1):a._e(),"n3C1"==n.column.field?e("span",[e("b-form-input",{ref:"n3C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n3C1"),a.soloDecimales(e)}},model:{value:n.row.n3C1,callback:function(e){a.$set(n.row,"n3C1",e)},expression:"props.row.n3C1"}})],1):a._e(),"n4C1"==n.column.field?e("span",[e("b-form-input",{ref:"n4C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n4C1"),a.soloDecimales(e)}},model:{value:n.row.n4C1,callback:function(e){a.$set(n.row,"n4C1",e)},expression:"props.row.n4C1"}})],1):a._e(),"n5C1"==n.column.field?e("span",[e("b-form-input",{ref:"n5C1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC1(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n5C1"),a.soloDecimales(e)}},model:{value:n.row.n5C1,callback:function(e){a.$set(n.row,"n5C1",e)},expression:"props.row.n5C1"}})],1):a._e(),"defC1"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(Number(n.row.defC1)>0?Number(n.row.defC1).toFixed(1):null))])])]):a._e(),"n1C2"==n.column.field?e("span",[e("b-form-input",{ref:"n1C2-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC2(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n1C2"),a.soloDecimales(e)}},model:{value:n.row.n1C2,callback:function(e){a.$set(n.row,"n1C2",e)},expression:"props.row.n1C2"}})],1):a._e(),"n2C2"==n.column.field?e("span",[e("b-form-input",{ref:"n2C2-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC2(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n2C2"),a.soloDecimales(e)}},model:{value:n.row.n2C2,callback:function(e){a.$set(n.row,"n2C2",e)},expression:"props.row.n2C2"}})],1):a._e(),"n3C2"==n.column.field?e("span",[e("b-form-input",{ref:"n3C2-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC2(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n3C2"),a.soloDecimales(e)}},model:{value:n.row.n3C2,callback:function(e){a.$set(n.row,"n3C2",e)},expression:"props.row.n3C2"}})],1):a._e(),"n4C2"==n.column.field?e("span",[e("b-form-input",{ref:"n4C2-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC2(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n4C2"),a.soloDecimales(e)}},model:{value:n.row.n4C2,callback:function(e){a.$set(n.row,"n4C2",e)},expression:"props.row.n4C2"}})],1):a._e(),"n5C2"==n.column.field?e("span",[e("b-form-input",{ref:"n5C2-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC2(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n5C2"),a.soloDecimales(e)}},model:{value:n.row.n5C2,callback:function(e){a.$set(n.row,"n5C2",e)},expression:"props.row.n5C2"}})],1):a._e(),"defC2"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(Number(n.row.defC2)>0?Number(n.row.defC2).toFixed(1):null))])])]):a._e(),"n1C3"==n.column.field?e("span",[e("b-form-input",{ref:"n1C3-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC3(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n1C3"),a.soloDecimales(e)}},model:{value:n.row.n1C3,callback:function(e){a.$set(n.row,"n1C3",e)},expression:"props.row.n1C3"}})],1):a._e(),"n2C3"==n.column.field?e("span",[e("b-form-input",{ref:"n2C3-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC3(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n2C3"),a.soloDecimales(e)}},model:{value:n.row.n2C3,callback:function(e){a.$set(n.row,"n2C3",e)},expression:"props.row.n2C3"}})],1):a._e(),"n3C3"==n.column.field?e("span",[e("b-form-input",{ref:"n3C3-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC3(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n3C3"),a.soloDecimales(e)}},model:{value:n.row.n3C3,callback:function(e){a.$set(n.row,"n3C3",e)},expression:"props.row.n3C3"}})],1):a._e(),"n4C3"==n.column.field?e("span",[e("b-form-input",{ref:"n4C3-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC3(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n4C3"),a.soloDecimales(e)}},model:{value:n.row.n4C3,callback:function(e){a.$set(n.row,"n4C3",e)},expression:"props.row.n4C3"}})],1):a._e(),"n5C3"==n.column.field?e("span",[e("b-form-input",{ref:"n5C3-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarItemC3(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"n5C3"),a.soloDecimales(e)}},model:{value:n.row.n5C3,callback:function(e){a.$set(n.row,"n5C3",e)},expression:"props.row.n5C3"}})],1):a._e(),"defC3"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(Number(n.row.defC3)>0?Number(n.row.defC3).toFixed(1):null))])])]):a._e(),"definitiva"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(Number(n.row.definitiva)>0?Number(n.row.definitiva).toFixed(1):null))])])]):a._e(),"concepto"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(n.row.concepto))])])]):a._e(),"ausJ"==n.column.field?e("span",[e("b-form-input",{ref:"ausJ-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarFallas(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"ausJ"),a.soloNumeros(e)}},model:{value:n.row.ausJ,callback:function(e){a.$set(n.row,"ausJ",e)},expression:"props.row.ausJ"}})],1):a._e(),"ausS"==n.column.field?e("span",[e("b-form-input",{ref:"ausS-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"3"},on:{blur:function(e){return a.actualizarFallas(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"ausS"),a.soloNumeros(e)}},model:{value:n.row.ausS,callback:function(e){a.$set(n.row,"ausS",e)},expression:"props.row.ausS"}})],1):a._e()]}}])},[e("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[e("h5",{staticClass:"text-danger ml-5"},[a._v("No existen estudiantes en la planilla")])])])],1)],1):a._e(),e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[2==a.configuracionPlanilla.id_tipo?e("div",[e("h6",[a._v("Conceptos Valorativos: "),e("span",{staticClass:"ml-3 text-danger"},[a._v("BAJO: ("+a._s(Number(a.configuracionPlanilla.minBajT).toFixed(1))+" a "+a._s(Number(a.configuracionPlanilla.maxBajT).toFixed(1))+")")]),e("span",{staticClass:"ml-3 text-primary"},[a._v("BÁSICO: ("+a._s(Number(a.configuracionPlanilla.minBasT).toFixed(1))+" a "+a._s(Number(a.configuracionPlanilla.maxBasT).toFixed(1))+")")]),e("span",{staticClass:"ml-3 text-warning"},[a._v("ALTO: ("+a._s(Number(a.configuracionPlanilla.minAltT).toFixed(1))+" a "+a._s(Number(a.configuracionPlanilla.maxAltT).toFixed(1))+")")]),e("span",{staticClass:"ml-3 text-success"},[a._v("SUPERIOR: ("+a._s(Number(a.configuracionPlanilla.minSupT).toFixed(1))+" a "+a._s(Number(a.configuracionPlanilla.maxSupT).toFixed(1))+")")])])]):1==a.configuracionPlanilla.id_tipo?e("div",[e("h6",[a._v("Conceptos Valorativos: "),e("span",{staticClass:"ml-3 text-danger"},[a._v("BAJO: ("+a._s(Number(a.configuracionPlanilla.minBaj).toFixed(1))+" a "+a._s(Number(a.configuracionPlanilla.maxBaj).toFixed(1))+")")]),e("span",{staticClass:"ml-3 text-primary"},[a._v("BÁSICO: ("+a._s(Number(a.configuracionPlanilla.minBas).toFixed(1))+" a "+a._s(Number(a.configuracionPlanilla.maxBas).toFixed(1))+")")]),e("span",{staticClass:"ml-3 text-warning"},[a._v("ALTO: ("+a._s(Number(a.configuracionPlanilla.minAlt).toFixed(1))+" a "+a._s(Number(a.configuracionPlanilla.maxAlt).toFixed(1))+")")]),e("span",{staticClass:"ml-3 text-success"},[a._v("SUPERIOR: ("+a._s(Number(a.configuracionPlanilla.minSup).toFixed(1))+" a "+a._s(Number(a.configuracionPlanilla.maxSup).toFixed(1))+")")])])]):e("div",[e("h6",[a._v("Conceptos Valorativos: SIN DEFINIR")])])])],1),12==a.$store.state.idRol?e("div",[e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[1==a.cambioActivo?e("b-alert",{attrs:{variant:"danger",show:""}},[e("b",[a._v("Advertencia: ")]),a._v("La planilla se ha modificado, se recomienda guardar la planilla.")]):a._e()],1)],1),a.notasPlanilla?e("b-row",[a.botonGuardando?e("b-col",[e("b-button",{staticClass:"mx-1 mt-4",attrs:{variant:"primary",disabled:""}},[e("b-spinner",{attrs:{small:"",type:"grow"}}),a._v(" Guardando la planilla... ")],1)],1):e("b-col",[e("b-button",{staticClass:"small mx-1 mt-4",attrs:{variant:"success",disabled:!a.cambioActivo},on:{click:function(n){a.botonGuardando=!0,a.guardarPlanilla()}}},[a._v("Guardar Planilla Parcial")])],1)],1):a._e()],1):a._e(),e("b-modal",{ref:"modalSeleccionarColumna",attrs:{size:"",scrollable:"","hide-footer":"",title:"Seleccionar Columna","ok-only":""}},[e("div",{staticClass:"mx-3"},[e("div",[e("b-row",[e("b-col",{attrs:{lg:"12"}},[e("p",[a._v("Esta opción le permite copiar datos de una hoja de Excel y pegarlos en la columna que usted seleccione.")]),e("p",[a._v("Tenga en cuenta las siguientes condiciones:")]),e("ul",[e("li",[a._v("Los datos se deben copiar desde el portapapeles del sistema. Generalmente se copian con la combianción de teclas (Ctrl+C).")]),e("li",[a._v("Los datos se pegaran en la columna que seleccione.")]),e("li",[a._v("Los datos se pegaran desde la primera fila de la columna seleccionada.")]),e("li",[a._v("Los datos que no sean numéricos no se pegan.")]),e("li",[a._v("Los datos que no cumplan los criterios de validación no se pegan.")])])])],1),e("b-row",[e("b-col",{attrs:{lg:"12"}},[e("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccionar Columna*","label-for":"columna"}},[e("b-form-select",{ref:"columna",attrs:{id:"columna",options:a.comboColumnas},model:{value:a.idColumnaCopiar,callback:function(n){a.idColumnaCopiar=n},expression:"idColumnaCopiar"}})],1)],1),e("b-col",{attrs:{lg:"12",md:"12"}},[e("hr")]),null!=a.idColumnaCopiar?e("b-col",{attrs:{lg:"12",md:"12"}},[e("b-button",{staticClass:"small mt-1 mr-3",attrs:{variant:"primary"},on:{click:function(n){return a.pasteExcelData()}}},[a._v("Pegar Valoraciones")]),e("b-button",{staticClass:"small mt-1 mr-3",attrs:{variant:"secondary"},on:{click:a.cancelarVentana}},[a._v("Cancelar")])],1):a._e()],1)],1)])])],1)])},C=[],P=(e("a9e3"),e("2af1"),e("1276"),{name:"notasparcialperiodo",props:{configuracionPlanilla:Object},components:{VueGoodTable:d["a"]},data:function(){return{notasPlanilla:[],botonGuardando:!1,encabColumnas:[],encabezados:{},planillita:0,idColumnaCopiar:null,comboColumnas:[],cambioActivo:!1,btnCargando:!0}},methods:{guardarPlanilla:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.a.put(s["d"]+"docente/notas/planilla",JSON.stringify(a.notasPlanilla),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(n){n.data.error?a.mensajeEmergente("danger",s["h"],n.data.mensaje+" - Actualizar Planilla"):(a.mensajeEmergente("success",s["h"],"La planilla parcial de evaluaciones se ha guardado satisfactoriamente."),a.botonGuardando=!1,a.cambioActivo=!1)})).catch((function(n){a.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Planilla. Intente más tarde. "+n)}));case 2:case"end":return n.stop()}}),n)})))()},cambioPlanilla:function(){this.cambioActivo=!0},actualizarItemC1:function(a){var n=0,e=99;1==this.configuracionPlanilla.id_tipo?(n=this.configuracionPlanilla.minBaj,e=this.configuracionPlanilla.maxSup):2==this.configuracionPlanilla.id_tipo&&(n=this.configuracionPlanilla.minBajT,e=this.configuracionPlanilla.maxSupT);var i=this.notasPlanilla.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.n1C1||null==a.n1C1||0==a.n1C1?(this.notasPlanilla[i].n1C1=null,a.n1C1=null):a.n1C1>=n&&a.n1C1<=e?this.notasPlanilla[i].n1C1=a.n1C1:(this.notasPlanilla[i].n1C1=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n1C1+" no es válida."),a.n1C1=null),""==a.n2C1||null==a.n2C1||0==a.n2C1?(this.notasPlanilla[i].n2C1=null,a.n2C1=null):a.n2C1>=n&&a.n2C1<=e?this.notasPlanilla[i].n2C1=a.n2C1:(this.notasPlanilla[i].n2C1=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n2C1+" no es válida."),a.n2C1=null),""==a.n3C1||null==a.n3C1||0==a.n3C1?(this.notasPlanilla[i].n3C1=null,a.n3C1=null):a.n3C1>=n&&a.n3C1<=e?this.notasPlanilla[i].n3C1=a.n3C1:(this.notasPlanilla[i].n3C1=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n3C1+" no es válida."),a.n3C1=null),""==a.n4C1||null==a.n4C1||0==a.n4C1?(this.notasPlanilla[i].n4C1=null,a.n4C1=null):a.n4C1>=n&&a.n4C1<=e?this.notasPlanilla[i].n4C1=a.n4C1:(this.notasPlanilla[i].n4C1=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n4C1+" no es válida."),a.n4C1=null),""==a.n5C1||null==a.n5C1||0==a.n5C1?(this.notasPlanilla[i].n5C1=null,a.n5C1=null):a.n5C1>=n&&a.n5C1<=e?this.notasPlanilla[i].n5C1=a.n5C1:(this.notasPlanilla[i].n5C1=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n5C1+" no es válida."),a.n5C1=null);var l=0,o=0;this.notasPlanilla[i].n1C1>0&&(o+=Number(this.notasPlanilla[i].n1C1),l++),this.notasPlanilla[i].n2C1>0&&(o+=Number(this.notasPlanilla[i].n2C1),l++),this.notasPlanilla[i].n3C1>0&&(o+=Number(this.notasPlanilla[i].n3C1),l++),this.notasPlanilla[i].n4C1>0&&(o+=Number(this.notasPlanilla[i].n4C1),l++),this.notasPlanilla[i].n5C1>0&&(o+=Number(this.notasPlanilla[i].n5C1),l++),0==l?(this.notasPlanilla[i].defC1=null,this.notasPlanilla[i].definitiva=null):(this.notasPlanilla[i].defC1=this.redondear(o/l),1==this.planillita&&(this.notasPlanilla[i].definitiva=this.redondear(o/l)),2==this.planillita&&(this.notasPlanilla[i].definitiva=this.redondear(Number(Number(this.notasPlanilla[i].defC1)*this.configuracionPlanilla.porcentajeC1/100)+Number(Number(this.notasPlanilla[i].defC2)*this.configuracionPlanilla.porcentajeC2/100))),3==this.planillita&&(this.notasPlanilla[i].definitiva=this.redondear(Number(Number(this.notasPlanilla[i].defC1)*this.configuracionPlanilla.porcentajeC1/100)+Number(Number(this.notasPlanilla[i].defC2)*this.configuracionPlanilla.porcentajeC2/100)+Number(Number(this.notasPlanilla[i].defC3)*this.configuracionPlanilla.porcentajeC3/100)))),1==this.configuracionPlanilla.id_tipo?this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minBaj&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minBas?this.notasPlanilla[i].concepto="BAJO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minBas&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minAlt?this.notasPlanilla[i].concepto="BASICO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minAlt&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minSup?this.notasPlanilla[i].concepto="ALTO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minSup&&this.notasPlanilla[i].definitiva<=this.configuracionPlanilla.maxSup?this.notasPlanilla[i].concepto="SUPERIOR":this.notasPlanilla[i].concepto=null:2==this.configuracionPlanilla.id_tipo&&(this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minBajT&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minBasT?this.notasPlanilla[i].concepto="BAJO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minBasT&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minAltT?this.notasPlanilla[i].concepto="BASICO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minAltT&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minSupT?this.notasPlanilla[i].concepto="ALTO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minSupT&&this.notasPlanilla[i].definitiva<=this.configuracionPlanilla.maxSupT?this.notasPlanilla[i].concepto="SUPERIOR":this.notasPlanilla[i].concepto=null)},actualizarItemC2:function(a){var n=0,e=99;1==this.configuracionPlanilla.id_tipo?(n=this.configuracionPlanilla.minBaj,e=this.configuracionPlanilla.maxSup):2==this.configuracionPlanilla.id_tipo&&(n=this.configuracionPlanilla.minBajT,e=this.configuracionPlanilla.maxSupT);var i=this.notasPlanilla.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.n1C2||null==a.n1C2||0==a.n1C2?(this.notasPlanilla[i].n1C2=null,a.n1C2=null):a.n1C2>=n&&a.n1C2<=e?this.notasPlanilla[i].n1C2=a.n1C2:(this.notasPlanilla[i].n1C2=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n1C2+" no es válida."),a.n1C2=null),""==a.n2C2||null==a.n2C2||0==a.n2C2?(this.notasPlanilla[i].n2C2=null,a.n2C2=null):a.n2C2>=n&&a.n2C2<=e?this.notasPlanilla[i].n2C2=a.n2C2:(this.notasPlanilla[i].n2C2=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n2C2+" no es válida."),a.n2C2=null),""==a.n3C2||null==a.n3C2||0==a.n3C2?(this.notasPlanilla[i].n3C2=null,a.n3C2=null):a.n3C2>=n&&a.n3C2<=e?this.notasPlanilla[i].n3C2=a.n3C2:(this.notasPlanilla[i].n3C2=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n3C2+" no es válida."),a.n3C2=null),""==a.n4C2||null==a.n4C2||0==a.n4C2?(this.notasPlanilla[i].n4C2=null,a.n4C2=null):a.n4C2>=n&&a.n4C2<=e?this.notasPlanilla[i].n4C2=a.n4C2:(this.notasPlanilla[i].n4C2=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n4C2+" no es válida."),a.n4C2=null),""==a.n5C2||null==a.n5C2||0==a.n5C2?(this.notasPlanilla[i].n5C2=null,a.n5C2=null):a.n5C2>=n&&a.n5C2<=e?this.notasPlanilla[i].n5C2=a.n5C2:(this.notasPlanilla[i].n5C2=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n5C2+" no es válida."),a.n5C2=null);var l=0,o=0;this.notasPlanilla[i].n1C2>0&&(o+=Number(this.notasPlanilla[i].n1C2),l++),this.notasPlanilla[i].n2C2>0&&(o+=Number(this.notasPlanilla[i].n2C2),l++),this.notasPlanilla[i].n3C2>0&&(o+=Number(this.notasPlanilla[i].n3C2),l++),this.notasPlanilla[i].n4C2>0&&(o+=Number(this.notasPlanilla[i].n4C2),l++),this.notasPlanilla[i].n5C2>0&&(o+=Number(this.notasPlanilla[i].n5C2),l++),0==l?this.notasPlanilla[i].defC2=null:(this.notasPlanilla[i].defC2=this.redondear(o/l),1==this.planillita&&(this.notasPlanilla[i].definitiva=this.redondear(Number(o/l))),2==this.planillita&&(this.notasPlanilla[i].definitiva=this.redondear(Number(Number(this.notasPlanilla[i].defC1)*this.configuracionPlanilla.porcentajeC1/100)+Number(Number(this.notasPlanilla[i].defC2)*this.configuracionPlanilla.porcentajeC2/100))),3==this.planillita&&(this.notasPlanilla[i].definitiva=this.redondear(Number(Number(this.notasPlanilla[i].defC1)*this.configuracionPlanilla.porcentajeC1/100)+Number(Number(this.notasPlanilla[i].defC2)*this.configuracionPlanilla.porcentajeC2/100)+Number(Number(this.notasPlanilla[i].defC3)*this.configuracionPlanilla.porcentajeC3/100)))),1==this.configuracionPlanilla.id_tipo?this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minBaj&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minBas?this.notasPlanilla[i].concepto="BAJO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minBas&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minAlt?this.notasPlanilla[i].concepto="BASICO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minAlt&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minSup?this.notasPlanilla[i].concepto="ALTO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minSup&&this.notasPlanilla[i].definitiva<=this.configuracionPlanilla.maxSup?this.notasPlanilla[i].concepto="SUPERIOR":this.notasPlanilla[i].concepto=null:2==this.configuracionPlanilla.id_tipo&&(this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minBajT&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minBasT?this.notasPlanilla[i].concepto="BAJO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minBasT&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minAltT?this.notasPlanilla[i].concepto="BASICO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minAltT&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minSupT?this.notasPlanilla[i].concepto="ALTO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minSupT&&this.notasPlanilla[i].definitiva<=this.configuracionPlanilla.maxSupT?this.notasPlanilla[i].concepto="SUPERIOR":this.notasPlanilla[i].concepto=null)},actualizarItemC3:function(a){var n=0,e=99;1==this.configuracionPlanilla.id_tipo?(n=this.configuracionPlanilla.minBaj,e=this.configuracionPlanilla.maxSup):2==this.configuracionPlanilla.id_tipo&&(n=this.configuracionPlanilla.minBajT,e=this.configuracionPlanilla.maxSupT);var i=this.notasPlanilla.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.n1C3||null==a.n1C3||0==a.n1C3?(this.notasPlanilla[i].n1C3=null,a.n1C3=null):a.n1C3>=n&&a.n1C3<=e?this.notasPlanilla[i].n1C3=a.n1C3:(this.notasPlanilla[i].n1C3=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n1C3+" no es válida."),a.n1C3=null),""==a.n2C3||null==a.n2C3||0==a.n2C3?(this.notasPlanilla[i].n2C3=null,a.n2C3=null):a.n2C3>=n&&a.n2C3<=e?this.notasPlanilla[i].n2C3=a.n2C3:(this.notasPlanilla[i].n2C3=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n2C3+" no es válida."),a.n2C3=null),""==a.n3C3||null==a.n3C3||0==a.n3C3?(this.notasPlanilla[i].n3C3=null,a.n3C3=null):a.n3C3>=n&&a.n3C3<=e?this.notasPlanilla[i].n3C3=a.n3C3:(this.notasPlanilla[i].n3C3=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n3C3+" no es válida."),a.n3C3=null),""==a.n4C3||null==a.n4C3||0==a.n4C3?(this.notasPlanilla[i].n4C3=null,a.n4C3=null):a.n4C3>=n&&a.n4C3<=e?this.notasPlanilla[i].n4C3=a.n4C3:(this.notasPlanilla[i].n4C3=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n4C3+" no es válida."),a.n4C3=null),""==a.n5C3||null==a.n5C3||0==a.n5C3?(this.notasPlanilla[i].n5C3=null,a.n5C3=null):a.n5C3>=n&&a.n5C3<=e?this.notasPlanilla[i].n5C3=a.n5C3:(this.notasPlanilla[i].n5C3=null,this.mensajeEmergente("danger",s["h"],"La evaluación (nota): "+a.n5C3+" no es válida."),a.n5C3=null);var l=0,o=0;this.notasPlanilla[i].n1C3>0&&(o+=Number(this.notasPlanilla[i].n1C3),l++),this.notasPlanilla[i].n2C3>0&&(o+=Number(this.notasPlanilla[i].n2C3),l++),this.notasPlanilla[i].n3C3>0&&(o+=Number(this.notasPlanilla[i].n3C3),l++),this.notasPlanilla[i].n4C3>0&&(o+=Number(this.notasPlanilla[i].n4C3),l++),this.notasPlanilla[i].n5C3>0&&(o+=Number(this.notasPlanilla[i].n5C3),l++),0==l?this.notasPlanilla[i].defC3=null:(this.notasPlanilla[i].defC3=this.redondear(o/l),1==this.planillita&&(this.notasPlanilla[i].definitiva=this.redondear(Number(o/l))),2==this.planillita&&(this.notasPlanilla[i].definitiva=this.redondear(Number(Number(this.notasPlanilla[i].defC1)*this.configuracionPlanilla.porcentajeC1/100)+Number(Number(this.notasPlanilla[i].defC2)*this.configuracionPlanilla.porcentajeC2/100))),3==this.planillita&&(this.notasPlanilla[i].definitiva=this.redondear(Number(Number(this.notasPlanilla[i].defC1)*this.configuracionPlanilla.porcentajeC1/100)+Number(Number(this.notasPlanilla[i].defC2)*this.configuracionPlanilla.porcentajeC2/100)+Number(Number(this.notasPlanilla[i].defC3)*this.configuracionPlanilla.porcentajeC3/100)))),1==this.configuracionPlanilla.id_tipo?this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minBaj&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minBas?this.notasPlanilla[i].concepto="BAJO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minBas&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minAlt?this.notasPlanilla[i].concepto="BASICO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minAlt&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minSup?this.notasPlanilla[i].concepto="ALTO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minSup&&this.notasPlanilla[i].definitiva<=this.configuracionPlanilla.maxSup?this.notasPlanilla[i].concepto="SUPERIOR":this.notasPlanilla[i].concepto=null:2==this.configuracionPlanilla.id_tipo&&(this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minBajT&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minBasT?this.notasPlanilla[i].concepto="BAJO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minBasT&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minAltT?this.notasPlanilla[i].concepto="BASICO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minAltT&&this.notasPlanilla[i].definitiva<this.configuracionPlanilla.minSupT?this.notasPlanilla[i].concepto="ALTO":this.notasPlanilla[i].definitiva>=this.configuracionPlanilla.minSupT&&this.notasPlanilla[i].definitiva<=this.configuracionPlanilla.maxSupT?this.notasPlanilla[i].concepto="SUPERIOR":this.notasPlanilla[i].concepto=null)},redondear:function(a){var n=Number((10*Math.abs(a)).toPrecision(15));return Math.round(n)/10*Math.sign(a)},tdClassFuncDefinitiva:function(a){return 1==this.configuracionPlanilla.id_tipo?a.definitiva>=this.configuracionPlanilla.minBaj&&a.definitiva<=this.configuracionPlanilla.maxBaj?"text-danger text-center bg-secondary":a.definitiva>=this.configuracionPlanilla.minBas&&a.definitiva<=this.configuracionPlanilla.maxBas?"text-primary text-center bg-secondary":a.definitiva>=this.configuracionPlanilla.minAlt&&a.definitiva<=this.configuracionPlanilla.maxAlt?"text-warning text-center bg-secondary":a.definitiva>=this.configuracionPlanilla.minSup&&a.definitiva<=this.configuracionPlanilla.maxSup?"text-success text-center bg-secondary":"text-secondary text-center bg-secondary":2==this.configuracionPlanilla.id_tipo?a.definitiva>=this.configuracionPlanilla.minBajT&&a.definitiva<=this.configuracionPlanilla.maxBajT?"text-danger text-center bg-secondary":a.definitiva>=this.configuracionPlanilla.minBasT&&a.definitiva<=this.configuracionPlanilla.maxBasT?"text-primary text-center bg-secondary":a.definitiva>=this.configuracionPlanilla.minAltT&&a.definitiva<=this.configuracionPlanilla.maxAltT?"text-warning text-center bg-secondary":a.definitiva>=this.configuracionPlanilla.minSupT&&a.definitiva<=this.configuracionPlanilla.maxSupT?"text-success text-center bg-secondary":"text-secondary text-center bg-secondary":void 0},tdClassFuncConcepto:function(a){return 1==this.configuracionPlanilla.id_tipo?a.definitiva>=this.configuracionPlanilla.minBaj&&a.definitiva<=this.configuracionPlanilla.maxBaj?"text-danger text-center bg-secondary":a.definitiva>=this.configuracionPlanilla.minBas&&a.definitiva<=this.configuracionPlanilla.maxBas?"text-primary text-center bg-secondary":a.definitiva>=this.configuracionPlanilla.minAlt&&a.definitiva<=this.configuracionPlanilla.maxAlt?"text-warning text-center bg-secondary":a.definitiva>=this.configuracionPlanilla.minSup&&a.definitiva<=this.configuracionPlanilla.maxSup?"text-success text-center bg-secondary":"text-secondary text-center bg-secondary":2==this.configuracionPlanilla.id_tipo?a.definitiva>=this.configuracionPlanilla.minBajT&&a.definitiva<=this.configuracionPlanilla.maxBajT?"text-danger text-center bg-secondary":a.definitiva>=this.configuracionPlanilla.minBasT&&a.definitiva<=this.configuracionPlanilla.maxBasT?"text-primary text-center bg-secondary":a.definitiva>=this.configuracionPlanilla.minAltT&&a.definitiva<=this.configuracionPlanilla.maxAltT?"text-warning text-center bg-secondary":a.definitiva>=this.configuracionPlanilla.minSupT&&a.definitiva<=this.configuracionPlanilla.maxSupT?"text-success text-center bg-secondary":"text-secondary text-center bg-secondary":void 0},cargarNotasPeriodo:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.notasPlanilla=[],n.next=3,r.a.get(s["d"]+"docente/notas/planilla",{params:{idCurso:a.configuracionPlanilla.idCurso,idPeriodo:a.configuracionPlanilla.idPeriodo,idPlanilla:a.configuracionPlanilla.idPlanilla,idTipoEsp:a.configuracionPlanilla.id_tipo,idEspecialidad:a.configuracionPlanilla.id_especialidad,vigencia:a.$store.state.aLectivo}}).then((function(n){n.data.error?a.mensajeEmergente("danger",s["h"],n.data.mensaje+" - Notas periodo"):0!=n.data.datos&&(n.data.datos.forEach((function(n){void 0===n.n1C1&&(n.n1C1=null),void 0===n.n2C1&&(n.n2C1=null),void 0===n.n3C1&&(n.n3C1=null),void 0===n.n4C1&&(n.n4C1=null),void 0===n.n5C1&&(n.n5C1=null),void 0===n.defC1&&(n.defC1=null),void 0===n.n1C2&&(n.n1C2=null),void 0===n.n2C2&&(n.n2C2=null),void 0===n.n3C2&&(n.n3C2=null),void 0===n.n4C2&&(n.n4C2=null),void 0===n.n5C2&&(n.n5C2=null),void 0===n.defC2&&(n.defC2=null),void 0===n.n1C3&&(n.n1C3=null),void 0===n.n2C3&&(n.n2C3=null),void 0===n.n3C3&&(n.n3C3=null),void 0===n.n4C3&&(n.n4C3=null),void 0===n.n5C3&&(n.n5C3=null),void 0===n.defC3&&(n.defC3=null),void 0===n.ausJ&&(n.ausJ=null),void 0===n.ausS&&(n.ausS=null),void 0===n.definitiva&&(n.definitiva=null),void 0===n.concepto&&(n.concepto=null),n.id_asignatura_curso=a.configuracionPlanilla.idPlanilla,n.periodo=a.configuracionPlanilla.idPeriodo})),a.notasPlanilla=n.data.datos,setTimeout((function(){a.construirPlanillaNotas(),a.btnCargando=!1}),500))})).catch((function(n){a.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Notas periodo. Intente más tarde."+n)}));case 3:case"end":return n.stop()}}),n)})))()},construirPlanillaNotas:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var e,i,l,o,t,r,c,u,d,f,m,p,b,g,h;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e="",i="",l="",o="",t="",r="",c="",u="",d="",f="",m="",p="",b="",g="",h="",a.planillita=0,1==a.configuracionPlanilla.estadoC1&&0==a.configuracionPlanilla.estadoC2&&0==a.configuracionPlanilla.estadoC3?(a.planillita=1,a.comboColumnas=[{value:"n1C1",text:"N01"+(""==a.encabezados.enc01||null==a.encabezados.enc01?"":" - "+a.encabezados.enc01)},{value:"n2C1",text:"N02"+(""==a.encabezados.enc02||null==a.encabezados.enc02?"":" - "+a.encabezados.enc02)},{value:"n3C1",text:"N03"+(""==a.encabezados.enc03||null==a.encabezados.enc03?"":" - "+a.encabezados.enc03)},{value:"n4C1",text:"N04"+(""==a.encabezados.enc04||null==a.encabezados.enc04?"":" - "+a.encabezados.enc04)},{value:"n5C1",text:"N05"+(""==a.encabezados.enc05||null==a.encabezados.enc05?"":" - "+a.encabezados.enc05)}],0==a.encabezados.val01&&(null!=a.encabezados.enc01&&""!=a.encabezados.enc01||(a.encabezados.enc01="N01"),null!=a.encabezados.enc02&&""!=a.encabezados.enc02||(a.encabezados.enc02="N02"),null!=a.encabezados.enc03&&""!=a.encabezados.enc03||(a.encabezados.enc03="N03"),null!=a.encabezados.enc04&&""!=a.encabezados.enc04||(a.encabezados.enc04="N04"),null!=a.encabezados.enc05&&""!=a.encabezados.enc05||(a.encabezados.enc05="N05"),e=a.encabezados.enc01+"\n___\nEQ",i=a.encabezados.enc02+"\n___\nEQ",l=a.encabezados.enc03+"\n___\nEQ",o=a.encabezados.enc04+"\n___\nEQ",t=a.encabezados.enc05+"\n___\nEQ",a.encabColumnas=[{label:"Apellidos y Nombres Estudiante",width:"30%",field:"estudiante",sortable:!1},{label:"",field:"diversa",sortable:!1,tdClass:a.tdClassFuncDiversa},{label:"N01",field:"n1C1",sortable:!1,tooltip:e},{label:"N02",field:"n2C1",sortable:!1,tooltip:i},{label:"N03",field:"n3C1",sortable:!1,tooltip:l},{label:"N04",field:"n4C1",sortable:!1,tooltip:o},{label:"N05",field:"n5C1",sortable:!1,tooltip:t},{label:"Definitiva",field:"definitiva",sortable:!1,tdClass:a.tdClassFuncDefinitiva},{label:"Concepto",field:"concepto",sortable:!1,tdClass:a.tdClassFuncConcepto},{label:"AJ",field:"ausJ",sortable:!1,tooltip:"Ausencias Justificadas"},{label:"AS",field:"ausS",sortable:!1,tooltip:"Ausencias Sin Justificar"}])):1==a.configuracionPlanilla.estadoC1&&1==a.configuracionPlanilla.estadoC2&&0==a.configuracionPlanilla.estadoC3?(a.planillita=2,a.comboColumnas=[{value:"n1C1",text:"N01"+(""==a.encabezados.enc01||null==a.encabezados.enc01?"":" - "+a.encabezados.enc01)},{value:"n2C1",text:"N02"+(""==a.encabezados.enc02||null==a.encabezados.enc02?"":" - "+a.encabezados.enc02)},{value:"n3C1",text:"N03"+(""==a.encabezados.enc03||null==a.encabezados.enc03?"":" - "+a.encabezados.enc03)},{value:"n4C1",text:"N04"+(""==a.encabezados.enc04||null==a.encabezados.enc04?"":" - "+a.encabezados.enc04)},{value:"n5C1",text:"N05"+(""==a.encabezados.enc05||null==a.encabezados.enc05?"":" - "+a.encabezados.enc05)},{value:"n1C2",text:"N06"+(""==a.encabezados.enc06||null==a.encabezados.enc06?"":" - "+a.encabezados.enc06)},{value:"n2C2",text:"N07"+(""==a.encabezados.enc07||null==a.encabezados.enc07?"":" - "+a.encabezados.enc07)},{value:"n3C2",text:"N08"+(""==a.encabezados.enc08||null==a.encabezados.enc08?"":" - "+a.encabezados.enc08)},{value:"n4C2",text:"N09"+(""==a.encabezados.enc09||null==a.encabezados.enc09?"":" - "+a.encabezados.enc09)},{value:"n5C2",text:"N10"+(""==a.encabezados.enc10||null==a.encabezados.enc10?"":" - "+a.encabezados.enc10)}],0==a.encabezados.val02&&(null!=a.encabezados.enc01&&""!=a.encabezados.enc01||(a.encabezados.enc01="N01"),null!=a.encabezados.enc02&&""!=a.encabezados.enc02||(a.encabezados.enc02="N02"),null!=a.encabezados.enc03&&""!=a.encabezados.enc03||(a.encabezados.enc03="N03"),null!=a.encabezados.enc04&&""!=a.encabezados.enc04||(a.encabezados.enc04="N04"),null!=a.encabezados.enc05&&""!=a.encabezados.enc05||(a.encabezados.enc05="N05"),null!=a.encabezados.enc06&&""!=a.encabezados.enc06||(a.encabezados.enc06="N06"),null!=a.encabezados.enc07&&""!=a.encabezados.enc07||(a.encabezados.enc07="N07"),null!=a.encabezados.enc08&&""!=a.encabezados.enc08||(a.encabezados.enc08="N08"),null!=a.encabezados.enc09&&""!=a.encabezados.enc09||(a.encabezados.enc09="N09"),null!=a.encabezados.enc10&&""!=a.encabezados.enc10||(a.encabezados.enc10="N10"),e=a.encabezados.enc01+"\n___\nEQ",i=a.encabezados.enc02+"\n___\nEQ",l=a.encabezados.enc03+"\n___\nEQ",o=a.encabezados.enc04+"\n___\nEQ",t=a.encabezados.enc05+"\n___\nEQ",r=a.encabezados.enc06+"\n___\nEQ",c=a.encabezados.enc07+"\n___\nEQ",u=a.encabezados.enc08+"\n___\nEQ",d=a.encabezados.enc09+"\n___\nEQ",f=a.encabezados.enc10+"\n___\nEQ",a.encabColumnas=[{label:"Apellidos y Nombres Estudiante",width:"30%",field:"estudiante",sortable:!1},{label:"",field:"diversa",sortable:!1,tdClass:a.tdClassFuncDiversa},{label:"N01",field:"n1C1",sortable:!1,tooltip:e},{label:"N02",field:"n2C1",sortable:!1,tooltip:i},{label:"N03",field:"n3C1",sortable:!1,tooltip:l},{label:"N04",field:"n4C1",sortable:!1,tooltip:o},{label:"N05",field:"n5C1",sortable:!1,tooltip:t},{label:a.configuracionPlanilla.nombreC1+"\n"+a.configuracionPlanilla.porcentajeC1+"%",field:"defC1",sortable:!1,tdClass:a.tdClassFuncC1},{label:"N06",field:"n1C2",sortable:!1,tooltip:r},{label:"N07",field:"n2C2",sortable:!1,tooltip:c},{label:"N08",field:"n3C2",sortable:!1,tooltip:u},{label:"N09",field:"n4C2",sortable:!1,tooltip:d},{label:"N10",field:"n5C2",sortable:!1,tooltip:f},{label:a.configuracionPlanilla.nombreC2+"\n"+a.configuracionPlanilla.porcentajeC2+"%",field:"defC2",sortable:!1,tdClass:a.tdClassFuncC2},{label:"Definitiva",field:"definitiva",sortable:!1,tdClass:a.tdClassFuncDefinitiva},{label:"Concepto",field:"concepto",sortable:!1,tdClass:a.tdClassFuncConcepto},{label:"AJ",field:"ausJ",sortable:!1,tooltip:"Ausencias Justificadas"},{label:"AS",field:"ausS",sortable:!1,tooltip:"Ausencias Sin Justificar"}])):1==a.configuracionPlanilla.estadoC1&&1==a.configuracionPlanilla.estadoC2&&1==a.configuracionPlanilla.estadoC3?(a.planillita=3,a.comboColumnas=[{value:"n1C1",text:"N01"+(""==a.encabezados.enc01||null==a.encabezados.enc01?"":" - "+a.encabezados.enc01)},{value:"n2C1",text:"N02"+(""==a.encabezados.enc02||null==a.encabezados.enc02?"":" - "+a.encabezados.enc02)},{value:"n3C1",text:"N03"+(""==a.encabezados.enc03||null==a.encabezados.enc03?"":" - "+a.encabezados.enc03)},{value:"n4C1",text:"N04"+(""==a.encabezados.enc04||null==a.encabezados.enc04?"":" - "+a.encabezados.enc04)},{value:"n5C1",text:"N05"+(""==a.encabezados.enc05||null==a.encabezados.enc05?"":" - "+a.encabezados.enc05)},{value:"n1C2",text:"N06"+(""==a.encabezados.enc06||null==a.encabezados.enc06?"":" - "+a.encabezados.enc06)},{value:"n2C2",text:"N07"+(""==a.encabezados.enc07||null==a.encabezados.enc07?"":" - "+a.encabezados.enc07)},{value:"n3C2",text:"N08"+(""==a.encabezados.enc08||null==a.encabezados.enc08?"":" - "+a.encabezados.enc08)},{value:"n4C2",text:"N09"+(""==a.encabezados.enc09||null==a.encabezados.enc09?"":" - "+a.encabezados.enc09)},{value:"n5C2",text:"N10"+(""==a.encabezados.enc10||null==a.encabezados.enc10?"":" - "+a.encabezados.enc10)},{value:"n1C3",text:"N11"+(""==a.encabezados.enc11||null==a.encabezados.enc11?"":" - "+a.encabezados.enc11)},{value:"n2C3",text:"N12"+(""==a.encabezados.enc12||null==a.encabezados.enc12?"":" - "+a.encabezados.enc12)},{value:"n3C3",text:"N13"+(""==a.encabezados.enc13||null==a.encabezados.enc13?"":" - "+a.encabezados.enc13)},{value:"n4C3",text:"N14"+(""==a.encabezados.enc14||null==a.encabezados.enc14?"":" - "+a.encabezados.enc14)},{value:"n5C3",text:"N15"+(""==a.encabezados.enc15||null==a.encabezados.enc15?"":" - "+a.encabezados.enc15)}],0==a.encabezados.val03&&(null!=a.encabezados.enc01&&""!=a.encabezados.enc01||(a.encabezados.enc01="N01"),null!=a.encabezados.enc02&&""!=a.encabezados.enc02||(a.encabezados.enc02="N02"),null!=a.encabezados.enc03&&""!=a.encabezados.enc03||(a.encabezados.enc03="N03"),null!=a.encabezados.enc04&&""!=a.encabezados.enc04||(a.encabezados.enc04="N04"),null!=a.encabezados.enc05&&""!=a.encabezados.enc05||(a.encabezados.enc05="N05"),null!=a.encabezados.enc06&&""!=a.encabezados.enc06||(a.encabezados.enc06="N06"),null!=a.encabezados.enc07&&""!=a.encabezados.enc07||(a.encabezados.enc07="N07"),null!=a.encabezados.enc08&&""!=a.encabezados.enc08||(a.encabezados.enc08="N08"),null!=a.encabezados.enc09&&""!=a.encabezados.enc09||(a.encabezados.enc09="N09"),null!=a.encabezados.enc10&&""!=a.encabezados.enc10||(a.encabezados.enc10="N10"),null!=a.encabezados.enc11&&""!=a.encabezados.enc11||(a.encabezados.enc11="N11"),null!=a.encabezados.enc12&&""!=a.encabezados.enc12||(a.encabezados.enc12="N12"),null!=a.encabezados.enc13&&""!=a.encabezados.enc13||(a.encabezados.enc13="N13"),null!=a.encabezados.enc14&&""!=a.encabezados.enc14||(a.encabezados.enc14="N14"),null!=a.encabezados.enc15&&""!=a.encabezados.enc15||(a.encabezados.enc15="N15"),e=a.encabezados.enc01+"\n___\nEQ",i=a.encabezados.enc02+"\n___\nEQ",l=a.encabezados.enc03+"\n___\nEQ",o=a.encabezados.enc04+"\n___\nEQ",t=a.encabezados.enc05+"\n___\nEQ",r=a.encabezados.enc06+"\n___\nEQ",c=a.encabezados.enc07+"\n___\nEQ",u=a.encabezados.enc08+"\n___\nEQ",d=a.encabezados.enc09+"\n___\nEQ",f=a.encabezados.enc10+"\n___\nEQ",m=a.encabezados.enc11+"\n___\nEQ",p=a.encabezados.enc12+"\n___\nEQ",b=a.encabezados.enc13+"\n___\nEQ",g=a.encabezados.enc14+"\n___\nEQ",h=a.encabezados.enc15+"\n___\nEQ",a.encabColumnas=[{label:"Apellidos y Nombres Estudiante",width:"30%",field:"estudiante",sortable:!1},{label:"",field:"diversa",sortable:!1,tdClass:a.tdClassFuncDiversa},{label:"N01",field:"n1C1",sortable:!1,tooltip:e},{label:"N02",field:"n2C1",sortable:!1,tooltip:i},{label:"N03",field:"n3C1",sortable:!1,tooltip:l},{label:"N04",field:"n4C1",sortable:!1,tooltip:o},{label:"N05",field:"n5C1",sortable:!1,tooltip:t},{label:a.configuracionPlanilla.nombreC1+"\n"+a.configuracionPlanilla.porcentajeC1+"%",field:"defC1",sortable:!1,tdClass:a.tdClassFuncC1},{label:"N06",field:"n1C2",sortable:!1,tooltip:r},{label:"N07",field:"n2C2",sortable:!1,tooltip:c},{label:"N08",field:"n3C2",sortable:!1,tooltip:u},{label:"N09",field:"n4C2",sortable:!1,tooltip:d},{label:"N10",field:"n5C2",sortable:!1,tooltip:f},{label:a.configuracionPlanilla.nombreC2+"\n"+a.configuracionPlanilla.porcentajeC2+"%",field:"defC2",sortable:!1,tdClass:a.tdClassFuncC2},{label:"N11",field:"n1C3",sortable:!1,tooltip:m},{label:"N12",field:"n2C3",sortable:!1,tooltip:p},{label:"N13",field:"n3C3",sortable:!1,tooltip:b},{label:"N14",field:"n4C3",sortable:!1,tooltip:g},{label:"N15",field:"n5C3",sortable:!1,tooltip:h},{label:a.configuracionPlanilla.nombreC3+"\n"+a.configuracionPlanilla.porcentajeC3+"%",field:"defC3",sortable:!1,tdClass:a.tdClassFuncC3},{label:"Definitiva",field:"definitiva",sortable:!1,tdClass:a.tdClassFuncDefinitiva},{label:"Concepto",field:"concepto",sortable:!1,tdClass:a.tdClassFuncConcepto},{label:"AJ",field:"ausJ",sortable:!1,tooltip:"Ausencias Justificadas"},{label:"AS",field:"ausS",sortable:!1,tooltip:"Ausencias Sin Justificar"}])):a.mensajeEmergente("danger",s["h"],"Los criterios de evaluación se encuentran mal configurados y no se puede mostrar la planilla de evaluación parcial.");case 17:case"end":return n.stop()}}),n)})))()},actualizarFallas:function(a){var n=this.notasPlanilla.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.ausJ||null==a.ausJ?this.notasPlanilla[n].ausJ=null:this.notasPlanilla[n].ausJ=a.ausJ,""==a.ausS||null==a.ausS?this.notasPlanilla[n].ausS=null:this.notasPlanilla[n].ausS=a.ausS},soloNumeros:function(a){var n=window.Event?a.which:a.keyCode;n>=48&&n<=57||n>=96&&n<=105||8==n||9==n||37==n||39==n||a.preventDefault()},soloDecimales:function(a){var n=window.Event?a.which:a.keyCode;n>=48&&n<=57||n>=96&&n<=105||8==n||9==n||37==n||39==n||110==n||189==n||190==n||a.preventDefault()},tdClassFuncC1:function(a){return 1==this.configuracionPlanilla.id_tipo?a.defC1>=this.configuracionPlanilla.minBaj&&a.defC1<=this.configuracionPlanilla.maxBaj?"text-danger text-center bg-light":a.defC1>=this.configuracionPlanilla.minBas&&a.defC1<=this.configuracionPlanilla.maxBas?"text-primary text-center bg-light":a.defC1>=this.configuracionPlanilla.minAlt&&a.defC1<=this.configuracionPlanilla.maxAlt?"text-warning text-center bg-light":a.defC1>=this.configuracionPlanilla.minSup&&a.defC1<=this.configuracionPlanilla.maxSup?"text-success text-center bg-light":"text-secondary text-center bg-light":2==this.configuracionPlanilla.id_tipo?a.defC1>=this.configuracionPlanilla.minBajT&&a.defC1<=this.configuracionPlanilla.maxBajT?"text-danger text-center bg-light":a.defC1>=this.configuracionPlanilla.minBasT&&a.defC1<=this.configuracionPlanilla.maxBasT?"text-primary text-center bg-light":a.defC1>=this.configuracionPlanilla.minAltT&&a.defC1<=this.configuracionPlanilla.maxAltT?"text-warning text-center bg-light":a.defC1>=this.configuracionPlanilla.minSupT&&a.defC1<=this.configuracionPlanilla.maxSupT?"text-success text-center bg-light":"text-secondary text-center bg-light":void 0},tdClassFuncC2:function(a){return 1==this.configuracionPlanilla.id_tipo?a.defC2>=this.configuracionPlanilla.minBaj&&a.defC2<=this.configuracionPlanilla.maxBaj?"text-danger text-center bg-light":a.defC2>=this.configuracionPlanilla.minBas&&a.defC2<=this.configuracionPlanilla.maxBas?"text-primary text-center bg-light":a.defC2>=this.configuracionPlanilla.minAlt&&a.defC2<=this.configuracionPlanilla.maxAlt?"text-warning text-center bg-light":a.defC2>=this.configuracionPlanilla.minSup&&a.defC2<=this.configuracionPlanilla.maxSup?"text-success text-center bg-light":"text-secondary text-center bg-light":2==this.configuracionPlanilla.id_tipo?a.defC2>=this.configuracionPlanilla.minBajT&&a.defC2<=this.configuracionPlanilla.maxBajT?"text-danger text-center bg-light":a.defC2>=this.configuracionPlanilla.minBasT&&a.defC2<=this.configuracionPlanilla.maxBasT?"text-primary text-center bg-light":a.defC2>=this.configuracionPlanilla.minAltT&&a.defC2<=this.configuracionPlanilla.maxAltT?"text-warning text-center bg-light":a.defC2>=this.configuracionPlanilla.minSupT&&a.defC2<=this.configuracionPlanilla.maxSupT?"text-success text-center bg-light":"text-secondary text-center bg-light":void 0},tdClassFuncC3:function(a){return 1==this.configuracionPlanilla.id_tipo?a.defC3>=this.configuracionPlanilla.minBaj&&a.defC3<=this.configuracionPlanilla.maxBaj?"text-danger text-center bg-light":a.defC3>=this.configuracionPlanilla.minBas&&a.defC3<=this.configuracionPlanilla.maxBas?"text-primary text-center bg-light":a.defC3>=this.configuracionPlanilla.minAlt&&a.defC3<=this.configuracionPlanilla.maxAlt?"text-warning text-center bg-light":a.defC3>=this.configuracionPlanilla.minSup&&a.defC3<=this.configuracionPlanilla.maxSup?"text-success text-center bg-light":"text-secondary text-center bg-light":2==this.configuracionPlanilla.id_tipo?a.defC3>=this.configuracionPlanilla.minBajT&&a.defC3<=this.configuracionPlanilla.maxBajT?"text-danger text-center bg-light":a.defC3>=this.configuracionPlanilla.minBasT&&a.defC3<=this.configuracionPlanilla.maxBasT?"text-primary text-center bg-light":a.defC3>=this.configuracionPlanilla.minAltT&&a.defC3<=this.configuracionPlanilla.maxAltT?"text-warning text-center bg-light":a.defC3>=this.configuracionPlanilla.minSupT&&a.defC3<=this.configuracionPlanilla.maxSupT?"text-success text-center bg-light":"text-secondary text-center bg-light":void 0},tdClassFuncDiversa:function(a){if("S"==a.id_diversa)return"text-center alert alert-warning"},cargarEncabezados:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.encabezados={},n.next=3,r.a.get(s["d"]+"docente/configuracion/planilla",{params:{idPlanilla:a.configuracionPlanilla.idPlanilla,idPeriodo:a.configuracionPlanilla.idPeriodo}}).then((function(n){n.data.error?a.mensajeEmergente("danger",s["h"],n.data.mensaje+" - Encabezados Planilla"):0!=n.data.datos&&(a.encabezados=n.data.datos)})).catch((function(n){a.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Encabezados Planilla. Intente más tarde."+n)}));case 3:case"end":return n.stop()}}),n)})))()},handleKeyNavigation:function(a,n,e){if("ArrowDown"===a.key){var i=this.$refs["".concat(e,"-").concat(n+1)];i&&i.focus()}else if("ArrowUp"===a.key){var l=this.$refs["".concat(e,"-").concat(n-1)];l&&l.focus()}},pasteExcelData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var e,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.clipboard.readText();case 3:e=n.sent,i=e.split("\n"),i.forEach((function(n,e){n=n.substr(0,3),n=n.replace(/,/g,"."),1==a.configuracionPlanilla.id_tipo?(isNaN(n)||n<a.configuracionPlanilla.minBaj||n>a.configuracionPlanilla.maxSup)&&(n=""):2==a.configuracionPlanilla.id_tipo?(isNaN(n)||n<a.configuracionPlanilla.minBajT||n>a.configuracionPlanilla.maxSupT)&&(n=""):n="";var i=n.split("\t");a.notasPlanilla[e]&&("n1C1"==a.idColumnaCopiar?a.notasPlanilla[e].n1C1=i[0]||a.notasPlanilla[e].n1C1:"n2C1"==a.idColumnaCopiar?a.notasPlanilla[e].n2C1=i[0]||a.notasPlanilla[e].n2C1:"n3C1"==a.idColumnaCopiar?a.notasPlanilla[e].n3C1=i[0]||a.notasPlanilla[e].n3C1:"n4C1"==a.idColumnaCopiar?a.notasPlanilla[e].n4C1=i[0]||a.notasPlanilla[e].n4C1:"n5C1"==a.idColumnaCopiar?a.notasPlanilla[e].n5C1=i[0]||a.notasPlanilla[e].n5C1:"n1C2"==a.idColumnaCopiar?a.notasPlanilla[e].n1C2=i[0]||a.notasPlanilla[e].n1C2:"n2C2"==a.idColumnaCopiar?a.notasPlanilla[e].n2C2=i[0]||a.notasPlanilla[e].n2C2:"n3C2"==a.idColumnaCopiar?a.notasPlanilla[e].n3C2=i[0]||a.notasPlanilla[e].n3C2:"n4C2"==a.idColumnaCopiar?a.notasPlanilla[e].n4C2=i[0]||a.notasPlanilla[e].n4C2:"n5C2"==a.idColumnaCopiar?a.notasPlanilla[e].n5C2=i[0]||a.notasPlanilla[e].n5C2:"n1C3"==a.idColumnaCopiar?a.notasPlanilla[e].n1C3=i[0]||a.notasPlanilla[e].n1C3:"n2C3"==a.idColumnaCopiar?a.notasPlanilla[e].n2C3=i[0]||a.notasPlanilla[e].n2C3:"n3C3"==a.idColumnaCopiar?a.notasPlanilla[e].n3C3=i[0]||a.notasPlanilla[e].n3C3:"n4C3"==a.idColumnaCopiar?a.notasPlanilla[e].n4C3=i[0]||a.notasPlanilla[e].n4C3:"n5C3"==a.idColumnaCopiar&&(a.notasPlanilla[e].n5C3=i[0]||a.notasPlanilla[e].n5C3),a.actualizarItemC1(a.notasPlanilla[e]),a.actualizarItemC2(a.notasPlanilla[e]),a.actualizarItemC3(a.notasPlanilla[e]))})),a.cambioActivo=!0,n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),a.mensajeEmergente("danger",s["h"],"No es posible pegar los datos. Intente nuevamente seleccionar y copiar los datos desde Excel.");case 12:a.cancelarVentana();case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},seleccionarColumnaPegarExcel:function(){this.idColumnaCopiar=null,this.$refs["modalSeleccionarColumna"].show()},cancelarVentana:function(){this.idColumnaCopiar=null,this.$refs["modalSeleccionarColumna"].hide()},mensajeEmergente:function(a,n,e){this.$bvToast.toast(e,{title:n,variant:a,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.cargarEncabezados(),this.cargarNotasPeriodo()}}),v=P,w=(e("ba02"),Object(p["a"])(v,h,C,!1,null,null,null)),x=w.exports,_=function(){var a=this,n=a.$createElement,e=a._self._c||n;return e("div",{staticClass:"mt-2"},[a.btnCargando?e("div",[e("div",{staticClass:"text-center m-5 text-primary"},[e("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),e("br"),e("strong",[a._v("Cargando planilla...")])],1)]):e("div",[12==a.$store.state.idRol?e("div",[e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[1==a.cambioActivo?e("b-alert",{attrs:{variant:"danger",show:""}},[e("b",[a._v("Advertencia: ")]),a._v("La planilla se ha modificado, se recomienda guardar la planilla.")]):a._e()],1)],1)],1):a._e(),e("b-row",{staticClass:"mt-2"},[e("b-col",[e("vue-good-table",{ref:"table",attrs:{columns:a.encabColumnas,rows:a.notasPlanillaPree,styleClass:"vgt-table condensed bordered striped",lineNumbers:!0},scopedSlots:a._u([{key:"table-row",fn:function(n){return["estudiante"==n.column.field?e("span",[e("span",[a._v(a._s(n.row.estudiante))])]):a._e(),"diversa"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(n.row.diversa))])])]):a._e(),"definitivapree"==n.column.field?e("span",[e("b-form-input",{ref:"definitivapree-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"1"},on:{blur:function(e){return a.actualizarItemPree(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"definitivapree")}},model:{value:n.row.definitivapree,callback:function(e){a.$set(n.row,"definitivapree",e)},expression:"props.row.definitivapree"}})],1):a._e(),"concepto"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(n.row.concepto))])])]):a._e(),"ausJ"==n.column.field?e("span",[e("b-form-input",{ref:"ausJ-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"2"},on:{blur:function(e){return a.actualizarFallasPree(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"ausJ"),a.soloNumeros(e)}},model:{value:n.row.ausJ,callback:function(e){a.$set(n.row,"ausJ",e)},expression:"props.row.ausJ"}})],1):a._e(),"ausS"==n.column.field?e("span",[e("b-form-input",{ref:"ausS-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"2"},on:{blur:function(e){return a.actualizarFallasPree(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"ausS"),a.soloNumeros(e)}},model:{value:n.row.ausS,callback:function(e){a.$set(n.row,"ausS",e)},expression:"props.row.ausS"}})],1):a._e()]}}])})],1)],1),e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[e("h6",[a._v("Conceptos Valorativos: "),e("span",{staticClass:"ml-3 text-danger"},[a._v(a._s(a.configuracionPlanilla.preeC1)+": ("+a._s(a.configuracionPlanilla.preeL1)+")")]),e("span",{staticClass:"ml-3 text-primary"},[a._v(a._s(a.configuracionPlanilla.preeC2)+": ("+a._s(a.configuracionPlanilla.preeL2)+")")]),e("span",{staticClass:"ml-3 text-warning"},[a._v(a._s(a.configuracionPlanilla.preeC3)+": ("+a._s(a.configuracionPlanilla.preeL3)+")")]),e("span",{staticClass:"ml-3 text-success"},[a._v(a._s(a.configuracionPlanilla.preeC4)+": ("+a._s(a.configuracionPlanilla.preeL4)+")")])])])],1),12==a.$store.state.idRol?e("div",[e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[1==a.cambioActivo?e("b-alert",{attrs:{variant:"danger",show:""}},[e("b",[a._v("Advertencia: ")]),a._v("La planilla se ha modificado, se recomienda guardar la planilla.")]):a._e()],1)],1),a.notasPlanillaPree?e("b-row",[a.botonGuardando?e("b-col",[e("b-button",{staticClass:"mx-1 mt-4",attrs:{variant:"primary",disabled:""}},[e("b-spinner",{attrs:{small:"",type:"grow"}}),a._v(" Guardando la planilla... ")],1)],1):e("b-col",[e("b-button",{staticClass:"small mx-1 mt-4",attrs:{variant:"success",disabled:!a.cambioActivo},on:{click:function(n){a.botonGuardando=!0,a.guardarPlanillaPreescolar()}}},[a._v("Guardar Planilla Parcial")])],1)],1):a._e()],1):a._e(),e("b-modal",{ref:"modalSeleccionarColumna",attrs:{size:"",scrollable:"","hide-footer":"",title:"Seleccionar Columna","ok-only":""}},[e("div",{staticClass:"mx-3"},[e("div",[e("b-row",[e("b-col",{attrs:{lg:"12"}},[e("p",[a._v("Esta opción le permite copiar datos de una hoja de Excel y pegarlos en la columna que usted seleccione.")]),e("p",[a._v("Tenga en cuenta las siguientes condiciones:")]),e("ul",[e("li",[a._v("Los datos se deben copiar desde el portapapeles del sistema. Generalmente se copian con la combianción de teclas (Ctrl+C).")]),e("li",[a._v("Los datos se pegaran en la columna que seleccione.")]),e("li",[a._v("Los datos se pegaran desde la primera fila de la columna seleccionada.")]),e("li",[a._v("Los datos que no sean numéricos no se pegan.")]),e("li",[a._v("Los datos que no cumplan los criterios de validación no se pegan.")])])])],1),e("b-row",[e("b-col",{attrs:{lg:"12"}},[e("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccionar Columna*","label-for":"columna"}},[e("b-form-select",{ref:"columna",attrs:{id:"columna",options:a.comboColumnas},model:{value:a.idColumnaCopiar,callback:function(n){a.idColumnaCopiar=n},expression:"idColumnaCopiar"}})],1)],1),e("b-col",{attrs:{lg:"12",md:"12"}},[e("hr")]),null!=a.idColumnaCopiar?e("b-col",{attrs:{lg:"12",md:"12"}},[e("b-button",{staticClass:"small mt-1 mr-3",attrs:{variant:"primary"},on:{click:function(n){return a.pasteExcelData()}}},[a._v("Pegar Valoraciones")]),e("b-button",{staticClass:"small mt-1 mr-3",attrs:{variant:"secondary"},on:{click:a.cancelarVentana}},[a._v("Cancelar")])],1):a._e()],1)],1)])])],1)])},y=[],z={name:"preeparcialperiodo",props:{configuracionPlanilla:Object},components:{VueGoodTable:d["a"]},data:function(){return{notasPlanillaPree:[],botonGuardando:!1,encabColumnas:[],encabezados:{},idColumnaCopiar:null,comboColumnas:[],cambioActivo:!1,btnCargando:!0}},methods:{guardarPlanillaPreescolar:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.a.put(s["d"]+"docente/notas/planillapree",JSON.stringify(a.notasPlanillaPree),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(n){n.data.error?a.mensajeEmergente("danger",s["h"],n.data.mensaje+" - Actualizar Planilla Preescolar"):(a.mensajeEmergente("success",s["h"],"La planilla parcial de evaluaciones se ha guardado satisfactoriamente."),a.botonGuardando=!1,a.cambioActivo=!1)})).catch((function(n){a.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Planilla Preescolar. Intente más tarde. "+n)}));case 2:case"end":return n.stop()}}),n)})))()},cambioPlanilla:function(){this.cambioActivo=!0},cargarEncabezados:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.encabezados={},n.next=3,r.a.get(s["d"]+"docente/configuracion/planilla",{params:{idPlanilla:a.configuracionPlanilla.idPlanilla,idPeriodo:a.configuracionPlanilla.idPeriodo}}).then((function(n){n.data.error?a.mensajeEmergente("danger",s["h"],n.data.mensaje+" - Encabezados Planilla"):0!=n.data.datos&&(a.encabezados=n.data.datos)})).catch((function(n){a.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Encabezados Planilla. Intente más tarde."+n)}));case 3:case"end":return n.stop()}}),n)})))()},handleKeyNavigation:function(a,n,e){if("ArrowDown"===a.key){var i=this.$refs["".concat(e,"-").concat(n+1)];i&&i.focus()}else if("ArrowUp"===a.key){var l=this.$refs["".concat(e,"-").concat(n-1)];l&&l.focus()}},pasteExcelData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var e,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.clipboard.readText();case 3:e=n.sent,i=e.split("\n"),console.log(i),i.forEach((function(n,e){n=n.substr(0,1),console.log(e,n),n!=a.configuracionPlanilla.preeL1&&n!=a.configuracionPlanilla.preeL2&&n!=a.configuracionPlanilla.preeL3&&n!=a.configuracionPlanilla.preeL4&&(n="");var i=n.split("\t");a.notasPlanilla[e]&&"definitivapree"==a.idColumnaCopiar&&(a.notasPlanilla[e].definitivapree=i[0]||a.notasPlanilla[e].definitivapree)})),a.cambioActivo=!0,n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),a.mensajeEmergente("danger",s["h"],"No es posible pegar los datos. Intente nuevamente seleccionar y copiar los datos desde Excel."+n.t0);case 13:a.cancelarVentana();case 14:case"end":return n.stop()}}),n,null,[[0,10]])})))()},seleccionarColumnaPegarExcel:function(){this.idColumnaCopiar=null,this.$refs["modalSeleccionarColumna"].show()},cargarNotasPeriodoPreescolar:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.notasPlanillaPree=[],n.next=3,r.a.get(s["d"]+"docente/notas/planillapree",{params:{idCurso:a.configuracionPlanilla.idCurso,idPeriodo:a.configuracionPlanilla.idPeriodo,idPlanilla:a.configuracionPlanilla.idPlanilla,vigencia:a.$store.state.aLectivo}}).then((function(n){n.data.error?a.mensajeEmergente("danger",s["h"],n.data.mensaje+" - Notas periodo Preescolar"):0!=n.data.datos&&(n.data.datos.forEach((function(n){void 0===n.ausJ&&(n.ausJ=null),void 0===n.ausS&&(n.ausS=null),void 0===n.definitivapree&&(n.definitivapree=null),void 0===n.concepto&&(n.concepto=null),n.id_asignatura_curso=a.configuracionPlanilla.idPlanilla,n.periodo=a.configuracionPlanilla.idPeriodo})),a.notasPlanillaPree=n.data.datos,setTimeout((function(){a.construirPlanillaNotasPreescolar(),a.btnCargando=!1}),500))})).catch((function(n){a.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Notas periodo. Intente más tarde."+n)}));case 3:case"end":return n.stop()}}),n)})))()},construirPlanillaNotasPreescolar:function(){this.comboColumnas=[{value:"definitivapree",text:"Definitiva"}],this.encabColumnas=[{label:"Apellidos y Nombres Estudiante",width:"30%",field:"estudiante",sortable:!1},{label:"",field:"diversa",sortable:!1,tdClass:this.tdClassFuncDiversa},{label:"Definitiva",field:"definitivapree",sortable:!1},{label:"Concepto",field:"concepto",sortable:!1,tdClass:this.tdClassFuncConceptoPree},{label:"Justificadas",field:"ausJ",sortable:!1},{label:"Sin justificar",field:"ausS",sortable:!1}]},tdClassFuncConceptoPree:function(a){return a.definitivapree==this.configuracionPlanilla.preeL1?"text-danger text-center bg-light":a.definitivapree==this.configuracionPlanilla.preeL2?"text-primary text-center bg-light":a.definitivapree==this.configuracionPlanilla.preeL3?"text-warning text-center bg-light":a.definitivapree==this.configuracionPlanilla.preeL4?"text-success text-center bg-light":"text-secondary bg-light"},tdClassFuncDiversa:function(a){if("S"==a.id_diversa)return"text-center alert alert-warning"},actualizarItemPree:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.definitivapree||null==a.definitivapree?(this.notasPlanillaPree[n].definitivapree=null,a.definitivapree=null):a.definitivapree==this.configuracionPlanilla.preeL1||a.definitivapree==this.configuracionPlanilla.preeL2||a.definitivapree==this.configuracionPlanilla.preeL3||a.definitivapree==this.configuracionPlanilla.preeL4?this.notasPlanillaPree[n].definitivapree=a.definitivapree:(this.notasPlanillaPree[n].definitivapree=null,this.mensajeEmergente("danger",s["h"],"La evaluación: "+a.definitivapree+" no es válida."),a.definitivapree=null),a.definitivapree==this.configuracionPlanilla.preeL1?this.notasPlanillaPree[n].concepto=this.configuracionPlanilla.preeC1:a.definitivapree==this.configuracionPlanilla.preeL2?this.notasPlanillaPree[n].concepto=this.configuracionPlanilla.preeC2:a.definitivapree==this.configuracionPlanilla.preeL3?this.notasPlanillaPree[n].concepto=this.configuracionPlanilla.preeC3:a.definitivapree==this.configuracionPlanilla.preeL4?this.notasPlanillaPree[n].concepto=this.configuracionPlanilla.preeC4:this.notasPlanillaPree[n].concepto=null},actualizarFallasPree:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.ausJ||null==a.ausJ?this.notasPlanillaPree[n].ausJ=null:this.notasPlanillaPree[n].ausJ=a.ausJ,""==a.ausS||null==a.ausS?this.notasPlanillaPree[n].ausS=null:this.notasPlanillaPree[n].ausS=a.ausS},soloNumeros:function(a){var n=window.Event?a.which:a.keyCode;n>=48&&n<=57||n>=96&&n<=105||8==n||9==n||37==n||39==n||a.preventDefault()},cancelarVentana:function(){this.idColumnaCopiar=null,this.$refs["modalSeleccionarColumna"].hide()},mensajeEmergente:function(a,n,e){this.$bvToast.toast(e,{title:n,variant:a,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.cargarEncabezados(),this.cargarNotasPeriodoPreescolar()}},N=z,I=(e("629b"),Object(p["a"])(N,_,y,!1,null,null,null)),S=I.exports,E=function(){var a=this,n=a.$createElement,e=a._self._c||n;return e("div",{staticClass:"mt-2"},[a.btnCargando?e("div",[e("div",{staticClass:"text-center m-5 text-primary"},[e("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),e("br"),e("strong",[a._v("Cargando planilla...")])],1)]):e("div",[12==a.$store.state.idRol?e("div",[e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[1==a.cambioActivo?e("b-alert",{attrs:{variant:"danger",show:""}},[e("b",[a._v("Advertencia: ")]),a._v("La planilla se ha modificado, se recomienda guardar la planilla.")]):a._e()],1)],1)],1):a._e(),e("b-row",{staticClass:"mt-2"},[e("b-col",[e("vue-good-table",{ref:"table",attrs:{columns:a.encabColumnas,rows:a.notasPlanillaPree,styleClass:"vgt-table condensed bordered striped",lineNumbers:!0},scopedSlots:a._u([{key:"table-row",fn:function(n){return["estudiante"==n.column.field?e("span",[e("span",[a._v(a._s(n.row.estudiante))])]):a._e(),"diversa"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(n.row.diversa))])])]):a._e(),"c1"==n.column.field?e("span",[e("b-form-input",{ref:"c1-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"1"},on:{blur:function(e){return a.actualizarItemPreeC1(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"c1")}},model:{value:n.row.c1,callback:function(e){a.$set(n.row,"c1",e)},expression:"props.row.c1"}})],1):a._e(),"c2"==n.column.field?e("span",[e("b-form-input",{ref:"c2-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"1"},on:{blur:function(e){return a.actualizarItemPreeC2(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"c2")}},model:{value:n.row.c2,callback:function(e){a.$set(n.row,"c2",e)},expression:"props.row.c2"}})],1):a._e(),"c3"==n.column.field?e("span",[e("b-form-input",{ref:"c3-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"1"},on:{blur:function(e){return a.actualizarItemPreeC3(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"c3")}},model:{value:n.row.c3,callback:function(e){a.$set(n.row,"c3",e)},expression:"props.row.c3"}})],1):a._e(),"c4"==n.column.field?e("span",[e("b-form-input",{ref:"c4-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"1"},on:{blur:function(e){return a.actualizarItemPreeC4(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"c4")}},model:{value:n.row.c4,callback:function(e){a.$set(n.row,"c4",e)},expression:"props.row.c4"}})],1):a._e(),"c5"==n.column.field?e("span",[e("b-form-input",{ref:"c5-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"1"},on:{blur:function(e){return a.actualizarItemPreeC5(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"c5")}},model:{value:n.row.c5,callback:function(e){a.$set(n.row,"c5",e)},expression:"props.row.c5"}})],1):a._e(),"c6"==n.column.field?e("span",[e("b-form-input",{ref:"c6-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"1"},on:{blur:function(e){return a.actualizarItemPreeC6(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"c6")}},model:{value:n.row.c6,callback:function(e){a.$set(n.row,"c6",e)},expression:"props.row.c6"}})],1):a._e(),"c7"==n.column.field?e("span",[e("b-form-input",{ref:"c7-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"1"},on:{blur:function(e){return a.actualizarItemPreeC7(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"c7")}},model:{value:n.row.c7,callback:function(e){a.$set(n.row,"c7",e)},expression:"props.row.c7"}})],1):a._e(),"c8"==n.column.field?e("span",[e("b-form-input",{ref:"c8-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"1"},on:{blur:function(e){return a.actualizarItemPreeC8(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"c8")}},model:{value:n.row.c8,callback:function(e){a.$set(n.row,"c8",e)},expression:"props.row.c8"}})],1):a._e(),"c9"==n.column.field?e("span",[e("b-form-input",{ref:"c9-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"1"},on:{blur:function(e){return a.actualizarItemPreeC9(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"c9")}},model:{value:n.row.c9,callback:function(e){a.$set(n.row,"c9",e)},expression:"props.row.c9"}})],1):a._e(),"c10"==n.column.field?e("span",[e("b-form-input",{ref:"c10-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"1"},on:{blur:function(e){return a.actualizarItemPreeC10(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"c10")}},model:{value:n.row.c10,callback:function(e){a.$set(n.row,"c10",e)},expression:"props.row.c10"}})],1):a._e(),"ausJ"==n.column.field?e("span",[e("b-form-input",{ref:"ausJ-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"2"},on:{blur:function(e){return a.actualizarFallasPree(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"ausJ"),a.soloNumeros(e)}},model:{value:n.row.ausJ,callback:function(e){a.$set(n.row,"ausJ",e)},expression:"props.row.ausJ"}})],1):a._e(),"ausS"==n.column.field?e("span",[e("b-form-input",{ref:"ausS-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"2"},on:{blur:function(e){return a.actualizarFallasPree(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"ausS"),a.soloNumeros(e)}},model:{value:n.row.ausS,callback:function(e){a.$set(n.row,"ausS",e)},expression:"props.row.ausS"}})],1):a._e()]}}])})],1)],1),e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[e("h6",[a._v("Conceptos Valorativos: "),e("span",{staticClass:"ml-3 text-warning"},[a._v("EN PROCESO: (E)")]),e("span",{staticClass:"ml-3 text-success"},[a._v("LOGRADO: (L)")]),e("span",{staticClass:"ml-3"},[a._v("RECOMENDACIÓN: (R)")])])])],1),12==a.$store.state.idRol?e("div",[e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[1==a.cambioActivo?e("b-alert",{attrs:{variant:"danger",show:""}},[e("b",[a._v("Advertencia: ")]),a._v("La planilla se ha modificado, se recomienda guardar la planilla.")]):a._e()],1)],1),a.notasPlanillaPree?e("b-row",[a.botonGuardando?e("b-col",[e("b-button",{staticClass:"mx-1 mt-4",attrs:{variant:"primary",disabled:""}},[e("b-spinner",{attrs:{small:"",type:"grow"}}),a._v(" Guardando la planilla... ")],1)],1):e("b-col",[e("b-button",{staticClass:"small mx-1 mt-4",attrs:{variant:"success",disabled:!a.cambioActivo},on:{click:function(n){a.botonGuardando=!0,a.guardarPlanillaPreescolar()}}},[a._v("Guardar Planilla Parcial")])],1)],1):a._e()],1):a._e(),e("b-modal",{ref:"modalSeleccionarColumna",attrs:{size:"",scrollable:"","hide-footer":"",title:"Seleccionar Columna","ok-only":""}},[e("div",{staticClass:"mx-3"},[e("div",[e("b-row",[e("b-col",{attrs:{lg:"12"}},[e("p",[a._v("Esta opción le permite copiar datos de una hoja de Excel y pegarlos en la columna que usted seleccione.")]),e("p",[a._v("Tenga en cuenta las siguientes condiciones:")]),e("ul",[e("li",[a._v("Los datos se deben copiar desde el portapapeles del sistema. Generalmente se copian con la combianción de teclas (Ctrl+C).")]),e("li",[a._v("Los datos se pegaran en la columna que seleccione.")]),e("li",[a._v("Los datos se pegaran desde la primera fila de la columna seleccionada.")]),e("li",[a._v("Los datos que no sean numéricos no se pegan.")]),e("li",[a._v("Los datos que no cumplan los criterios de validación no se pegan.")])])])],1),e("b-row",[e("b-col",{attrs:{lg:"12"}},[e("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccionar Columna*","label-for":"columna"}},[e("b-form-select",{ref:"columna",attrs:{id:"columna",options:a.comboColumnas},model:{value:a.idColumnaCopiar,callback:function(n){a.idColumnaCopiar=n},expression:"idColumnaCopiar"}})],1)],1),e("b-col",{attrs:{lg:"12",md:"12"}},[e("hr")]),null!=a.idColumnaCopiar?e("b-col",{attrs:{lg:"12",md:"12"}},[e("b-button",{staticClass:"small mt-1 mr-3",attrs:{variant:"primary"},on:{click:function(n){return a.pasteExcelData()}}},[a._v("Pegar Valoraciones")]),e("b-button",{staticClass:"small mt-1 mr-3",attrs:{variant:"secondary"},on:{click:a.cancelarVentana}},[a._v("Cancelar")])],1):a._e()],1)],1)])])],1)])},k=[],j={name:"preeparcialperiodo",props:{configuracionPlanilla:Object},components:{VueGoodTable:d["a"]},data:function(){return{notasPlanillaPree:[],botonGuardando:!1,encabColumnas:[],encabezados:{},idColumnaCopiar:null,comboColumnas:[],cambioActivo:!1,btnCargando:!0}},methods:{guardarPlanillaPreescolar:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.a.put(s["d"]+"docente/notas/planillapree/rural",JSON.stringify(a.notasPlanillaPree),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(n){n.data.error?a.mensajeEmergente("danger",s["h"],n.data.mensaje+" - Actualizar Planilla Preescolar"):(a.mensajeEmergente("success",s["h"],"La planilla parcial de evaluaciones se ha guardado satisfactoriamente."),a.botonGuardando=!1,a.cambioActivo=!1)})).catch((function(n){a.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Planilla Preescolar. Intente más tarde. "+n)}));case 2:case"end":return n.stop()}}),n)})))()},cambioPlanilla:function(){this.cambioActivo=!0},cargarEncabezados:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.encabezados={},n.next=3,r.a.get(s["d"]+"docente/configuracion/planilla",{params:{idPlanilla:a.configuracionPlanilla.idPlanilla,idPeriodo:a.configuracionPlanilla.idPeriodo}}).then((function(n){n.data.error?a.mensajeEmergente("danger",s["h"],n.data.mensaje+" - Encabezados Planilla"):0!=n.data.datos&&(a.encabezados=n.data.datos)})).catch((function(n){a.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Encabezados Planilla. Intente más tarde."+n)}));case 3:case"end":return n.stop()}}),n)})))()},handleKeyNavigation:function(a,n,e){if("ArrowDown"===a.key){var i=this.$refs["".concat(e,"-").concat(n+1)];i&&i.focus()}else if("ArrowUp"===a.key){var l=this.$refs["".concat(e,"-").concat(n-1)];l&&l.focus()}},pasteExcelData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var e,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.clipboard.readText();case 3:e=n.sent,i=e.split("\n"),console.log(i),i.forEach((function(n,e){n=n.substr(0,1),console.log(e,n),n!=a.configuracionPlanilla.preeL1&&n!=a.configuracionPlanilla.preeL2&&n!=a.configuracionPlanilla.preeL3&&n!=a.configuracionPlanilla.preeL4&&(n="");var i=n.split("\t");a.notasPlanilla[e]&&"definitivapree"==a.idColumnaCopiar&&(a.notasPlanilla[e].definitivapree=i[0]||a.notasPlanilla[e].definitivapree)})),a.cambioActivo=!0,n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),a.mensajeEmergente("danger",s["h"],"No es posible pegar los datos. Intente nuevamente seleccionar y copiar los datos desde Excel."+n.t0);case 13:a.cancelarVentana();case 14:case"end":return n.stop()}}),n,null,[[0,10]])})))()},seleccionarColumnaPegarExcel:function(){this.idColumnaCopiar=null,this.$refs["modalSeleccionarColumna"].show()},cargarNotasPeriodoPreescolar:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.notasPlanillaPree=[],n.next=3,r.a.get(s["d"]+"docente/notas/planillapree/rural",{params:{idCurso:a.configuracionPlanilla.idCurso,idPeriodo:a.configuracionPlanilla.idPeriodo,idPlanilla:a.configuracionPlanilla.idPlanilla,vigencia:a.$store.state.aLectivo}}).then((function(n){n.data.error?a.mensajeEmergente("danger",s["h"],n.data.mensaje+" - Notas periodo Preescolar"):0!=n.data.datos&&(n.data.datos.forEach((function(n){void 0===n.ausJ&&(n.ausJ=null),void 0===n.ausS&&(n.ausS=null),void 0===n.c1&&(n.c1=null),void 0===n.c2&&(n.c2=null),void 0===n.c3&&(n.c3=null),void 0===n.c4&&(n.c4=null),void 0===n.c5&&(n.c5=null),void 0===n.c6&&(n.c6=null),void 0===n.c7&&(n.c7=null),void 0===n.c8&&(n.c8=null),void 0===n.c9&&(n.c9=null),void 0===n.c10&&(n.c10=null),n.id_asignatura_curso=a.configuracionPlanilla.idPlanilla,n.periodo=a.configuracionPlanilla.idPeriodo})),a.notasPlanillaPree=n.data.datos,setTimeout((function(){a.construirPlanillaNotasPreescolar(),a.btnCargando=!1}),500))})).catch((function(n){a.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Notas periodo. Intente más tarde."+n)}));case 3:case"end":return n.stop()}}),n)})))()},construirPlanillaNotasPreescolar:function(){this.comboColumnas=[{value:"c1",text:"c1"}],this.encabColumnas=[{label:"Apellidos y Nombres Estudiante",width:"30%",field:"estudiante",sortable:!1},{label:"",field:"diversa",sortable:!1,tdClass:this.tdClassFuncDiversa},{label:"C1",field:"c1",sortable:!1},{label:"C2",field:"c2",sortable:!1},{label:"C3",field:"c3",sortable:!1},{label:"C4",field:"c4",sortable:!1},{label:"C5",field:"c5",sortable:!1},{label:"C6",field:"c6",sortable:!1},{label:"C7",field:"c7",sortable:!1},{label:"C8",field:"c8",sortable:!1},{label:"C9",field:"c9",sortable:!1},{label:"C10",field:"c10",sortable:!1},{label:"AJ",field:"ausJ",sortable:!1},{label:"AS",field:"ausS",sortable:!1}]},tdClassFuncConceptoPree:function(a){return a.definitivapree==this.configuracionPlanilla.preeL1?"text-danger text-center bg-light":a.definitivapree==this.configuracionPlanilla.preeL2?"text-primary text-center bg-light":a.definitivapree==this.configuracionPlanilla.preeL3?"text-warning text-center bg-light":a.definitivapree==this.configuracionPlanilla.preeL4?"text-success text-center bg-light":"text-secondary bg-light"},tdClassFuncDiversa:function(a){if("S"==a.id_diversa)return"text-center alert alert-warning"},actualizarItemPreeC1:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.c1||null==a.c1?(this.notasPlanillaPree[n].c1=null,a.c1=null):"E"==a.c1||"L"==a.c1||"R"==a.c1?this.notasPlanillaPree[n].c1=a.c1:(this.notasPlanillaPree[n].c1=null,this.mensajeEmergente("danger",s["h"],"La evaluación: "+a.c1+" no es válida."),a.c1=null)},actualizarItemPreeC2:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.c2||null==a.c2?(this.notasPlanillaPree[n].c2=null,a.c2=null):"E"==a.c2||"L"==a.c2||"R"==a.c2?this.notasPlanillaPree[n].c2=a.c2:(this.notasPlanillaPree[n].c2=null,this.mensajeEmergente("danger",s["h"],"La evaluación: "+a.c2+" no es válida."),a.c2=null)},actualizarItemPreeC3:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.c3||null==a.c3?(this.notasPlanillaPree[n].c3=null,a.c3=null):"E"==a.c3||"L"==a.c3||"R"==a.c3?this.notasPlanillaPree[n].c3=a.c3:(this.notasPlanillaPree[n].c3=null,this.mensajeEmergente("danger",s["h"],"La evaluación: "+a.c3+" no es válida."),a.c3=null)},actualizarItemPreeC4:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.c4||null==a.c4?(this.notasPlanillaPree[n].c4=null,a.c4=null):"E"==a.c4||"L"==a.c4||"R"==a.c4?this.notasPlanillaPree[n].c4=a.c4:(this.notasPlanillaPree[n].c4=null,this.mensajeEmergente("danger",s["h"],"La evaluación: "+a.c4+" no es válida."),a.c4=null)},actualizarItemPreeC5:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.c5||null==a.c5?(this.notasPlanillaPree[n].c5=null,a.c5=null):"E"==a.c5||"L"==a.c5||"R"==a.c5?this.notasPlanillaPree[n].c5=a.c5:(this.notasPlanillaPree[n].c5=null,this.mensajeEmergente("danger",s["h"],"La evaluación: "+a.c5+" no es válida."),a.c5=null)},actualizarItemPreeC6:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.c6||null==a.c6?(this.notasPlanillaPree[n].c6=null,a.c6=null):"E"==a.c6||"L"==a.c6||"R"==a.c6?this.notasPlanillaPree[n].c6=a.c6:(this.notasPlanillaPree[n].c6=null,this.mensajeEmergente("danger",s["h"],"La evaluación: "+a.c6+" no es válida."),a.c6=null)},actualizarItemPreeC7:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.c7||null==a.c7?(this.notasPlanillaPree[n].c7=null,a.c7=null):"E"==a.c7||"L"==a.c7||"R"==a.c7?this.notasPlanillaPree[n].c7=a.c7:(this.notasPlanillaPree[n].c7=null,this.mensajeEmergente("danger",s["h"],"La evaluación: "+a.c7+" no es válida."),a.c7=null)},actualizarItemPreeC8:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.c8||null==a.c8?(this.notasPlanillaPree[n].c8=null,a.c8=null):"E"==a.c8||"L"==a.c8||"R"==a.c8?this.notasPlanillaPree[n].c8=a.c8:(this.notasPlanillaPree[n].c8=null,this.mensajeEmergente("danger",s["h"],"La evaluación: "+a.c8+" no es válida."),a.c8=null)},actualizarItemPreeC9:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.c9||null==a.c9?(this.notasPlanillaPree[n].c9=null,a.c9=null):"E"==a.c9||"L"==a.c9||"R"==a.c9?this.notasPlanillaPree[n].c9=a.c9:(this.notasPlanillaPree[n].c9=null,this.mensajeEmergente("danger",s["h"],"La evaluación: "+a.c9+" no es válida."),a.c9=null)},actualizarItemPreeC10:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.c10||null==a.c10?(this.notasPlanillaPree[n].c10=null,a.c10=null):"E"==a.c10||"L"==a.c10||"R"==a.c10?this.notasPlanillaPree[n].c10=a.c10:(this.notasPlanillaPree[n].c10=null,this.mensajeEmergente("danger",s["h"],"La evaluación: "+a.c10+" no es válida."),a.c10=null)},actualizarFallasPree:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.ausJ||null==a.ausJ?this.notasPlanillaPree[n].ausJ=null:this.notasPlanillaPree[n].ausJ=a.ausJ,""==a.ausS||null==a.ausS?this.notasPlanillaPree[n].ausS=null:this.notasPlanillaPree[n].ausS=a.ausS},soloNumeros:function(a){var n=window.Event?a.which:a.keyCode;n>=48&&n<=57||n>=96&&n<=105||8==n||9==n||37==n||39==n||a.preventDefault()},cancelarVentana:function(){this.idColumnaCopiar=null,this.$refs["modalSeleccionarColumna"].hide()},mensajeEmergente:function(a,n,e){this.$bvToast.toast(e,{title:n,variant:a,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.cargarEncabezados(),this.cargarNotasPeriodoPreescolar()}},A=j,L=(e("70d0"),Object(p["a"])(A,E,k,!1,null,null,null)),T=L.exports,J=function(){var a=this,n=a.$createElement,e=a._self._c||n;return e("div",{staticClass:"mt-2"},[a.btnCargando?e("div",[e("div",{staticClass:"text-center m-5 text-primary"},[e("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),e("br"),e("strong",[a._v("Cargando planilla...")])],1)]):e("div",[12==a.$store.state.idRol?e("div",[e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[1==a.cambioActivo?e("b-alert",{attrs:{variant:"danger",show:""}},[e("b",[a._v("Advertencia: ")]),a._v("La planilla se ha modificado, se recomienda guardar la planilla.")]):a._e()],1)],1)],1):a._e(),e("b-row",{staticClass:"mt-2"},[e("b-col",[e("vue-good-table",{ref:"table",attrs:{columns:a.encabColumnas,rows:a.notasPlanillaPree,styleClass:"vgt-table condensed bordered striped",lineNumbers:!0},scopedSlots:a._u([{key:"table-row",fn:function(n){return["estudiante"==n.column.field?e("span",[e("span",[a._v(a._s(n.row.estudiante))])]):a._e(),"diversa"==n.column.field?e("span",[e("span",[e("strong",[a._v(a._s(n.row.diversa))])])]):a._e(),"observaciones"==n.column.field?e("span",[e("b-form-textarea",{ref:"observaciones-"+n.row.originalIndex,attrs:{autocomplete:"off",rows:"4"},on:{blur:function(e){return a.actualizarItemPreeO(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"observaciones")}},model:{value:n.row.observaciones,callback:function(e){a.$set(n.row,"observaciones",e)},expression:"props.row.observaciones"}})],1):a._e(),"compromisos"==n.column.field?e("span",[e("b-form-textarea",{ref:"compromisos-"+n.row.originalIndex,attrs:{autocomplete:"off",rows:"4"},on:{blur:function(e){return a.actualizarItemPreeC(n.row)},change:a.cambioPlanilla,keydown:function(e){return a.handleKeyNavigation(e,n.row.originalIndex,"compromisos")}},model:{value:n.row.compromisos,callback:function(e){a.$set(n.row,"compromisos",e)},expression:"props.row.compromisos"}})],1):a._e(),"ausJ"==n.column.field?e("span",[e("b-form-input",{ref:"ausJ-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"2"},on:{blur:function(e){return a.actualizarFallasPree(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"ausJ"),a.soloNumeros(e)}},model:{value:n.row.ausJ,callback:function(e){a.$set(n.row,"ausJ",e)},expression:"props.row.ausJ"}})],1):a._e(),"ausS"==n.column.field?e("span",[e("b-form-input",{ref:"ausS-"+n.row.originalIndex,attrs:{autocomplete:"off",maxlength:"2"},on:{blur:function(e){return a.actualizarFallasPree(n.row)},change:a.cambioPlanilla,keydown:function(e){a.handleKeyNavigation(e,n.row.originalIndex,"ausS"),a.soloNumeros(e)}},model:{value:n.row.ausS,callback:function(e){a.$set(n.row,"ausS",e)},expression:"props.row.ausS"}})],1):a._e()]}}])})],1)],1),12==a.$store.state.idRol?e("div",[e("b-row",{staticClass:"mt-2"},[e("b-col",{attrs:{lg:"12"}},[1==a.cambioActivo?e("b-alert",{attrs:{variant:"danger",show:""}},[e("b",[a._v("Advertencia: ")]),a._v("La planilla se ha modificado, se recomienda guardar la planilla.")]):a._e()],1)],1),a.notasPlanillaPree?e("b-row",[a.botonGuardando?e("b-col",[e("b-button",{staticClass:"mx-1 mt-4",attrs:{variant:"primary",disabled:""}},[e("b-spinner",{attrs:{small:"",type:"grow"}}),a._v(" Guardando la planilla... ")],1)],1):e("b-col",[e("b-button",{staticClass:"small mx-1 mt-4",attrs:{variant:"success",disabled:!a.cambioActivo},on:{click:function(n){a.botonGuardando=!0,a.guardarPlanillaPreescolar()}}},[a._v("Guardar Planilla")])],1)],1):a._e()],1):a._e(),e("b-modal",{ref:"modalSeleccionarColumna",attrs:{size:"",scrollable:"","hide-footer":"",title:"Seleccionar Columna","ok-only":""}},[e("div",{staticClass:"mx-3"},[e("div",[e("b-row",[e("b-col",{attrs:{lg:"12"}},[e("p",[a._v("Esta opción le permite copiar datos de una hoja de Excel y pegarlos en la columna que usted seleccione.")]),e("p",[a._v("Tenga en cuenta las siguientes condiciones:")]),e("ul",[e("li",[a._v("Los datos se deben copiar desde el portapapeles del sistema. Generalmente se copian con la combianción de teclas (Ctrl+C).")]),e("li",[a._v("Los datos se pegaran en la columna que seleccione.")]),e("li",[a._v("Los datos se pegaran desde la primera fila de la columna seleccionada.")]),e("li",[a._v("Los datos que no sean numéricos no se pegan.")]),e("li",[a._v("Los datos que no cumplan los criterios de validación no se pegan.")])])])],1),e("b-row",[e("b-col",{attrs:{lg:"12"}},[e("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccionar Columna*","label-for":"columna"}},[e("b-form-select",{ref:"columna",attrs:{id:"columna",options:a.comboColumnas},model:{value:a.idColumnaCopiar,callback:function(n){a.idColumnaCopiar=n},expression:"idColumnaCopiar"}})],1)],1),e("b-col",{attrs:{lg:"12",md:"12"}},[e("hr")]),null!=a.idColumnaCopiar?e("b-col",{attrs:{lg:"12",md:"12"}},[e("b-button",{staticClass:"small mt-1 mr-3",attrs:{variant:"primary"},on:{click:function(n){return a.pasteExcelData()}}},[a._v("Pegar Valoraciones")]),e("b-button",{staticClass:"small mt-1 mr-3",attrs:{variant:"secondary"},on:{click:a.cancelarVentana}},[a._v("Cancelar")])],1):a._e()],1)],1)])])],1)])},D=[],$={name:"preeparcialperiodo",props:{configuracionPlanilla:Object},components:{VueGoodTable:d["a"]},data:function(){return{notasPlanillaPree:[],botonGuardando:!1,encabColumnas:[],encabezados:{},idColumnaCopiar:null,comboColumnas:[],cambioActivo:!1,btnCargando:!0}},methods:{guardarPlanillaPreescolar:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.a.put(s["d"]+"docente/notas/planillapree/silvino",JSON.stringify(a.notasPlanillaPree),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(n){n.data.error?a.mensajeEmergente("danger",s["h"],n.data.mensaje+" - Actualizar Planilla Preescolar"):(a.mensajeEmergente("success",s["h"],"La planilla de evaluaciones se ha guardado satisfactoriamente."),a.botonGuardando=!1,a.cambioActivo=!1)})).catch((function(n){a.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Planilla Preescolar. Intente más tarde. "+n)}));case 2:case"end":return n.stop()}}),n)})))()},cambioPlanilla:function(){this.cambioActivo=!0},cargarEncabezados:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.encabezados={},n.next=3,r.a.get(s["d"]+"docente/configuracion/planilla",{params:{idPlanilla:a.configuracionPlanilla.idPlanilla,idPeriodo:a.configuracionPlanilla.idPeriodo}}).then((function(n){n.data.error?a.mensajeEmergente("danger",s["h"],n.data.mensaje+" - Encabezados Planilla"):0!=n.data.datos&&(a.encabezados=n.data.datos)})).catch((function(n){a.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Encabezados Planilla. Intente más tarde."+n)}));case 3:case"end":return n.stop()}}),n)})))()},handleKeyNavigation:function(a,n,e){if("ArrowDown"===a.key){var i=this.$refs["".concat(e,"-").concat(n+1)];i&&i.focus()}else if("ArrowUp"===a.key){var l=this.$refs["".concat(e,"-").concat(n-1)];l&&l.focus()}},pasteExcelData:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var e,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.clipboard.readText();case 3:e=n.sent,i=e.split("\n"),i.forEach((function(n,e){n=n.substr(0,1),n!=a.configuracionPlanilla.preeL1&&n!=a.configuracionPlanilla.preeL2&&n!=a.configuracionPlanilla.preeL3&&n!=a.configuracionPlanilla.preeL4&&(n="");var i=n.split("\t");a.notasPlanilla[e]&&"definitivapree"==a.idColumnaCopiar&&(a.notasPlanilla[e].definitivapree=i[0]||a.notasPlanilla[e].definitivapree)})),a.cambioActivo=!0,n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),a.mensajeEmergente("danger",s["h"],"No es posible pegar los datos. Intente nuevamente seleccionar y copiar los datos desde Excel."+n.t0);case 12:a.cancelarVentana();case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},seleccionarColumnaPegarExcel:function(){this.idColumnaCopiar=null,this.$refs["modalSeleccionarColumna"].show()},cargarNotasPeriodoPreescolar:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.notasPlanillaPree=[],n.next=3,r.a.get(s["d"]+"docente/notas/planillapree/silvino",{params:{idCurso:a.configuracionPlanilla.idCurso,idPeriodo:a.configuracionPlanilla.idPeriodo,idPlanilla:a.configuracionPlanilla.idPlanilla,vigencia:a.$store.state.aLectivo}}).then((function(n){n.data.error?a.mensajeEmergente("danger",s["h"],n.data.mensaje+" - Notas periodo Preescolar"):0!=n.data.datos&&(n.data.datos.forEach((function(n){void 0===n.ausJ&&(n.ausJ=null),void 0===n.ausS&&(n.ausS=null),void 0===n.observaciones&&(n.observaciones=null),void 0===n.compromisos&&(n.compromisos=null),n.id_asignatura_curso=a.configuracionPlanilla.idPlanilla,n.periodo=a.configuracionPlanilla.idPeriodo})),a.notasPlanillaPree=n.data.datos,setTimeout((function(){a.construirPlanillaNotasPreescolar(),a.btnCargando=!1}),500))})).catch((function(n){a.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Notas periodo. Intente más tarde."+n)}));case 3:case"end":return n.stop()}}),n)})))()},construirPlanillaNotasPreescolar:function(){this.comboColumnas=[{value:"definitivapree",text:"Definitiva"}],this.encabColumnas=[{label:"Apellidos y Nombres Estudiante",field:"estudiante",sortable:!1},{label:"",field:"diversa",sortable:!1},{label:"Observaciones",width:"35%",field:"observaciones",sortable:!1},{label:"Compromisos y Asignaciones para los Padres de Familia",width:"35%",field:"compromisos",sortable:!1},{label:"AJ",field:"ausJ",width:"4%",sortable:!1},{label:"AS",field:"ausS",width:"4%",sortable:!1}]},actualizarItemPreeO:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.observaciones||null==a.observaciones?(this.notasPlanillaPree[n].observaciones=null,a.observaciones=null):this.notasPlanillaPree[n].observaciones=a.observaciones},actualizarItemPreeC:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.compromisos||null==a.compromisos?(this.notasPlanillaPree[n].compromisos=null,a.compromisos=null):this.notasPlanillaPree[n].compromisos=a.compromisos},actualizarFallasPree:function(a){var n=this.notasPlanillaPree.findIndex((function(n){return n.idMatricula===a.idMatricula}));""==a.ausJ||null==a.ausJ?this.notasPlanillaPree[n].ausJ=null:this.notasPlanillaPree[n].ausJ=a.ausJ,""==a.ausS||null==a.ausS?this.notasPlanillaPree[n].ausS=null:this.notasPlanillaPree[n].ausS=a.ausS},soloNumeros:function(a){var n=window.Event?a.which:a.keyCode;n>=48&&n<=57||n>=96&&n<=105||8==n||9==n||37==n||39==n||a.preventDefault()},cancelarVentana:function(){this.idColumnaCopiar=null,this.$refs["modalSeleccionarColumna"].hide()},mensajeEmergente:function(a,n,e){this.$bvToast.toast(e,{title:n,variant:a,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.cargarEncabezados(),this.cargarNotasPeriodoPreescolar()}},B=$,O=(e("0cb0"),Object(p["a"])(B,J,D,!1,null,null,null)),F=O.exports,R={name:"consultaplanillas",components:{ComportamientoParcialPeriodo:g,NotasParcialPeriodo:x,PreeParcialPeriodo:S,PreeParcialPeriodoRural:T,PreeParcialPeriodoSilvino:F},data:function(){return{idPeriodo:null,comboPeriodos:[],idDocente:null,comboDocentes:[],idPlanilla:null,comboPlanillas:[],listaPlanillasDocente:[],configuracionPlanilla:{},planillita:null}},methods:{verPlanilla:function(){99==this.configuracionPlanilla.orden?this.planillita=3:this.configuracionPlanilla.id_nivel>1&&this.configuracionPlanilla.id_nivel<7?this.planillita=1:1==this.configuracionPlanilla.id_nivel?"097b7b10-fcaa-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion?this.planillita=4:"c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion?this.planillita=5:this.planillita=2:this.mensajeEmergente("info",s["h"],"Lo sentimos, debe seleccionar una planilla para consultar las valoraciones.")},cargarConfiguracionPlanilla:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.configuracionPlanilla={},a.planillita=0,a.listaPlanillasDocente.forEach((function(n){n.idPlanilla==a.idPlanilla&&(a.configuracionPlanilla=n,a.configuracionPlanilla.idPeriodo=a.idPeriodo)}));case 3:case"end":return n.stop()}}),n)})))()},cargarPlanillasDocente:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.listaPlanillasDocente=[],a.comboPlanillas=[],n.next=4,r.a.get(s["d"]+"docente/planillasasignadas/docente",{params:{idInstitucion:a.$store.state.idInstitucion,vigencia:a.$store.state.aLectivo,idDocente:a.idDocente}}).then((function(n){n.data.error?(alert(n.data.mensaje+" - Consulta Asignación Docente"),location.replace(s["c"])):0!=n.data.datos&&(a.listaPlanillasDocente=n.data.datos,a.listaPlanillasDocente.forEach((function(n){a.comboPlanillas.push({value:n.idPlanilla,text:n.nomenclatura.toUpperCase()+" - "+n.asignatura.toUpperCase()})})))})).catch((function(a){alert("Algo salio mal y no se pudo realizar: Consulta Asignación Docente. Intente más tarde. "+a),location.replace(s["e"])}));case 4:case"end":return n.stop()}}),n)})))()},ocuparComboDocentes:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.comboDocentes=[],a.$store.state.datosDocentes.forEach((function(n){a.comboDocentes.push({value:n.id,text:n.docente.toUpperCase()})}));case 2:case"end":return n.stop()}}),n)})))()},ocuparComboPeriodos:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.comboPeriodos=[],a.$store.state.periodos.forEach((function(n){a.comboPeriodos.push({value:n.id,text:n.periodo.toUpperCase()})}));case 2:case"end":return n.stop()}}),n)})))()},mensajeEmergente:function(a,n,e){this.$bvToast.toast(e,{title:n,variant:a,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.ocuparComboPeriodos(),this.ocuparComboDocentes()}},K=R,M=Object(p["a"])(K,i,l,!1,null,null,null);n["default"]=M.exports},4826:function(a,n,e){},"629b":function(a,n,e){"use strict";e("c861")},"70d0":function(a,n,e){"use strict";e("759b")},"759b":function(a,n,e){},"96cf":function(a,n,e){var i=function(a){"use strict";var n,e=Object.prototype,i=e.hasOwnProperty,l="function"===typeof Symbol?Symbol:{},o=l.iterator||"@@iterator",t=l.asyncIterator||"@@asyncIterator",r=l.toStringTag||"@@toStringTag";function s(a,n,e){return Object.defineProperty(a,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),a[n]}try{s({},"")}catch(A){s=function(a,n,e){return a[n]=e}}function c(a,n,e,i){var l=n&&n.prototype instanceof g?n:g,o=Object.create(l.prototype),t=new E(i||[]);return o._invoke=z(a,e,t),o}function u(a,n,e){try{return{type:"normal",arg:a.call(n,e)}}catch(A){return{type:"throw",arg:A}}}a.wrap=c;var d="suspendedStart",f="suspendedYield",m="executing",p="completed",b={};function g(){}function h(){}function C(){}var P={};P[o]=function(){return this};var v=Object.getPrototypeOf,w=v&&v(v(k([])));w&&w!==e&&i.call(w,o)&&(P=w);var x=C.prototype=g.prototype=Object.create(P);function _(a){["next","throw","return"].forEach((function(n){s(a,n,(function(a){return this._invoke(n,a)}))}))}function y(a,n){function e(l,o,t,r){var s=u(a[l],a,o);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"===typeof d&&i.call(d,"__await")?n.resolve(d.__await).then((function(a){e("next",a,t,r)}),(function(a){e("throw",a,t,r)})):n.resolve(d).then((function(a){c.value=a,t(c)}),(function(a){return e("throw",a,t,r)}))}r(s.arg)}var l;function o(a,i){function o(){return new n((function(n,l){e(a,i,n,l)}))}return l=l?l.then(o,o):o()}this._invoke=o}function z(a,n,e){var i=d;return function(l,o){if(i===m)throw new Error("Generator is already running");if(i===p){if("throw"===l)throw o;return j()}e.method=l,e.arg=o;while(1){var t=e.delegate;if(t){var r=N(t,e);if(r){if(r===b)continue;return r}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(i===d)throw i=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i=m;var s=u(a,n,e);if("normal"===s.type){if(i=e.done?p:f,s.arg===b)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(i=p,e.method="throw",e.arg=s.arg)}}}function N(a,e){var i=a.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(a.iterator["return"]&&(e.method="return",e.arg=n,N(a,e),"throw"===e.method))return b;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var l=u(i,a.iterator,e.arg);if("throw"===l.type)return e.method="throw",e.arg=l.arg,e.delegate=null,b;var o=l.arg;return o?o.done?(e[a.resultName]=o.value,e.next=a.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,b):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,b)}function I(a){var n={tryLoc:a[0]};1 in a&&(n.catchLoc=a[1]),2 in a&&(n.finallyLoc=a[2],n.afterLoc=a[3]),this.tryEntries.push(n)}function S(a){var n=a.completion||{};n.type="normal",delete n.arg,a.completion=n}function E(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(I,this),this.reset(!0)}function k(a){if(a){var e=a[o];if(e)return e.call(a);if("function"===typeof a.next)return a;if(!isNaN(a.length)){var l=-1,t=function e(){while(++l<a.length)if(i.call(a,l))return e.value=a[l],e.done=!1,e;return e.value=n,e.done=!0,e};return t.next=t}}return{next:j}}function j(){return{value:n,done:!0}}return h.prototype=x.constructor=C,C.constructor=h,h.displayName=s(C,r,"GeneratorFunction"),a.isGeneratorFunction=function(a){var n="function"===typeof a&&a.constructor;return!!n&&(n===h||"GeneratorFunction"===(n.displayName||n.name))},a.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,C):(a.__proto__=C,s(a,r,"GeneratorFunction")),a.prototype=Object.create(x),a},a.awrap=function(a){return{__await:a}},_(y.prototype),y.prototype[t]=function(){return this},a.AsyncIterator=y,a.async=function(n,e,i,l,o){void 0===o&&(o=Promise);var t=new y(c(n,e,i,l),o);return a.isGeneratorFunction(e)?t:t.next().then((function(a){return a.done?a.value:t.next()}))},_(x),s(x,r,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},a.keys=function(a){var n=[];for(var e in a)n.push(e);return n.reverse(),function e(){while(n.length){var i=n.pop();if(i in a)return e.value=i,e.done=!1,e}return e.done=!0,e}},a.values=k,E.prototype={constructor:E,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(S),!a)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var a=this.tryEntries[0],n=a.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var e=this;function l(i,l){return r.type="throw",r.arg=a,e.next=i,l&&(e.method="next",e.arg=n),!!l}for(var o=this.tryEntries.length-1;o>=0;--o){var t=this.tryEntries[o],r=t.completion;if("root"===t.tryLoc)return l("end");if(t.tryLoc<=this.prev){var s=i.call(t,"catchLoc"),c=i.call(t,"finallyLoc");if(s&&c){if(this.prev<t.catchLoc)return l(t.catchLoc,!0);if(this.prev<t.finallyLoc)return l(t.finallyLoc)}else if(s){if(this.prev<t.catchLoc)return l(t.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<t.finallyLoc)return l(t.finallyLoc)}}}},abrupt:function(a,n){for(var e=this.tryEntries.length-1;e>=0;--e){var l=this.tryEntries[e];if(l.tryLoc<=this.prev&&i.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var o=l;break}}o&&("break"===a||"continue"===a)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var t=o?o.completion:{};return t.type=a,t.arg=n,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(t)},complete:function(a,n){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&n&&(this.next=n),b},finish:function(a){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===a)return this.complete(e.completion,e.afterLoc),S(e),b}},catch:function(a){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===a){var i=e.completion;if("throw"===i.type){var l=i.arg;S(e)}return l}}throw new Error("illegal catch attempt")},delegateYield:function(a,e,i){return this.delegate={iterator:k(a),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),b}},a}(a.exports);try{regeneratorRuntime=i}catch(l){Function("r","regeneratorRuntime = r")(i)}},ba02:function(a,n,e){"use strict";e("4826")},c861:function(a,n,e){},dfaf:function(a,n,e){}}]);
//# sourceMappingURL=chunk-5182990f.ac3c7bdf.js.map