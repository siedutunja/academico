(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0be309"],{"2ecc":function(e,o,a){"use strict";a.r(o);var t=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("div",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("h3",{staticClass:"ml-2"},[a("b-icon",{attrs:{icon:"person-lines-fill","aria-hidden":"true"}}),e._v(" PERFIL DEL USUARIO")],1)])],1),a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),e._v(" DATOS DEL USUARIO")],1)]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"float-right text-medium-emphasis text-info"},[e._v("* Campo requerido")]),a("b-button",{staticClass:"small",attrs:{variant:"primary"},on:{click:e.validarDatosFormulario}},[e._v("Actualizar Datos del Usuario")]),a("b-button",{staticClass:"small mx-3",attrs:{variant:"secondary"},on:{click:e.cancelarFormulario}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Primer Apellido*","label-for":"ape1"}},[a("b-form-input",{ref:"ape1",attrs:{id:"ape1",state:e.validateStateP("apellido1"),"aria-describedby":"feedApe1",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.datosPersona.apellido1.$model,callback:function(o){e.$set(e.$v.datosPersona.apellido1,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.apellido1.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedApe1"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{attrs:{label:"Segundo Apellido","label-for":"ape2"}},[a("b-form-input",{ref:"ape2",attrs:{id:"ape2",state:e.validateStateP("apellido2"),"aria-describedby":"feedApe2",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.datosPersona.apellido2.$model,callback:function(o){e.$set(e.$v.datosPersona.apellido2,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.apellido2.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedApe2"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Primer Nombre*","label-for":"nom1"}},[a("b-form-input",{ref:"nom1",attrs:{id:"nom1",state:e.validateStateP("nombre1"),"aria-describedby":"feedNom1",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.datosPersona.nombre1.$model,callback:function(o){e.$set(e.$v.datosPersona.nombre1,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.nombre1.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedNom1"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Segundo Nombre","label-for":"nom2"}},[a("b-form-input",{ref:"nom2",attrs:{id:"nom2",state:e.validateStateP("nombre2"),"aria-describedby":"feedNom2",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.datosPersona.nombre2.$model,callback:function(o){e.$set(e.$v.datosPersona.nombre2,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.nombre2.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedNom2"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Número de Documento*","label-for":"doc"}},[a("b-form-input",{ref:"doc",attrs:{id:"doc","aria-describedby":"feedDoc",autocomplete:"off",maxlength:"20",disabled:""},model:{value:e.datosPersona.documento,callback:function(o){e.$set(e.datosPersona,"documento",o)},expression:"datosPersona.documento"}}),a("b-form-invalid-feedback",{attrs:{id:"feedDoc"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Tipo Documento*","label-for":"tipoDoc"}},[a("b-form-select",{ref:"tipoDoc",attrs:{id:"tipoDoc",options:e.comboTiposDoc,state:e.validateStateP("id_tipo_documento"),"aria-describedby":"feedTipoDoc"},model:{value:e.$v.datosPersona.id_tipo_documento.$model,callback:function(o){e.$set(e.$v.datosPersona.id_tipo_documento,"$model",o)},expression:"$v.datosPersona.id_tipo_documento.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedTipoDoc"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Expedición del Documento*","label-for":"muniDoc"}},[a("b-form-select",{ref:"muniDoc",attrs:{id:"muniDoc",options:e.comboMunicipios,state:e.validateStateP("id_municipio_documento"),"aria-describedby":"feedMuniDoc"},model:{value:e.$v.datosPersona.id_municipio_documento.$model,callback:function(o){e.$set(e.$v.datosPersona.id_municipio_documento,"$model",o)},expression:"$v.datosPersona.id_municipio_documento.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedMuniDoc"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Fecha de Nacimiento*","label-for":"fechaN"}},[a("b-form-input",{ref:"fechaN",attrs:{id:"fechaN",type:"date",state:e.validateStateP("fecha_nacimiento"),"aria-describedby":"feedFechaN"},model:{value:e.$v.datosPersona.fecha_nacimiento.$model,callback:function(o){e.$set(e.$v.datosPersona.fecha_nacimiento,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.fecha_nacimiento.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedFechaN"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Género*","label-for":"genero"}},[a("b-form-select",{ref:"genero",attrs:{id:"genero",options:e.comboGeneros,state:e.validateStateP("id_genero"),"aria-describedby":"feedGenero"},model:{value:e.$v.datosPersona.id_genero.$model,callback:function(o){e.$set(e.$v.datosPersona.id_genero,"$model",o)},expression:"$v.datosPersona.id_genero.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedGenero"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Grupo y Factor RH*","label-for":"rh"}},[a("b-form-select",{ref:"rh",attrs:{id:"rh",options:e.comboRhs,state:e.validateStateP("id_rh"),"aria-describedby":"feedRh"},model:{value:e.$v.datosPersona.id_rh.$model,callback:function(o){e.$set(e.$v.datosPersona.id_rh,"$model",o)},expression:"$v.datosPersona.id_rh.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedRh"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Dirección de Residencia*","label-for":"dir"}},[a("b-form-input",{ref:"dir",attrs:{id:"dir",state:e.validateStateP("direccion"),"aria-describedby":"feedDir",autocomplete:"off",maxlength:"100"},model:{value:e.$v.datosPersona.direccion.$model,callback:function(o){e.$set(e.$v.datosPersona.direccion,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.direccion.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedDir"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Residencia*","label-for":"muniRes"}},[a("b-form-select",{ref:"muniRes",attrs:{id:"muniRes",options:e.comboMunicipios,state:e.validateStateP("id_municipio_direccion"),"aria-describedby":"feedMuniRes"},model:{value:e.$v.datosPersona.id_municipio_direccion.$model,callback:function(o){e.$set(e.$v.datosPersona.id_municipio_direccion,"$model",o)},expression:"$v.datosPersona.id_municipio_direccion.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedMuniRes"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Teléfono Principal*","label-for":"tel1"}},[a("b-form-input",{ref:"tel1",attrs:{id:"tel1",state:e.validateStateP("telefono1"),"aria-describedby":"feedTel1",autocomplete:"off",maxlength:"10"},on:{keydown:e.soloNumeros},model:{value:e.$v.datosPersona.telefono1.$model,callback:function(o){e.$set(e.$v.datosPersona.telefono1,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.telefono1.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedTel1"}},[e._v("El número debe contener 10 dígitos.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Teléfono Opcional","label-for":"tel2"}},[a("b-form-input",{ref:"tel2",attrs:{id:"tel2",state:e.validateStateP("telefono2"),"aria-describedby":"feedTel2",autocomplete:"off",maxlength:"10"},on:{keydown:e.soloNumeros},model:{value:e.$v.datosPersona.telefono2.$model,callback:function(o){e.$set(e.$v.datosPersona.telefono2,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.telefono2.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedTel2"}},[e._v("El número debe contener 10 dígitos.")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Correo Electrónico*","label-for":"correo"}},[a("b-form-input",{ref:"correo",attrs:{id:"correo",state:e.validateStateP("correo"),"aria-describedby":"feedCorreo",autocomplete:"off",maxlength:"50"},model:{value:e.$v.datosPersona.correo.$model,callback:function(o){e.$set(e.$v.datosPersona.correo,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.correo.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedCorreo"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Cargo*","label-for":"cargo"}},[a("b-form-input",{ref:"cargo",attrs:{id:"cargo",state:e.validateStateP("cargo"),"aria-describedby":"feedCargo",autocomplete:"off",maxlength:"50",disabled:""},model:{value:e.$v.datosPersona.cargo.$model,callback:function(o){e.$set(e.$v.datosPersona.cargo,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.cargo.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedCargo"}},[e._v("Campo requerido.")])],1)],1)],1)],1)],1)],1)],1)],1)},r=[],n=a("1da1"),i=(a("159b"),a("96cf"),a("bc3a")),s=a.n(i),d=a("9c40"),l=a("1dce"),c=a("b5ae"),m={name:"perfilusuario",mixins:[l["validationMixin"]],components:{},data:function(){return{datosPersona:{id:null,documento:null,id_tipo_documento:null,id_municipio_documento:null,nombre1:null,nombre2:null,apellido1:null,apellido2:null,id_genero:null,fecha_nacimiento:null,id_rh:null,direccion:null,id_municipio_direccion:null,telefono1:null,telefono2:null,correo:null,cargo:null},comboTiposDoc:[],comboMunicipios:[],comboGeneros:[],comboRhs:[]}},validations:{datosPersona:{id_tipo_documento:{required:c["required"]},id_municipio_documento:{required:c["required"]},nombre1:{required:c["required"]},nombre2:{minLength:Object(c["minLength"])(0)},apellido1:{required:c["required"]},apellido2:{minLength:Object(c["minLength"])(0)},fecha_nacimiento:{required:c["required"]},id_genero:{required:c["required"]},id_rh:{required:c["required"]},direccion:{required:c["required"]},id_municipio_direccion:{required:c["required"]},telefono1:{required:c["required"],minLength:Object(c["minLength"])(10)},telefono2:{minLength:Object(c["minLength"])(0)},correo:{required:c["required"],minLength:Object(c["minLength"])(5)},cargo:{required:c["required"]}}},methods:{validarDatosFormulario:function(){var e=this;return this.$v.datosPersona.$touch(),this.$v.datosPersona.$anyError?(this.mensajeEmergente("danger",d["h"],"Algunos campos están incompletos."),!1):(this.$bvModal.msgBoxConfirm("¿Esta seguro de actualizar los datos del usuario?",{title:"Actualizar Datos del Usuario",size:"",buttonSize:"",okVariant:"primary",okTitle:"Si, Actualizar Datos del Usuario",cancelTitle:"Cancelar",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(o){o&&e.actualizarDatosPersona()})),!0)},actualizarDatosPersona:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.datosPersona.apellido1=e.datosPersona.apellido1.toUpperCase(),""==e.datosPersona.apellido2||null==e.datosPersona.apellido2?e.datosPersona.apellido2=null:e.datosPersona.apellido2=e.datosPersona.apellido2.toUpperCase(),e.datosPersona.nombre1=e.datosPersona.nombre1.toUpperCase(),""==e.datosPersona.nombre2||null==e.datosPersona.nombre2?e.datosPersona.nombre2=null:e.datosPersona.nombre2=e.datosPersona.nombre2.toUpperCase(),""!=e.datosPersona.telefono2&&null!=e.datosPersona.telefono2||e.datosPersona.telefono2,e.datosPersona.correo=e.datosPersona.correo.toLowerCase(),e.datosPersona.cargo=e.datosPersona.cargo.toUpperCase(),o.next=9,s.a.put(d["d"]+"academico/perfil/usuario",JSON.stringify(e.datosPersona),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(o){o.data.error?e.mensajeEmergente("danger",d["h"],o.data.mensaje+" - Actualizar Perfil Usuario"):(e.consultaDatosPersona(),e.mensajeEmergente("success",d["h"],"Los datos del usuario de han actualizados correctamente."))})).catch((function(o){e.mensajeEmergente("danger",d["h"],"Algo salio mal y no se pudo realizar: Actualizar Perfil Usuario. Intente más tarde. "+o)}));case 9:case"end":return o.stop()}}),o)})))()},consultaDatosPersona:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,s.a.get(d["d"]+"academico/personas/perfil",{params:{idPersona:e.$store.state.idPersona}}).then((function(o){o.data.error?e.mensajeEmergente("danger",d["h"],o.data.mensaje+" - Consulta Perfil Persona"):0!=o.data.datos&&(e.datosPersona=o.data.datos,null!=e.datosPersona.fecha_nacimiento&&(e.datosPersona.fecha_nacimiento=e.datosPersona.fecha_nacimiento.substr(0,10)))})).catch((function(o){e.mensajeEmergente("danger",d["h"],"Algo salio mal y no se pudo realizar: Consulta Perfil Persona. Intente más tarde. "+o)}));case 2:case"end":return o.stop()}}),o)})))()},soloLetras:function(e){var o=window.Event?e.which:e.keyCode;o>=65&&o<=90||o>=97&&o<=122||193==o||201==o||205==o||211==o||218==o||225==o||233==o||237==o||243==o||250==o||192==o||32==o||8==o||9==o||37==o||39==o||e.preventDefault()},soloNumeros:function(e){var o=window.Event?e.which:e.keyCode;o>=48&&o<=57||o>=96&&o<=105||8==o||9==o||37==o||39==o||e.preventDefault()},cancelarFormulario:function(){this.$router.push("/inicio")},ocuparComboTiposDoc:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.comboTiposDoc=[],o.next=3,s.a.get(d["d"]+"combos/listatiposdocumentos").then((function(o){o.data.error?e.mensajeEmergente("danger",d["h"],o.data.mensaje+" - Lista Tipos Documento"):0!=o.data.datos&&o.data.datos.forEach((function(o){e.comboTiposDoc.push({value:o.id,text:o.documento.toUpperCase()})}))})).catch((function(o){e.mensajeEmergente("danger",d["h"],"Algo salio mal y no se pudo realizar: Lista Tipos Documento. Intente más tarde. "+o)}));case 3:case"end":return o.stop()}}),o)})))()},ocuparComboMunicipios:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.comboMunicipios=[],o.next=3,s.a.get(d["d"]+"combos/listamunicipios").then((function(o){o.data.error?e.mensajeEmergente("danger",d["h"],o.data.mensaje+" - Lista Municipios"):0!=o.data.datos&&o.data.datos.forEach((function(o){e.comboMunicipios.push({value:o.id,text:o.municipio.toUpperCase()+" - "+o.departamento.toUpperCase()})}))})).catch((function(o){e.mensajeEmergente("danger",d["h"],"Algo salio mal y no se pudo realizar: Lista Municipios. Intente más tarde. "+o)}));case 3:case"end":return o.stop()}}),o)})))()},ocuparComboGeneros:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.comboGeneros=[],o.next=3,s.a.get(d["d"]+"combos/listageneros").then((function(o){o.data.error?e.mensajeEmergente("danger",d["h"],o.data.mensaje+" - Lista Generos"):0!=o.data.datos&&o.data.datos.forEach((function(o){e.comboGeneros.push({value:o.id,text:o.genero.toUpperCase()})}))})).catch((function(o){e.mensajeEmergente("danger",d["h"],"Algo salio mal y no se pudo realizar: Lista Generos. Intente más tarde. "+o)}));case 3:case"end":return o.stop()}}),o)})))()},ocuparComboRhs:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.comboRhs=[],o.next=3,s.a.get(d["d"]+"combos/listarhs").then((function(o){o.data.error?e.mensajeEmergente("danger",d["h"],o.data.mensaje+" - Lista Rhs"):0!=o.data.datos&&o.data.datos.forEach((function(o){e.comboRhs.push({value:o.id,text:o.rh.toUpperCase()})}))})).catch((function(o){e.mensajeEmergente("danger",d["h"],"Algo salio mal y no se pudo realizar: Lista Rhs. Intente más tarde. "+o)}));case 3:case"end":return o.stop()}}),o)})))()},validateStateP:function(e){var o=this.$v.datosPersona[e],a=o.$dirty,t=o.$error;return a?!t:null},mensajeEmergente:function(e,o,a){this.$bvToast.toast(a,{title:o,variant:e,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.consultaDatosPersona(),this.ocuparComboTiposDoc(),this.ocuparComboMunicipios(),this.ocuparComboGeneros(),this.ocuparComboRhs()}},u=m,f=a("2877"),p=Object(f["a"])(u,t,r,!1,null,null,null);o["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0be309.6de1f0dc.js.map