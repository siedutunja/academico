(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-114b0bfe"],{"03c2":function(t,e,a){},"0cfe":function(t,e,a){},1074:function(t,e,a){"use strict";a("b4a5")},"1d7e":function(t,e,a){},"2c79":function(t,e,a){"use strict";a("e5e8")},"2d77":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" LISTADOS DE ESTUDIANTES")],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-card",{attrs:{"bg-variant":"light","text-variant":""}},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"3"}},[a("h6",[t._v("Por Grados-Cursos")]),a("b-form-group",{attrs:{label:""},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.ariaDescribedby;return[a("b-form-radio",{attrs:{"aria-describedby":o,name:"some-radios",value:"1"},model:{value:t.idInforme,callback:function(e){t.idInforme=e},expression:"idInforme"}},[t._v("Planillas por Curso")]),a("b-form-radio",{attrs:{"aria-describedby":o,name:"some-radios",value:"2"},model:{value:t.idInforme,callback:function(e){t.idInforme=e},expression:"idInforme"}},[t._v("Planillas por Grado")]),a("b-form-radio",{attrs:{"aria-describedby":o,name:"some-radios",value:"3"},model:{value:t.idInforme,callback:function(e){t.idInforme=e},expression:"idInforme"}},[t._v("Listas con Datos por Curso")]),a("b-form-radio",{attrs:{"aria-describedby":o,name:"some-radios",value:"4"},model:{value:t.idInforme,callback:function(e){t.idInforme=e},expression:"idInforme"}},[t._v("Listas con Datos por Grado")])]}}])})],1),a("b-col",{attrs:{lg:"3"}},[a("h6",[t._v("Por Docente")]),a("b-form-group",{attrs:{label:""},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.ariaDescribedby;return[a("b-form-radio",{attrs:{"aria-describedby":o,name:"some-radios",value:"10"},model:{value:t.idInforme,callback:function(e){t.idInforme=e},expression:"idInforme"}},[t._v("Auxiliares")]),a("b-form-radio",{attrs:{"aria-describedby":o,name:"some-radios",value:"11"},model:{value:t.idInforme,callback:function(e){t.idInforme=e},expression:"idInforme"}},[t._v("Auxiliares con Notas ")])]}}])})],1),a("b-col",{attrs:{lg:"3"}},[a("h6",[t._v("Formatos")]),a("b-form-group",{attrs:{label:""},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.ariaDescribedby;return[a("b-form-radio",{attrs:{"aria-describedby":o,name:"some-radios",value:"21"},model:{value:t.idInforme,callback:function(e){t.idInforme=e},expression:"idInforme"}},[t._v("Asistencia Semanal")]),a("b-form-radio",{attrs:{"aria-describedby":o,name:"some-radios",value:"22"},model:{value:t.idInforme,callback:function(e){t.idInforme=e},expression:"idInforme"}},[t._v("Actividades Mensual")]),a("b-form-radio",{attrs:{"aria-describedby":o,name:"some-radios",value:"23"},model:{value:t.idInforme,callback:function(e){t.idInforme=e},expression:"idInforme"}},[t._v("Observador")])]}}])})],1),a("b-col",{attrs:{lg:"3"}},[a("h6",[t._v("Otros")]),a("b-form-group",{attrs:{label:""},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.ariaDescribedby;return[a("b-form-radio",{attrs:{"aria-describedby":o,name:"some-radios",value:"30"},model:{value:t.idInforme,callback:function(e){t.idInforme=e},expression:"idInforme"}},[t._v("Por Acudiente")])]}}])})],1)],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[1==t.idInforme?a("div",[a("PlanillasCursos")],1):t._e(),2==t.idInforme?a("div",[a("PlanillasGrados")],1):t._e(),3==t.idInforme?a("div",[a("ListasDatosCursos")],1):t._e(),4==t.idInforme?a("div",[a("ListasDatosGrados")],1):t._e(),10==t.idInforme?a("div",[a("PlanillasCursosDocente")],1):t._e(),11==t.idInforme?a("div",[a("PlanillasCursosDocenteNotas")],1):t._e(),21==t.idInforme?a("div",[a("FormatoAsistenciaSemanal")],1):t._e(),22==t.idInforme?a("div",[a("FormatoActividadMensual")],1):t._e(),23==t.idInforme?a("div",[a("FormatoObservador")],1):t._e(),30==t.idInforme?a("div",[a("ListasPorAcudiente")],1):t._e()])],1)],1)],1)],1)],1)],1)},n=[],s=a("bc3a"),r=a.n(s),i=a("9c40"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" PLANILLAS DE ESTUDIANTES POR CURSO")],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),a("b-row",[a("b-col",{attrs:{lg:"9"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione la Sede:","label-for":"sedes"}},[a("b-form-select",{ref:"sedes",attrs:{id:"sedes",options:t.comboSedes},on:{change:function(e){t.listarCursosSede(),t.cursosConsultados=null}},model:{value:t.idSede,callback:function(e){t.idSede=e},expression:"idSede"}})],1)],1),a("b-col",{staticClass:"mt-2",attrs:{lg:"3"}},[a("b-button",{staticClass:"small mx-1 mt-4",attrs:{variant:"success",disabled:null==t.idSede},on:{click:function(e){return t.seleccionarCursos()}}},[t._v("Seleccionar Cursos")])],1)],1),t.cursosConsultados?a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("hr")]),a("b-col",{attrs:{lg:"3"}},[a("b-card",{attrs:{"bg-variant":"light","text-variant":""}},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Columnas Adicionales:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"numCol",attrs:{id:"numCol",options:t.comboNumeroColumnas},model:{value:t.numeroColumnas,callback:function(e){t.numeroColumnas=e},expression:"numeroColumnas"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Área para las Columnas:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"porcentajeArea",attrs:{id:"porcentajeArea",options:t.comboPorcentajeArea},model:{value:t.porcentajeArea,callback:function(e){t.porcentajeArea=e},expression:"porcentajeArea"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Retirados:")]),a("b-form-checkbox",{ref:"estRetirados",staticClass:"ml-4 m-3",attrs:{id:"estRetirados",name:"check-button",switch:""},model:{value:t.retirados,callback:function(e){t.retirados=e},expression:"retirados"}},[a("span",{staticClass:"ml-2"},[t._v("Listar estudiantes retirados")])])],1)],1)],1)],1)],1)],1),a("b-col",{attrs:{lg:"9"}},[a("b-card",[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),t.btnCargando?t._e():a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1),a("div",[a("hr")]),a("div",{staticClass:"informe-estudiantes"},[a("div",{ref:"contenido"},t._l(t.cursosSeleccionados,(function(e,o){return a("div",{key:e.idCurso,staticClass:"bloque-curso"},[a("div",{staticClass:"encabezado"},[a("p",[t._v("SECRETARÍA DE EDUCACIÓN TERRITORIAL DE TUNJA"),a("br"),a("b",[t._v(t._s(t.$store.state.nombreInstitucion))]),a("br"),t._v("TUNJA - BOYACÁ"),a("br"),t._v("PLANILLAS DE ESTUDIANTES POR CURSO"),a("br")])]),a("table",{staticClass:"tabla-estudiantes"},[a("thead",[a("tr",[a("th",[t._v("Sede: "),a("b",[t._v(t._s(e.sede))])]),a("th",[t._v("Curso: "),a("b",[t._v(t._s(e.curso))])]),a("th",[t._v("Jornada: "),a("b",[t._v(t._s(e.jornada))])]),a("th",[t._v("Año: "),a("b",[t._v(t._s(t.$store.state.aLectivo))])])])])]),a("table",{staticClass:"tabla-estudiantes",staticStyle:{"margin-top":"-20px"}},[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Estudiante")]),t._l(t.numeroColumnas,(function(e){return a("th",{key:e,style:"width: "+t.porcentajeArea/t.numeroColumnas+"%"})}))],2)]),a("tbody",t._l(t.estudiantesPorCurso(e.idCurso),(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(o+1))]),a("td",[2==e.estadoActual?a("span",{staticStyle:{color:"#9C2007"}},[t._v("[R] "+t._s(e.estudiante))]):a("span",[t._v(t._s(e.estudiante))])]),t._l(t.numeroColumnas,(function(t){return a("td",{key:t})}))],2)})),0)]),a("p",{staticClass:"text-muted",staticStyle:{"text-align":"right","margin-top":"-20px","font-size":"11px"}},[a("i",[t._v(t._s(t.fechaImpresion))])]),o<t.cursosSeleccionados.length-1?a("div",{staticClass:"page-break"}):t._e()])})),0)]),a("div",[a("hr")]),a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1)])],1)],1)],1)],1)],1):t._e()],1)],1)],1)],1),a("b-modal",{ref:"modalSeleccionarCursos",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Seleccionar Cursos","ok-only":""}},[a("div",{staticClass:"mx-3"},[a("div",[a("vue-good-table",{ref:"cursitos",attrs:{columns:t.encabColumnasCursos,rows:t.listaCursos,styleClass:"vgt-table condensed bordered striped","line-numbers":!0,"search-options":{enabled:!0,placeholder:"Filtrar cursos..."},"select-options":{enabled:!0,selectionText:"cursos seleccionados",clearSelectionText:"Limpiar"}},scopedSlots:t._u([{key:"selected-row-actions",fn:function(){return[a("button",{staticClass:"small btn btn-success",on:{click:function(e){return t.procesarListasCursos()}}},[t._v("Seleccionar >>")])]},proxy:!0}])},[a("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[a("h5",{staticClass:"text-danger ml-5"},[t._v("No existen Cursos en la Sede")])])])],1)])])],1)},l=[],d=a("1da1"),u=(a("96cf"),a("4de4"),a("159b"),a("d81d"),a("fb6a"),a("dac4"),a("f617")),m=a("1146"),b={name:"planillascursos",props:{},components:{VueGoodTable:u["a"]},data:function(){return{dataConsultada:[],btnCargando:!1,datosSeccion:{},comboNumeroColumnas:[],numeroColumnas:null,porcentajeArea:null,comboPorcentajeArea:[],idSede:null,comboSedes:[],nombreSede:null,cursosConsultados:!1,listaCursos:[],encabColumnasCursos:[{label:"Grado-Curso",field:"curso"},{label:"Jornada",field:"jornada"}],cursosSeleccionados:[],fechaImpresion:null,retirados:!1}},methods:{estudiantesPorCurso:function(t){var e=this;return this.dataConsultada.filter((function(a){return a.idCurso==t&&(!!e.retirados||1==a.estadoActual)}))},imprimir:function(){var t=this.$refs.contenido.innerHTML,e="\n        <style>\n          .encabezado {\n            text-align: center;\n            font-size: 13px;\n          }\n          .informe-estudiantes {\n            font-family: 'Segoe UI', sans-serif;\n            margin: 5px;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 13px;\n            margin-bottom: 20px;\n          }\n          th, td {\n            border: 1px solid #999;\n            padding: 3px;\n            text-align: left;\n          }\n          thead {\n            background-color: #f0f4fa;\n          }\n          @media print {\n            .page-break {\n              page-break-after: always;\n            }\n            body {\n              font-family: 'Segoe UI', sans-serif;\n              margin: 5px;\n              color: #000;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 12px;\n              margin-bottom: 20px;\n            }\n            th, td {\n              border: 1px solid #000;\n              padding: 2px;\n              text-align: left;\n            }\n            thead {\n              background-color: #f0f4fa;\n            }\n          }\n        </style>\n      ",a=window.open("Planillas por Curso","_blank");a.document.write("\n        <html>\n          <head><title>Planilla de Estudiantes</title>".concat(e,'</head>\n          <body">').concat(t,"</body>\n        </html>\n      ")),a.document.close(),a.print()},procesarListasCursos:function(){this.cursosConsultados=!0,this.cursosSeleccionados=this.$refs.cursitos.selectedRows,this.cargarDataEstudiantes(),this.$refs["modalSeleccionarCursos"].hide()},seleccionarCursos:function(){this.$refs["modalSeleccionarCursos"].show()},exportarAExcel:function(){var t=this,e=m["utils"].book_new();this.cursosSeleccionados.forEach((function(a){var o=t.estudiantesPorCurso(a.idCurso),n=o.map((function(t,e){var a={"#":e+1,Estudiante:t.estudiante};return a})),s=m["utils"].json_to_sheet(n);m["utils"].book_append_sheet(e,s,a.curso.slice(0,31))})),m["writeFile"](e,"Planilla Estudiantes Curso.xlsx")},listarCursosSede:function(){var t=this;this.nombreSede=document.getElementById("sedes")[document.getElementById("sedes").selectedIndex].text,this.listaCursos=[],this.$store.state.datosCursos.forEach((function(e){e.id_sede==t.idSede&&t.listaCursos.push({idCurso:e.id,curso:e.nomenclatura.toUpperCase(),jornada:e.jornada,sede:e.sede})}))},ocuparComboSedes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.comboSedes=[],t.$store.state.datosSedes.forEach((function(e){t.comboSedes.push({value:e.id,text:e.sede.toUpperCase()})}));case 2:case"end":return e.stop()}}),e)})))()},cargarDataEstudiantes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnCargando=!0,a=[],t.cursosSeleccionados.forEach((function(t){a.push(t.idCurso)})),o=a.filter((function(t,e,a){return a.indexOf(t)===e})),a=o,e.next=7,r.a.get(i["d"]+"academico/data/estudiantes/cursos",{params:{idInstitucion:t.$store.state.idInstitucion,vigencia:t.$store.state.aLectivo,cursos:JSON.stringify(a)}}).then((function(e){e.data.error?(t.mensajeEmergente("danger",i["h"],e.data.mensaje+" - Consulta Estudiantes"),t.btnCargando=!1):0!=e.data.datos?(t.dataConsultada=e.data.datos,t.btnCargando=!1):(t.dataConsultada=[],t.btnCargando=!1)})).catch((function(e){t.mensajeEmergente("danger",i["h"],"Algo salio mal y no se pudo realizar: Consulta Data Estudiantes. Intente más tarde."+e),t.btnCargando=!1}));case 7:t.btnCargando=!1;case 8:case"end":return e.stop()}}),e)})))()},mensajeEmergente:function(t,e,a){this.$bvToast.toast(a,{title:e,variant:t,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},computed:{},beforeMount:function(){this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1],this.fechaImpresion="Fecha: "+(new Date).toLocaleString(),this.ocuparComboSedes(),this.comboNumeroColumnas=[{value:0,text:"Sin columnas adicionales"},{value:1,text:"1 columna"},{value:2,text:"2 columnas"},{value:3,text:"3 columnas"},{value:4,text:"4 columnas"},{value:5,text:"5 columnas"},{value:6,text:"6 columnas"},{value:7,text:"7 columnas"},{value:8,text:"8 columnas"},{value:9,text:"9 columnas"},{value:10,text:"10 columnas"},{value:11,text:"11 columnas"},{value:12,text:"12 columnas"},{value:13,text:"13 columnas"},{value:14,text:"14 columnas"},{value:15,text:"15 columnas"}],this.comboPorcentajeArea=[{value:10,text:"10%"},{value:20,text:"20%"},{value:30,text:"30%"},{value:40,text:"40%"},{value:50,text:"50%"},{value:60,text:"60%"}],this.porcentajeArea=60,this.numeroColumnas=1}},p=b,v=(a("2c79"),a("2877")),f=Object(v["a"])(p,c,l,!1,null,"ec4c3b64",null),_=f.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" PLANILLAS DE ESTUDIANTES POR GRADO")],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),a("b-row",[a("b-col",{attrs:{lg:"9"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione la Sede:","label-for":"sedes"}},[a("b-form-select",{ref:"sedes",attrs:{id:"sedes",options:t.comboSedes},on:{change:function(e){t.listarGradosSede(),t.gradosConsultados=null}},model:{value:t.idSede,callback:function(e){t.idSede=e},expression:"idSede"}})],1)],1),a("b-col",{staticClass:"mt-2",attrs:{lg:"3"}},[a("b-button",{staticClass:"small mx-1 mt-4",attrs:{variant:"success",disabled:null==t.idSede},on:{click:function(e){return t.seleccionarGrados()}}},[t._v("Seleccionar Grados")])],1)],1),t.gradosConsultados?a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("hr")]),a("b-col",{attrs:{lg:"3"}},[a("b-card",{attrs:{"bg-variant":"light","text-variant":""}},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Columnas Adicionales:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"numCol",attrs:{id:"numCol",options:t.comboNumeroColumnas},model:{value:t.numeroColumnas,callback:function(e){t.numeroColumnas=e},expression:"numeroColumnas"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Área para las Columnas:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"porcentajeArea",attrs:{id:"porcentajeArea",options:t.comboPorcentajeArea},model:{value:t.porcentajeArea,callback:function(e){t.porcentajeArea=e},expression:"porcentajeArea"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Retirados:")]),a("b-form-checkbox",{ref:"estRetirados",staticClass:"ml-4 m-3",attrs:{id:"estRetirados",name:"check-button",switch:""},model:{value:t.retirados,callback:function(e){t.retirados=e},expression:"retirados"}},[a("span",{staticClass:"ml-2"},[t._v("Listar estudiantes retirados")])])],1)],1)],1)],1)],1)],1),a("b-col",{attrs:{lg:"9"}},[a("b-card",[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),t.btnCargando?t._e():a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1),a("div",[a("hr")]),a("div",{staticClass:"informe-estudiantes"},[a("div",{ref:"contenido"},t._l(t.gradosSeleccionados,(function(e,o){return a("div",{key:e.idGrado,staticClass:"bloque-grado"},[a("div",{staticClass:"encabezado"},[a("p",[t._v("SECRETARÍA DE EDUCACIÓN TERRITORIAL DE TUNJA"),a("br"),a("b",[t._v(t._s(t.$store.state.nombreInstitucion))]),a("br"),t._v("TUNJA - BOYACÁ"),a("br"),t._v("PLANILLAS DE ESTUDIANTES POR GRADO"),a("br")])]),a("table",{staticClass:"tabla-estudiantes"},[a("thead",[a("tr",[a("th",[t._v("Sede: "),a("b",[t._v(t._s(e.sede))])]),a("th",[t._v("Grado: "),a("b",[t._v(t._s(e.grado))])]),a("th",[t._v("Año: "),a("b",[t._v(t._s(t.$store.state.aLectivo))])])])])]),a("table",{staticClass:"tabla-estudiantes",staticStyle:{"margin-top":"-20px"}},[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Estudiante")]),a("th",[t._v("Curso")]),t._l(t.numeroColumnas,(function(e){return a("th",{key:e,style:"width: "+t.porcentajeArea/t.numeroColumnas+"%"})}))],2)]),a("tbody",t._l(t.estudiantesPorGrado(e.idGrado),(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(o+1))]),a("td",[2==e.estadoActual?a("span",{staticStyle:{color:"#9C2007"}},[t._v("[R] "+t._s(e.estudiante))]):a("span",[t._v(t._s(e.estudiante))])]),a("td",[t._v(t._s(e.curso))]),t._l(t.numeroColumnas,(function(t){return a("td",{key:t})}))],2)})),0)]),a("p",{staticClass:"text-muted",staticStyle:{"text-align":"right","margin-top":"-20px","font-size":"11px"}},[a("i",[t._v(t._s(t.fechaImpresion))])]),o<t.gradosSeleccionados.length-1?a("div",{staticClass:"page-break"}):t._e()])})),0)]),a("div",[a("hr")]),a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1)])],1)],1)],1)],1)],1):t._e()],1)],1)],1)],1),a("b-modal",{ref:"modalSeleccionarGrados",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Seleccionar Grados","ok-only":""}},[a("div",{staticClass:"mx-3"},[a("div",[a("vue-good-table",{ref:"graditos",attrs:{columns:t.encabColumnasGrados,rows:t.listaGrados,styleClass:"vgt-table condensed bordered striped","line-numbers":!0,"search-options":{enabled:!0,placeholder:"Filtrar grados..."},"select-options":{enabled:!0,selectionText:"grados seleccionados",clearSelectionText:"Limpiar"}},scopedSlots:t._u([{key:"selected-row-actions",fn:function(){return[a("button",{staticClass:"small btn btn-success",on:{click:function(e){return t.procesarListasGrados()}}},[t._v("Seleccionar >>")])]},proxy:!0}])},[a("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[a("h5",{staticClass:"text-danger ml-5"},[t._v("No existen Grados en la Sede")])])])],1)])])],1)},x=[],g={name:"planillasgrados",props:{},components:{VueGoodTable:u["a"]},data:function(){return{dataConsultada:[],btnCargando:!1,datosSeccion:{},comboNumeroColumnas:[],numeroColumnas:null,porcentajeArea:null,comboPorcentajeArea:[],idSede:null,comboSedes:[],nombreSede:null,gradosConsultados:!1,listaGrados:[],encabColumnasGrados:[{label:"Grado",field:"grado"}],gradosSeleccionados:[],fechaImpresion:null,retirados:!1}},methods:{estudiantesPorGrado:function(t){var e=this;return this.dataConsultada.filter((function(a){return a.idGrado==t&&(!!e.retirados||1==a.estadoActual)}))},imprimir:function(){var t=this.$refs.contenido.innerHTML,e="\n        <style>\n          .encabezado {\n            text-align: center;\n            font-size: 13px;\n          }\n          .informe-estudiantes {\n            font-family: 'Segoe UI', sans-serif;\n            margin: 5px;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 13px;\n            margin-bottom: 20px;\n          }\n          th, td {\n            border: 1px solid #999;\n            padding: 3px;\n            text-align: left;\n          }\n          thead {\n            background-color: #f0f4fa;\n          }\n          @media print {\n            .page-break {\n              page-break-after: always;\n            }\n            body {\n              font-family: 'Segoe UI', sans-serif;\n              margin: 5px;\n              color: #000;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 12px;\n              margin-bottom: 20px;\n            }\n            th, td {\n              border: 1px solid #000;\n              padding: 2px;\n              text-align: left;\n            }\n            thead {\n              background-color: #f0f4fa;\n            }\n          }\n        </style>\n      ",a=window.open("Planillas por Grado","_blank");a.document.write("\n        <html>\n          <head><title>Planilla de Estudiantes</title>".concat(e,'</head>\n          <body">').concat(t,"</body>\n        </html>\n      ")),a.document.close(),a.print()},procesarListasGrados:function(){this.gradosConsultados=!0,this.gradosSeleccionados=this.$refs.graditos.selectedRows,this.cargarDataEstudiantes(),this.$refs["modalSeleccionarGrados"].hide()},seleccionarGrados:function(){this.$refs["modalSeleccionarGrados"].show()},exportarAExcel:function(){var t=this,e=m["utils"].book_new();this.gradosSeleccionados.forEach((function(a){var o=t.estudiantesPorGrado(a.idGrado),n=o.map((function(t,e){var a={"#":e+1,Estudiante:t.estudiante,Curso:t.curso};return a})),s=m["utils"].json_to_sheet(n);m["utils"].book_append_sheet(e,s,a.grado.slice(0,31))})),m["writeFile"](e,"Planilla Estudiantes Grado.xlsx")},listarGradosSede:function(){var t=this;this.nombreSede=document.getElementById("sedes")[document.getElementById("sedes").selectedIndex].text,this.listaGrados=[],this.$store.state.datosGrados.forEach((function(e){e.id_sede==t.idSede&&t.listaGrados.push({idGrado:e.id,grado:e.grado.toUpperCase(),sede:e.sede})}))},ocuparComboSedes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.comboSedes=[],t.$store.state.datosSedes.forEach((function(e){t.comboSedes.push({value:e.id,text:e.sede.toUpperCase()})}));case 2:case"end":return e.stop()}}),e)})))()},cargarDataEstudiantes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnCargando=!0,a=[],t.gradosSeleccionados.forEach((function(t){a.push(t.idGrado)})),o=a.filter((function(t,e,a){return a.indexOf(t)===e})),a=o,e.next=7,r.a.get(i["d"]+"academico/data/estudiantes/grados",{params:{idInstitucion:t.$store.state.idInstitucion,vigencia:t.$store.state.aLectivo,cursos:JSON.stringify(a)}}).then((function(e){e.data.error?(t.mensajeEmergente("danger",i["h"],e.data.mensaje+" - Consulta Estudiantes"),t.btnCargando=!1):0!=e.data.datos?(t.dataConsultada=e.data.datos,t.btnCargando=!1):(t.dataConsultada=[],t.btnCargando=!1)})).catch((function(e){t.mensajeEmergente("danger",i["h"],response.data.mensaje+" - Algo salio mal y no se pudo realizar: Consulta Data Estudiantes. Intente más tarde."+e),t.btnCargando=!1}));case 7:case"end":return e.stop()}}),e)})))()},mensajeEmergente:function(t,e,a){this.$bvToast.toast(a,{title:e,variant:t,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},computed:{},beforeMount:function(){this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1],this.fechaImpresion="Fecha: "+(new Date).toLocaleString(),this.ocuparComboSedes(),this.comboNumeroColumnas=[{value:0,text:"Sin columnas adicionales"},{value:1,text:"1 columna"},{value:2,text:"2 columnas"},{value:3,text:"3 columnas"},{value:4,text:"4 columnas"},{value:5,text:"5 columnas"},{value:6,text:"6 columnas"},{value:7,text:"7 columnas"},{value:8,text:"8 columnas"},{value:9,text:"9 columnas"},{value:10,text:"10 columnas"},{value:11,text:"11 columnas"},{value:12,text:"12 columnas"},{value:13,text:"13 columnas"},{value:14,text:"14 columnas"},{value:15,text:"15 columnas"}],this.comboPorcentajeArea=[{value:10,text:"10%"},{value:20,text:"20%"},{value:30,text:"30%"},{value:40,text:"40%"},{value:50,text:"50%"}],this.porcentajeArea=50,this.numeroColumnas=1}},C=g,S=(a("1074"),Object(v["a"])(C,h,x,!1,null,"6233cfee",null)),E=S.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" LISTAS DE ESTUDIANTES POR CURSO")],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),a("b-row",[a("b-col",{attrs:{lg:"9"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione la Sede:","label-for":"sedes"}},[a("b-form-select",{ref:"sedes",attrs:{id:"sedes",options:t.comboSedes},on:{change:function(e){t.listarCursosSede(),t.cursosConsultados=null}},model:{value:t.idSede,callback:function(e){t.idSede=e},expression:"idSede"}})],1)],1),a("b-col",{staticClass:"mt-2",attrs:{lg:"3"}},[a("b-button",{staticClass:"small mx-1 mt-4",attrs:{variant:"success",disabled:null==t.idSede},on:{click:function(e){return t.seleccionarCursos()}}},[t._v("Seleccionar Cursos")])],1)],1),t.cursosConsultados?a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("hr")]),a("b-col",{attrs:{lg:"3"}},[a("b-card",{attrs:{"bg-variant":"light","text-variant":""}},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Datos a adicionar:")]),t._l(t.campos,(function(e){return a("b-form-checkbox",{key:e.value,staticClass:"ml-4 m-2",attrs:{value:e.value,disabled:e.disabled},model:{value:t.camposSeleccionados,callback:function(e){t.camposSeleccionados=e},expression:"camposSeleccionados"}},[t._v(" "+t._s(e.text)+" ")])}))],2)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("hr")])],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Genero:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"idgenero",attrs:{id:"idgenero",options:t.comboGeneros},model:{value:t.idGenero,callback:function(e){t.idGenero=e},expression:"idGenero"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Columnas Adicionales:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"numCol",attrs:{id:"numCol",options:t.comboNumeroColumnas},model:{value:t.numeroColumnas,callback:function(e){t.numeroColumnas=e},expression:"numeroColumnas"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Área para las Columnas:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"porcentajeArea",attrs:{id:"porcentajeArea",options:t.comboPorcentajeArea},model:{value:t.porcentajeArea,callback:function(e){t.porcentajeArea=e},expression:"porcentajeArea"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Retirados:")]),a("b-form-checkbox",{ref:"estRetirados",staticClass:"ml-4 m-3",attrs:{id:"estRetirados",name:"check-button",switch:""},model:{value:t.retirados,callback:function(e){t.retirados=e},expression:"retirados"}},[a("span",{staticClass:"ml-2"},[t._v("Listar estudiantes retirados")])])],1)],1)],1)],1)],1)],1),a("b-col",{attrs:{lg:"9"}},[a("b-card",[a("b-card-text",[t.btnCargando?t._e():a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1),a("div",[a("hr")]),a("div",{staticClass:"informe-estudiantes"},[a("div",{ref:"contenido"},t._l(t.cursosSeleccionados,(function(e,o){return a("div",{key:e.idCurso,staticClass:"bloque-curso"},[a("div",{staticClass:"encabezado"},[a("p",[t._v("SECRETARÍA DE EDUCACIÓN TERRITORIAL DE TUNJA"),a("br"),a("b",[t._v(t._s(t.$store.state.nombreInstitucion))]),a("br"),t._v("TUNJA - BOYACÁ"),a("br"),t._v("LISTAS DE ESTUDIANTES POR CURSO"),a("br")])]),a("table",{staticClass:"tabla-estudiantes"},[a("thead",[a("tr",[a("th",[t._v("Sede: "),a("b",[t._v(t._s(e.sede))])]),a("th",[t._v("Curso: "),a("b",[t._v(t._s(e.curso))])]),a("th",[t._v("Jornada: "),a("b",[t._v(t._s(e.jornada))])]),a("th",[t._v("Año: "),a("b",[t._v(t._s(t.$store.state.aLectivo))])])])])]),a("table",{staticClass:"tabla-estudiantes",staticStyle:{"margin-top":"-20px"}},[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Estudiante")]),t._l(t.camposSeleccionados,(function(e){return a("th",{key:e},[t._v(" "+t._s(t.convertirTitulo(e))+" ")])})),t._l(t.numeroColumnas,(function(e){return a("th",{key:e,style:"width: "+t.porcentajeArea/t.numeroColumnas+"%"})}))],2)]),a("tbody",t._l(t.estudiantesPorCurso(e.idCurso),(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(o+1))]),a("td",[2==e.estadoActual?a("span",{staticStyle:{color:"#9C2007"}},[t._v("[R] "+t._s(e.estudiante))]):a("span",[t._v(t._s(e.estudiante))])]),t._l(t.camposSeleccionados,(function(o){return a("td",{key:o},[t._v(" "+t._s(e[o])+" ")])})),t._l(t.numeroColumnas,(function(t){return a("td",{key:t})}))],2)})),0)]),a("p",{staticClass:"text-muted",staticStyle:{"text-align":"right","margin-top":"-20px","font-size":"11px"}},[a("i",[t._v(t._s(t.fechaImpresion))])]),o<t.cursosSeleccionados.length-1?a("div",{staticClass:"page-break"}):t._e()])})),0)]),a("div",[a("hr")]),a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1)])],1)],1)],1)],1)],1):t._e()],1)],1)],1)],1),a("b-modal",{ref:"modalSeleccionarCursos",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Seleccionar Cursos","ok-only":""}},[a("div",{staticClass:"mx-3"},[a("div",[a("vue-good-table",{ref:"cursitos",attrs:{columns:t.encabColumnasCursos,rows:t.listaCursos,styleClass:"vgt-table condensed bordered striped","line-numbers":!0,"search-options":{enabled:!0,placeholder:"Filtrar cursos..."},"select-options":{enabled:!0,selectionText:"cursos seleccionados",clearSelectionText:"Limpiar"}},scopedSlots:t._u([{key:"selected-row-actions",fn:function(){return[a("button",{staticClass:"small btn btn-success",on:{click:function(e){return t.procesarListasCursos()}}},[t._v("Seleccionar >>")])]},proxy:!0}])},[a("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[a("h5",{staticClass:"text-danger ml-5"},[t._v("No existen Cursos en la Sede")])])])],1)])])],1)},y=[],w={name:"listasdatoscursos",props:{},components:{VueGoodTable:u["a"]},data:function(){return{campos:[],camposSeleccionados:[],dataConsultada:[],btnCargando:!1,datosSeccion:{},comboNumeroColumnas:[],numeroColumnas:null,porcentajeArea:null,comboPorcentajeArea:[],idGenero:null,comboGeneros:[],idSede:null,comboSedes:[],nombreSede:null,cursosConsultados:!1,listaCursos:[],encabColumnasCursos:[{label:"Grado-Curso",field:"curso"},{label:"Jornada",field:"jornada"}],cursosSeleccionados:[],fechaImpresion:null,retirados:!1}},methods:{estudiantesPorCurso:function(t){var e=this;return this.dataConsultada.filter((function(a){return a.idCurso==t&&(!e.idGenero||a.genero===e.idGenero)&&(!!e.retirados||1==a.estadoActual)}))},convertirTitulo:function(t){var e={tipodoc:"Tipo",documento:"Documento",mexp:"MunExp",fnace:"FecNaceEst",mnace:"MunNaceEst",edad:"Edad",genero:"Gen",pais:"País",rh:"Rh",estrato:"Estra",sisben:"Sisben",discapacidad:"Discap",capacidad:"CapaExcep",trastorno:"Trastorno",apoyo:"Apoyo",etnia:"Etnia",victima:"Victima",eps:"Eps",dirE:"DirecciónEst",mdirE:"MunDirEst",barrio:"BarrioEst",zona:"ZonaEst",telefono1:"Tel1Est",telefono2:"Tel2Est",correo:"CorreoEst",especialidad:"Espec",nuevo:"Nuevo",procedencia:"Procedencia",repitente:"Rep",ruta:"Ruta",inclusion:"Inclusión",codigo:"CodEst",papa:"Papá",documentoP:"DocumPapá",fnaceP:"NacePapá",direccionP:"DirecciónPapá",mdirP:"MunDirPapá",barrioP:"BarrioPapá",telefono1P:"Tel1Papá",telefono2P:"Tel2Papá",correoP:"CorreoPapá",ocupacionP:"OcupaciónPapá",mama:"Mamá",documentoM:"DocumMamá",fnaceM:"NaceMamá",direccionM:"DireccionMamá",mdirM:"MunDirMamá",barrioM:"BarrioMamá",telefono1M:"Tel1Mamá",telefono2M:"Tel2Mamá",correoM:"CorreoMamá",ocupacionM:"OcupaciónMamá",acudiente:"Acudiente",documentoA:"DocumAcudiente",fnaceA:"NaceAcudiente",direccionA:"DirAcudiente",mdirA:"MunDirAcudiente",barrioA:"BarrioAcudiente",telefono1A:"Tel1Acudiente",telefono2A:"Tel2Acudiente",correoA:"CorreoAcudiente",ocupacionA:"OcupaciónAcudiente"};return e[t]||t.toUpperCase()},imprimir:function(){(new Date).toLocaleString();var t=this.$refs.contenido.innerHTML,e="\n        <style>\n          .encabezado {\n            text-align: center;\n            font-size: 13px;\n          }\n          .informe-estudiantes {\n            font-family: 'Segoe UI', sans-serif;\n            margin: 5px;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 13px;\n            margin-bottom: 20px;\n          }\n          th, td {\n            border: 1px solid #999;\n            padding: 3px;\n            text-align: left;\n          }\n          thead {\n            background-color: #f0f4fa;\n          }\n          @media print {\n            .page-break {\n              page-break-after: always;\n            }\n            body {\n              font-family: 'Segoe UI', sans-serif;\n              margin: 5px;\n              color: #000;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 12px;\n              margin-bottom: 20px;\n            }\n            th, td {\n              border: 1px solid #000;\n              padding: 2px;\n              text-align: left;\n            }\n            thead {\n              background-color: #f0f4fa;\n            }\n          }\n        </style>\n      ",a=window.open("Listas por Curso","_blank");a.document.write("\n        <html>\n          <head><title>Listado de Estudiantes</title>".concat(e,'</head>\n          <body">').concat(t,"</body>\n        </html>\n      ")),a.document.close(),a.print()},procesarListasCursos:function(){this.cursosConsultados=!0,this.cursosSeleccionados=this.$refs.cursitos.selectedRows,this.cargarDataEstudiantes(),this.$refs["modalSeleccionarCursos"].hide()},seleccionarCursos:function(){this.$refs["modalSeleccionarCursos"].show()},calcularEdad:function(t){var e=new Date,a=new Date(t),o=e.getFullYear()-a.getFullYear(),n=e.getMonth()-a.getMonth();return(n<0||0===n&&e.getDate()<a.getDate())&&o--,o},exportarAExcel:function(){var t=this,e=m["utils"].book_new();this.cursosSeleccionados.forEach((function(a){var o=t.estudiantesPorCurso(a.idCurso),n=o.map((function(e,a){var o={"#":a+1,Estudiante:e.estudiante};return t.camposSeleccionados.forEach((function(a){var n;o[t.convertirTitulo(a)]=null!==(n=e[a])&&void 0!==n?n:""})),o})),s=m["utils"].json_to_sheet(n);m["utils"].book_append_sheet(e,s,a.curso.slice(0,31))})),m["writeFile"](e,"Listado Estudiantes Curso.xlsx")},listarCursosSede:function(){var t=this;this.nombreSede=document.getElementById("sedes")[document.getElementById("sedes").selectedIndex].text,this.listaCursos=[],this.$store.state.datosCursos.forEach((function(e){e.id_sede==t.idSede&&t.listaCursos.push({idCurso:e.id,curso:e.nomenclatura.toUpperCase(),jornada:e.jornada,sede:e.sede})}))},ocuparComboSedes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.comboSedes=[],t.$store.state.datosSedes.forEach((function(e){t.comboSedes.push({value:e.id,text:e.sede.toUpperCase()})}));case 2:case"end":return e.stop()}}),e)})))()},ocuparCombos:function(){this.comboGeneros=[{value:null,text:"TODOS"},{value:"F",text:"FEMENINO"},{value:"M",text:"MASCULINO"}]},cargarDataEstudiantes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnCargando=!0,a=[],t.cursosSeleccionados.forEach((function(t){a.push(t.idCurso)})),o=a.filter((function(t,e,a){return a.indexOf(t)===e})),a=o,e.next=7,r.a.get(i["d"]+"academico/data/estudiantes/cursos/campos",{params:{idInstitucion:t.$store.state.idInstitucion,vigencia:t.$store.state.aLectivo,cursos:JSON.stringify(a)}}).then((function(e){e.data.error?(t.mensajeEmergente("danger",i["h"],e.data.mensaje+" - Consulta Estudiantes"),t.btnCargando=!1):0!=e.data.datos?(t.dataConsultada=e.data.datos,t.dataConsultada.forEach((function(e){e.edad=t.calcularEdad(e.fnace)+" Años"})),t.btnCargando=!1):(t.dataConsultada=[],t.btnCargando=!1)})).catch((function(e){t.mensajeEmergente("danger",i["h"],response.data.mensaje+" - Algo salio mal y no se pudo realizar: Consulta Data Estudiantes. Intente más tarde."+e),t.btnCargando=!1}));case 7:case"end":return e.stop()}}),e)})))()},mensajeEmergente:function(t,e,a){this.$bvToast.toast(a,{title:e,variant:t,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},computed:{},beforeMount:function(){this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1],this.fechaImpresion="Fecha: "+(new Date).toLocaleString(),this.ocuparCombos(),this.ocuparComboSedes(),this.campos=[{value:"estudiante",text:"Estudiante",disabled:!0},{value:"tipodoc",text:"Tipo Documento"},{value:"documento",text:"Documento"},{value:"mexp",text:"Municipio de Expedición"},{value:"fnace",text:"Fecha de Nacimiento"},{value:"mnace",text:"Municipio de Nacimiento"},{value:"edad",text:"Edad"},{value:"genero",text:"Genero"},{value:"pais",text:"País Nacimiento"},{value:"rh",text:"Grupo Sanguineo - Rh"},{value:"estrato",text:"Estrato"},{value:"sisben",text:"Sisben"},{value:"discapacidad",text:"Discapacidad"},{value:"capacidad",text:"Capacidad Excepcional"},{value:"trastorno",text:"Trastorno del Aprendizaje"},{value:"apoyo",text:"Apoyo Académico Especial"},{value:"etnia",text:"Grupo Étnico"},{value:"victima",text:"Victima del Conflicto"},{value:"eps",text:"Eps"},{value:"dirE",text:"Dirección"},{value:"mdirE",text:"Municipio Dirección"},{value:"barrio",text:"Barrio"},{value:"zona",text:"Zona"},{value:"telefono1",text:"Teléfono 1"},{value:"telefono2",text:"Teléfono 2"},{value:"correo",text:"Correo"},{value:"especialidad",text:"Especialidad"},{value:"nuevo",text:"Estudiante Nuevo"},{value:"procedencia",text:"Procedencia"},{value:"repitente",text:"Repitencia"},{value:"ruta",text:"Ruta"},{value:"inclusion",text:"Inclusión"},{value:"codigo",text:"Código Carpeta"},{value:"papa",text:"Papá"},{value:"documentoP",text:"Documento Papá"},{value:"fnaceP",text:"Fecha Nacimiento Papá"},{value:"direccionP",text:"Direccion Papá"},{value:"mdirP",text:"Municipio Dirección Papá"},{value:"barrioP",text:"Barrio Papá"},{value:"telefono1P",text:"Teléfono1 Papá"},{value:"telefono2P",text:"Teléfono2 Papá"},{value:"correoP",text:"Correo Papá"},{value:"ocupacionP",text:"Ocupación Papá"},{value:"mama",text:"Mamá"},{value:"documentoM",text:"Documento Mamá"},{value:"fnaceM",text:"Fecha Nacimiento Mamá"},{value:"direccionM",text:"Direccion Mamá"},{value:"mdirM",text:"Municipio Dirección Mamá"},{value:"barrioM",text:"Barrio Mamá"},{value:"telefono1M",text:"Teléfono1 Mamá"},{value:"telefono2M",text:"Teléfono2 Mamá"},{value:"correoM",text:"Correo Mamá"},{value:"ocupacionM",text:"Ocupación Mamá"},{value:"acudiente",text:"Acudiente"},{value:"documentoA",text:"Documento Acudiente"},{value:"fnaceA",text:"Fecha Nacimiento Acudiente"},{value:"direccionA",text:"Direccion Acudiente"},{value:"mdirA",text:"Municipio Dirección Acudiente"},{value:"barrioA",text:"Barrio Acudiente"},{value:"telefono1A",text:"Teléfono1 Acudiente"},{value:"telefono2A",text:"Teléfono2 Acudiente"},{value:"correoA",text:"Correo Acudiente"},{value:"ocupacionA",text:"Ocupación Acudiente"}],this.comboNumeroColumnas=[{value:0,text:"Sin columnas adicionales"},{value:1,text:"1 columna"},{value:2,text:"2 columnas"},{value:3,text:"3 columnas"},{value:4,text:"4 columnas"},{value:5,text:"5 columnas"},{value:6,text:"6 columnas"},{value:7,text:"7 columnas"},{value:8,text:"8 columnas"},{value:9,text:"9 columnas"},{value:10,text:"10 columnas"},{value:11,text:"11 columnas"},{value:12,text:"12 columnas"},{value:13,text:"13 columnas"},{value:14,text:"14 columnas"},{value:15,text:"15 columnas"}],this.comboPorcentajeArea=[{value:10,text:"10%"},{value:20,text:"20%"},{value:30,text:"30%"},{value:40,text:"40%"},{value:50,text:"50%"},{value:60,text:"60%"}],this.porcentajeArea=60,this.numeroColumnas=0}},k=w,D=(a("9a93"),Object(v["a"])(k,A,y,!1,null,"712e4546",null)),I=D.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" LISTAS DE ESTUDIANTES POR GRADO")],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),a("b-row",[a("b-col",{attrs:{lg:"9"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione la Sede:","label-for":"sedes"}},[a("b-form-select",{ref:"sedes",attrs:{id:"sedes",options:t.comboSedes},on:{change:function(e){t.listarGradosSede(),t.gradosConsultados=null}},model:{value:t.idSede,callback:function(e){t.idSede=e},expression:"idSede"}})],1)],1),a("b-col",{staticClass:"mt-2",attrs:{lg:"3"}},[a("b-button",{staticClass:"small mx-1 mt-4",attrs:{variant:"success",disabled:null==t.idSede},on:{click:function(e){return t.seleccionarGrados()}}},[t._v("Seleccionar Grados")])],1)],1),t.gradosConsultados?a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("hr")]),a("b-col",{attrs:{lg:"3"}},[a("b-card",{attrs:{"bg-variant":"light","text-variant":""}},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Datos a adicionar:")]),t._l(t.campos,(function(e){return a("b-form-checkbox",{key:e.value,staticClass:"ml-4 m-2",attrs:{value:e.value,disabled:e.disabled},model:{value:t.camposSeleccionados,callback:function(e){t.camposSeleccionados=e},expression:"camposSeleccionados"}},[t._v(" "+t._s(e.text)+" ")])}))],2)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("hr")])],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Genero:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"idgenero",attrs:{id:"idgenero",options:t.comboGeneros},model:{value:t.idGenero,callback:function(e){t.idGenero=e},expression:"idGenero"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Columnas Adicionales:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"numCol",attrs:{id:"numCol",options:t.comboNumeroColumnas},model:{value:t.numeroColumnas,callback:function(e){t.numeroColumnas=e},expression:"numeroColumnas"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Área para las Columnas:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"porcentajeArea",attrs:{id:"porcentajeArea",options:t.comboPorcentajeArea},model:{value:t.porcentajeArea,callback:function(e){t.porcentajeArea=e},expression:"porcentajeArea"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Retirados:")]),a("b-form-checkbox",{ref:"estRetirados",staticClass:"ml-4 m-3",attrs:{id:"estRetirados",name:"check-button",switch:""},model:{value:t.retirados,callback:function(e){t.retirados=e},expression:"retirados"}},[a("span",{staticClass:"ml-2"},[t._v("Listar estudiantes retirados")])])],1)],1)],1)],1)],1)],1),a("b-col",{attrs:{lg:"9"}},[a("b-card",[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),t.btnCargando?t._e():a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1),a("div",[a("hr")]),a("div",{staticClass:"informe-estudiantes"},[a("div",{ref:"contenido"},t._l(t.gradosSeleccionados,(function(e,o){return a("div",{key:e.idGrado,staticClass:"bloque-grado"},[a("div",{staticClass:"encabezado"},[a("p",[t._v("SECRETARÍA DE EDUCACIÓN TERRITORIAL DE TUNJA"),a("br"),a("b",[t._v(t._s(t.$store.state.nombreInstitucion))]),a("br"),t._v("TUNJA - BOYACÁ"),a("br"),t._v("LISTAS DE ESTUDIANTES POR GRADO"),a("br")])]),a("table",{staticClass:"tabla-estudiantes"},[a("thead",[a("tr",[a("th",[t._v("Sede: "),a("b",[t._v(t._s(e.sede))])]),a("th",[t._v("Grado: "),a("b",[t._v(t._s(e.grado))])]),a("th",[t._v("Año: "),a("b",[t._v(t._s(t.$store.state.aLectivo))])])])])]),a("table",{staticClass:"tabla-estudiantes",staticStyle:{"margin-top":"-20px"}},[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Estudiante")]),t._l(t.camposSeleccionados,(function(e){return a("th",{key:e},[t._v(" "+t._s(t.convertirTitulo(e))+" ")])})),t._l(t.numeroColumnas,(function(e){return a("th",{key:e,style:"width: "+t.porcentajeArea/t.numeroColumnas+"%"})}))],2)]),a("tbody",t._l(t.estudiantesPorGrado(e.idGrado),(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(o+1))]),a("td",[2==e.estadoActual?a("span",{staticStyle:{color:"#9C2007"}},[t._v("[R] "+t._s(e.estudiante))]):a("span",[t._v(t._s(e.estudiante))])]),t._l(t.camposSeleccionados,(function(o){return a("td",{key:o},[t._v(" "+t._s(e[o])+" ")])})),t._l(t.numeroColumnas,(function(t){return a("td",{key:t})}))],2)})),0)]),a("p",{staticClass:"text-muted",staticStyle:{"text-align":"right","margin-top":"-20px","font-size":"11px"}},[a("i",[t._v(t._s(t.fechaImpresion))])]),o<t.gradosSeleccionados.length-1?a("div",{staticClass:"page-break"}):t._e()])})),0)]),a("div",[a("hr")]),a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1)])],1)],1)],1)],1)],1):t._e()],1)],1)],1)],1),a("b-modal",{ref:"modalSeleccionarGrados",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Seleccionar Grados","ok-only":""}},[a("div",{staticClass:"mx-3"},[a("div",[a("vue-good-table",{ref:"graditos",attrs:{columns:t.encabColumnasGrados,rows:t.listaGrados,styleClass:"vgt-table condensed bordered striped","line-numbers":!0,"search-options":{enabled:!0,placeholder:"Filtrar grados..."},"select-options":{enabled:!0,selectionText:"grados seleccionados",clearSelectionText:"Limpiar"}},scopedSlots:t._u([{key:"selected-row-actions",fn:function(){return[a("button",{staticClass:"small btn btn-success",on:{click:function(e){return t.procesarListasGrados()}}},[t._v("Seleccionar >>")])]},proxy:!0}])},[a("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[a("h5",{staticClass:"text-danger ml-5"},[t._v("No existen Grados en la Sede")])])])],1)])])],1)},P=[],R={name:"listasdatosgrados",props:{},components:{VueGoodTable:u["a"]},data:function(){return{campos:[],camposSeleccionados:[],dataConsultada:[],btnCargando:!1,datosSeccion:{},comboNumeroColumnas:[],numeroColumnas:null,porcentajeArea:null,comboPorcentajeArea:[],idGenero:null,comboGeneros:[],idSede:null,comboSedes:[],nombreSede:null,gradosConsultados:!1,listaGrados:[],encabColumnasGrados:[{label:"Grado",field:"grado"}],gradosSeleccionados:[],fechaImpresion:null,retirados:!1}},methods:{estudiantesPorGrado:function(t){var e=this;return this.dataConsultada.filter((function(a){return a.idGrado==t&&(!e.idGenero||a.genero===e.idGenero)&&(!!e.retirados||1==a.estadoActual)}))},convertirTitulo:function(t){var e={tipodoc:"Tipo",documento:"Documento",mexp:"MunExp",fnace:"FecNaceEst",mnace:"MunNaceEst",edad:"Edad",genero:"Gen",pais:"País",rh:"Rh",estrato:"Estra",sisben:"Sisben",discapacidad:"Discap",capacidad:"CapaExcep",trastorno:"Trastorno",apoyo:"Apoyo",etnia:"Etnia",victima:"Victima",eps:"Eps",dirE:"DirecciónEst",mdirE:"MunDirEst",barrio:"BarrioEst",zona:"ZonaEst",telefono1:"Tel1Est",telefono2:"Tel2Est",correo:"CorreoEst",especialidad:"Espec",nuevo:"Nuevo",procedencia:"Procedencia",repitente:"Rep",ruta:"Ruta",inclusion:"Inclusión",codigo:"CodEst",papa:"Papá",documentoP:"DocumPapá",fnaceP:"NacePapá",direccionP:"DirecciónPapá",mdirP:"MunDirPapá",barrioP:"BarrioPapá",telefono1P:"Tel1Papá",telefono2P:"Tel2Papá",correoP:"CorreoPapá",ocupacionP:"OcupaciónPapá",mama:"Mamá",documentoM:"DocumMamá",fnaceM:"NaceMamá",direccionM:"DireccionMamá",mdirM:"MunDirMamá",barrioM:"BarrioMamá",telefono1M:"Tel1Mamá",telefono2M:"Tel2Mamá",correoM:"CorreoMamá",ocupacionM:"OcupaciónMamá",acudiente:"Acudiente",documentoA:"DocumAcudiente",fnaceA:"NaceAcudiente",direccionA:"DirAcudiente",mdirA:"MunDirAcudiente",barrioA:"BarrioAcudiente",telefono1A:"Tel1Acudiente",telefono2A:"Tel2Acudiente",correoA:"CorreoAcudiente",ocupacionA:"OcupaciónAcudiente"};return e[t]||t.toUpperCase()},imprimir:function(){var t=this.$refs.contenido.innerHTML,e="\n        <style>\n          .encabezado {\n            text-align: center;\n            font-size: 13px;\n          }\n          .informe-estudiantes {\n            font-family: 'Segoe UI', sans-serif;\n            margin: 5px;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 13px;\n            margin-bottom: 20px;\n          }\n          th, td {\n            border: 1px solid #999;\n            padding: 3px;\n            text-align: left;\n          }\n          thead {\n            background-color: #f0f4fa;\n          }\n          @media print {\n            .page-break {\n              page-break-after: always;\n            }\n            body {\n              font-family: 'Segoe UI', sans-serif;\n              margin: 5px;\n              color: #000;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 12px;\n              margin-bottom: 20px;\n            }\n            th, td {\n              border: 1px solid #000;\n              padding: 2px;\n              text-align: left;\n            }\n            thead {\n              background-color: #f0f4fa;\n            }\n          }\n        </style>\n      ",a=window.open("Listas por Grado","_blank");a.document.write("\n        <html>\n          <head><title>Listado de Estudiantes</title>".concat(e,'</head>\n          <body">').concat(t,"</body>\n        </html>\n      ")),a.document.close(),a.print()},procesarListasGrados:function(){this.gradosConsultados=!0,this.gradosSeleccionados=this.$refs.graditos.selectedRows,this.cargarDataEstudiantes(),this.$refs["modalSeleccionarGrados"].hide()},seleccionarGrados:function(){this.$refs["modalSeleccionarGrados"].show()},calcularEdad:function(t){var e=new Date,a=new Date(t),o=e.getFullYear()-a.getFullYear(),n=e.getMonth()-a.getMonth();return(n<0||0===n&&e.getDate()<a.getDate())&&o--,o},exportarAExcel:function(){var t=this,e=m["utils"].book_new();this.gradosSeleccionados.forEach((function(a){var o=t.estudiantesPorGrado(a.idGrado),n=o.map((function(e,a){var o={"#":a+1,Estudiante:e.estudiante};return t.camposSeleccionados.forEach((function(a){var n;o[t.convertirTitulo(a)]=null!==(n=e[a])&&void 0!==n?n:""})),o})),s=m["utils"].json_to_sheet(n);m["utils"].book_append_sheet(e,s,a.grado.slice(0,31))})),m["writeFile"](e,"Listado Estudiantes Grado.xlsx")},listarGradosSede:function(){var t=this;this.listaGrados=[],this.nombreSede=document.getElementById("sedes")[document.getElementById("sedes").selectedIndex].text,this.$store.state.datosGrados.forEach((function(e){e.id_sede==t.idSede&&t.listaGrados.push({idGrado:e.id,grado:e.grado.toUpperCase(),sede:e.sede})}))},ocuparComboSedes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.comboSedes=[],t.$store.state.datosSedes.forEach((function(e){t.comboSedes.push({value:e.id,text:e.sede.toUpperCase()})}));case 2:case"end":return e.stop()}}),e)})))()},ocuparCombos:function(){this.comboGeneros=[{value:null,text:"TODOS"},{value:"F",text:"FEMENINO"},{value:"M",text:"MASCULINO"}]},cargarDataEstudiantes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnCargando=!0,a=[],t.gradosSeleccionados.forEach((function(t){a.push(t.idGrado)})),o=a.filter((function(t,e,a){return a.indexOf(t)===e})),a=o,e.next=7,r.a.get(i["d"]+"academico/data/estudiantes/grados/campos",{params:{idInstitucion:t.$store.state.idInstitucion,vigencia:t.$store.state.aLectivo,cursos:JSON.stringify(a)}}).then((function(e){e.data.error?(t.mensajeEmergente("danger",i["h"],e.data.mensaje+" - Consulta Estudiantes"),t.btnCargando=!1):0!=e.data.datos?(t.dataConsultada=e.data.datos,t.dataConsultada.forEach((function(e){e.edad=t.calcularEdad(e.fnace)+" Años"})),t.btnCargando=!1):(t.dataConsultada=[],t.btnCargando=!1)})).catch((function(e){t.mensajeEmergente("danger",i["h"],response.data.mensaje+" - Algo salio mal y no se pudo realizar: Consulta Data Estudiantes. Intente más tarde."+e),t.btnCargando=!1}));case 7:case"end":return e.stop()}}),e)})))()},mensajeEmergente:function(t,e,a){this.$bvToast.toast(a,{title:e,variant:t,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},computed:{},beforeMount:function(){this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1],this.fechaImpresion="Fecha: "+(new Date).toLocaleString(),this.ocuparCombos(),this.ocuparComboSedes(),this.campos=[{value:"estudiante",text:"Estudiante",disabled:!0},{value:"tipodoc",text:"Tipo Documento"},{value:"documento",text:"Documento"},{value:"mexp",text:"Municipio de Expedición"},{value:"fnace",text:"Fecha de Nacimiento"},{value:"mnace",text:"Municipio de Nacimiento"},{value:"edad",text:"Edad"},{value:"genero",text:"Genero"},{value:"pais",text:"País Nacimiento"},{value:"rh",text:"Grupo Sanguineo - Rh"},{value:"estrato",text:"Estrato"},{value:"sisben",text:"Sisben"},{value:"discapacidad",text:"Discapacidad"},{value:"capacidad",text:"Capacidad Excepcional"},{value:"trastorno",text:"Trastorno del Aprendizaje"},{value:"apoyo",text:"Apoyo Académico Especial"},{value:"etnia",text:"Grupo Étnico"},{value:"victima",text:"Victima del Conflicto"},{value:"eps",text:"Eps"},{value:"dirE",text:"Dirección"},{value:"mdirE",text:"Municipio Dirección"},{value:"barrio",text:"Barrio"},{value:"zona",text:"Zona"},{value:"telefono1",text:"Teléfono 1"},{value:"telefono2",text:"Teléfono 2"},{value:"correo",text:"Correo"},{value:"especialidad",text:"Especialidad"},{value:"nuevo",text:"Estudiante Nuevo"},{value:"procedencia",text:"Procedencia"},{value:"repitente",text:"Repitencia"},{value:"ruta",text:"Ruta"},{value:"inclusion",text:"Inclusión"},{value:"codigo",text:"Código Carpeta"},{value:"papa",text:"Papá"},{value:"documentoP",text:"Documento Papá"},{value:"fnaceP",text:"Fecha Nacimiento Papá"},{value:"direccionP",text:"Direccion Papá"},{value:"mdirP",text:"Municipio Dirección Papá"},{value:"barrioP",text:"Barrio Papá"},{value:"telefono1P",text:"Teléfono1 Papá"},{value:"telefono2P",text:"Teléfono2 Papá"},{value:"correoP",text:"Correo Papá"},{value:"ocupacionP",text:"Ocupación Papá"},{value:"mama",text:"Mamá"},{value:"documentoM",text:"Documento Mamá"},{value:"fnaceM",text:"Fecha Nacimiento Mamá"},{value:"direccionM",text:"Direccion Mamá"},{value:"mdirM",text:"Municipio Dirección Mamá"},{value:"barrioM",text:"Barrio Mamá"},{value:"telefono1M",text:"Teléfono1 Mamá"},{value:"telefono2M",text:"Teléfono2 Mamá"},{value:"correoM",text:"Correo Mamá"},{value:"ocupacionM",text:"Ocupación Mamá"},{value:"acudiente",text:"Acudiente"},{value:"documentoA",text:"Documento Acudiente"},{value:"fnaceA",text:"Fecha Nacimiento Acudiente"},{value:"direccionA",text:"Direccion Acudiente"},{value:"mdirA",text:"Municipio Dirección Acudiente"},{value:"barrioA",text:"Barrio Acudiente"},{value:"telefono1A",text:"Teléfono1 Acudiente"},{value:"telefono2A",text:"Teléfono2 Acudiente"},{value:"correoA",text:"Correo Acudiente"},{value:"ocupacionA",text:"Ocupación Acudiente"}],this.comboNumeroColumnas=[{value:0,text:"Sin columnas adicionales"},{value:1,text:"1 columna"},{value:2,text:"2 columnas"},{value:3,text:"3 columnas"},{value:4,text:"4 columnas"},{value:5,text:"5 columnas"},{value:6,text:"6 columnas"},{value:7,text:"7 columnas"},{value:8,text:"8 columnas"},{value:9,text:"9 columnas"},{value:10,text:"10 columnas"},{value:11,text:"11 columnas"},{value:12,text:"12 columnas"},{value:13,text:"13 columnas"},{value:14,text:"14 columnas"},{value:15,text:"15 columnas"}],this.comboPorcentajeArea=[{value:10,text:"10%"},{value:20,text:"20%"},{value:30,text:"30%"},{value:40,text:"40%"},{value:50,text:"50%"},{value:60,text:"60%"}],this.porcentajeArea=60,this.numeroColumnas=0}},j=R,O=(a("d1f0"),Object(v["a"])(j,T,P,!1,null,"e4d64b58",null)),N=O.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" PLANILLAS DE ESTUDIANTES POR DOCENTE")],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),a("b-row",[a("b-col",{attrs:{lg:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione el Docente:","label-for":"docentes"}},[a("b-form-select",{ref:"docentes",attrs:{id:"docentes",options:t.comboDocentes},on:{change:function(e){t.listarCursosAsignados(),t.cursosConsultados=null}},model:{value:t.idDocente,callback:function(e){t.idDocente=e},expression:"idDocente"}})],1)],1),a("b-col",{staticClass:"mt-2",attrs:{lg:"3"}},[a("b-button",{staticClass:"small mx-1 mt-4",attrs:{variant:"success",disabled:null==t.idDocente},on:{click:function(e){return t.seleccionarCursos()}}},[t._v("Seleccionar Planillas")])],1)],1),t.cursosConsultados?a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("hr")]),a("b-col",{attrs:{lg:"3"}},[a("b-card",{attrs:{"bg-variant":"light","text-variant":""}},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Columnas Adicionales:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"numCol",attrs:{id:"numCol",options:t.comboNumeroColumnas},model:{value:t.numeroColumnas,callback:function(e){t.numeroColumnas=e},expression:"numeroColumnas"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Área para las Columnas:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"porcentajeArea",attrs:{id:"porcentajeArea",options:t.comboPorcentajeArea},model:{value:t.porcentajeArea,callback:function(e){t.porcentajeArea=e},expression:"porcentajeArea"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Retirados:")]),a("b-form-checkbox",{ref:"estRetirados",staticClass:"ml-4 m-3",attrs:{id:"estRetirados",name:"check-button",switch:""},model:{value:t.retirados,callback:function(e){t.retirados=e},expression:"retirados"}},[a("span",{staticClass:"ml-2"},[t._v("Listar estudiantes retirados")])])],1)],1)],1)],1)],1)],1),a("b-col",{attrs:{lg:"9"}},[a("b-card",[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),t.btnCargando?t._e():a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1),a("div",[a("hr")]),a("div",{staticClass:"informe-estudiantes"},[a("div",{ref:"contenido"},t._l(t.cursosSeleccionados,(function(e,o){return a("div",{key:o,staticClass:"bloque-curso"},[a("div",{staticClass:"encabezado"},[a("p",[t._v("SECRETARÍA DE EDUCACIÓN TERRITORIAL DE TUNJA"),a("br"),a("b",[t._v(t._s(t.$store.state.nombreInstitucion))]),a("br"),t._v("TUNJA - BOYACÁ"),a("br"),t._v("PLANILLAS DE ESTUDIANTES POR DOCENTE"),a("br")])]),a("table",{staticClass:"tabla-estudiantes"},[a("thead",[a("tr",[a("th",[t._v("Sede: "),a("b",[t._v(t._s(e.sede))])]),a("th",[t._v("Curso: "),a("b",[t._v(t._s(e.curso))])]),a("th",[t._v("Jornada: "),a("b",[t._v(t._s(e.jornada))])]),a("th",[t._v("Año: "),a("b",[t._v(t._s(t.$store.state.aLectivo))])])])])]),a("table",{staticClass:"tabla-estudiantes",staticStyle:{"margin-top":"-20px"}},[a("thead",[a("tr",[a("th",[t._v("Asignatura: "),a("b",[t._v(t._s(e.asignatura))])]),a("th",[t._v("Docente: "),a("b",[t._v(t._s(t.nombreDocente))])])])])]),a("table",{staticClass:"tabla-estudiantes",staticStyle:{"margin-top":"-20px"}},[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Estudiante")]),t._l(t.numeroColumnas,(function(e){return a("th",{key:e,style:"width: "+t.porcentajeArea/t.numeroColumnas+"%"})}))],2)]),a("tbody",t._l(t.estudiantesPorCurso(e.idCurso),(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(o+1))]),a("td",[2==e.estadoActual?a("span",{staticStyle:{color:"#9C2007"}},[t._v("[R] "+t._s(e.estudiante))]):a("span",[t._v(t._s(e.estudiante))])]),t._l(t.numeroColumnas,(function(t){return a("td",{key:t})}))],2)})),0)]),a("p",{staticClass:"text-muted",staticStyle:{"text-align":"right","margin-top":"-20px","font-size":"11px"}},[a("i",[t._v(t._s(t.fechaImpresion))])]),o<t.cursosSeleccionados.length-1?a("div",{staticClass:"page-break"}):t._e()])})),0)]),a("div",[a("hr")]),a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1)])],1)],1)],1)],1)],1):t._e()],1)],1)],1)],1),a("b-modal",{ref:"modalSeleccionarCursos",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Seleccionar Cursos","ok-only":""}},[a("div",{staticClass:"mx-3"},[a("div",[a("vue-good-table",{ref:"cursitos",attrs:{columns:t.encabColumnasCursos,rows:t.listaCursos,styleClass:"vgt-table condensed bordered striped","line-numbers":!0,"search-options":{enabled:!0,placeholder:"Filtrar cursos..."},"select-options":{enabled:!0,selectionText:"cursos seleccionados",clearSelectionText:"Limpiar"}},scopedSlots:t._u([{key:"selected-row-actions",fn:function(){return[a("button",{staticClass:"small btn btn-success",on:{click:function(e){return t.procesarListasCursos()}}},[t._v("Seleccionar >>")])]},proxy:!0}])},[a("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[a("h5",{staticClass:"text-danger ml-5"},[t._v("No existen cursos asignados al Docente")])])])],1)])])],1)},L=[],$={name:"planillascursosdocente",props:{},components:{VueGoodTable:u["a"]},data:function(){return{dataConsultada:[],btnCargando:!1,datosSeccion:{},comboNumeroColumnas:[],numeroColumnas:null,porcentajeArea:null,comboPorcentajeArea:[],idDocente:null,comboDocentes:[],nombreDocente:null,cursosConsultados:!1,listaCursos:[],encabColumnasCursos:[{label:"Grado-Curso",field:"curso"},{label:"Asignatura",field:"asignatura"},{label:"Jornada",field:"jornada"}],cursosSeleccionados:[],fechaImpresion:null,retirados:!1}},methods:{estudiantesPorCurso:function(t){var e=this;return this.dataConsultada.filter((function(a){return a.idCurso==t&&(!!e.retirados||1==a.estadoActual)}))},imprimir:function(){var t=this.$refs.contenido.innerHTML,e="\n        <style>\n          .encabezado {\n            text-align: center;\n            font-size: 13px;\n          }\n          .informe-estudiantes {\n            font-family: 'Segoe UI', sans-serif;\n            margin: 5px;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 13px;\n            margin-bottom: 20px;\n          }\n          th, td {\n            border: 1px solid #999;\n            padding: 3px;\n            text-align: left;\n          }\n          thead {\n            background-color: #f0f4fa;\n          }\n          @media print {\n            .page-break {\n              page-break-after: always;\n            }\n            body {\n              font-family: 'Segoe UI', sans-serif;\n              margin: 5px;\n              color: #000;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 12px;\n              margin-bottom: 20px;\n            }\n            th, td {\n              border: 1px solid #000;\n              padding: 2px;\n              text-align: left;\n            }\n            thead {\n              background-color: #f0f4fa;\n            }\n          }\n        </style>\n      ",a=window.open("Planillas por Docente","_blank");a.document.write("\n        <html>\n          <head><title>Planilla de Estudiantes</title>".concat(e,'</head>\n          <body">').concat(t,"</body>\n        </html>\n      ")),a.document.close(),a.print()},procesarListasCursos:function(){this.cursosConsultados=!0,this.cursosSeleccionados=this.$refs.cursitos.selectedRows,this.cargarDataEstudiantes(),this.$refs["modalSeleccionarCursos"].hide()},seleccionarCursos:function(){this.$refs["modalSeleccionarCursos"].show()},exportarAExcel:function(){var t=this,e=m["utils"].book_new();this.cursosSeleccionados.forEach((function(a){var o=t.estudiantesPorCurso(a.idCurso),n=o.map((function(t,e){var a={"#":e+1,Estudiante:t.estudiante};return a})),s=m["utils"].json_to_sheet(n);m["utils"].book_append_sheet(e,s,a.asignatura.slice(0,31))})),m["writeFile"](e,"Planillas Docente.xlsx")},listarCursosAsignados:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnCargando=!0,t.nombreDocente=document.getElementById("docentes")[document.getElementById("docentes").selectedIndex].text,t.listaCursos=[],e.next=5,r.a.get(i["d"]+"academico/cargaacademica/planillas/docente",{params:{idInstitucion:t.$store.state.idInstitucion,idDocente:t.idDocente}}).then((function(e){e.data.error?(t.mensajeEmergente("danger",i["h"],e.data.mensaje+" - Consulta Asignación Docente"),t.btnCargando=!1):0!=e.data.datos&&(t.listaCursos=e.data.datos)})).catch((function(e){t.mensajeEmergente("danger",i["h"],"Algo salio mal y no se pudo realizar: Consulta Asignación Docente. Intente más tarde."+e),t.btnCargando=!1}));case 5:t.btnCargando=!1;case 6:case"end":return e.stop()}}),e)})))()},ocuparComboDocentes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.comboDocentes=[],t.$store.state.datosDocentes.forEach((function(e){t.comboDocentes.push({value:e.id,text:e.docente.toUpperCase()})}));case 2:case"end":return e.stop()}}),e)})))()},cargarDataEstudiantes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnCargando=!0,a=[],t.cursosSeleccionados.forEach((function(t){a.push(t.idCurso)})),o=a.filter((function(t,e,a){return a.indexOf(t)===e})),a=o,e.next=7,r.a.get(i["d"]+"academico/data/estudiantes/cursos",{params:{idInstitucion:t.$store.state.idInstitucion,vigencia:t.$store.state.aLectivo,cursos:JSON.stringify(a)}}).then((function(e){e.data.error?(t.mensajeEmergente("danger",i["h"],e.data.mensaje+" - Consulta Estudiantes"),t.btnCargando=!1):0!=e.data.datos?(t.dataConsultada=e.data.datos,t.btnCargando=!1):(t.dataConsultada=[],t.btnCargando=!1)})).catch((function(e){t.mensajeEmergente("danger",i["h"],response.data.mensaje+" - Algo salio mal y no se pudo realizar: Consulta Data Estudiantes. Intente más tarde."+e),t.btnCargando=!1}));case 7:case"end":return e.stop()}}),e)})))()},mensajeEmergente:function(t,e,a){this.$bvToast.toast(a,{title:e,variant:t,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},computed:{},beforeMount:function(){this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1],this.fechaImpresion="Fecha: "+(new Date).toLocaleString(),this.ocuparComboDocentes(),this.comboNumeroColumnas=[{value:0,text:"Sin columnas adicionales"},{value:1,text:"1 columna"},{value:2,text:"2 columnas"},{value:3,text:"3 columnas"},{value:4,text:"4 columnas"},{value:5,text:"5 columnas"},{value:6,text:"6 columnas"},{value:7,text:"7 columnas"},{value:8,text:"8 columnas"},{value:9,text:"9 columnas"},{value:10,text:"10 columnas"},{value:11,text:"11 columnas"},{value:12,text:"12 columnas"},{value:13,text:"13 columnas"},{value:14,text:"14 columnas"},{value:15,text:"15 columnas"}],this.comboPorcentajeArea=[{value:10,text:"10%"},{value:20,text:"20%"},{value:30,text:"30%"},{value:40,text:"40%"},{value:50,text:"50%"},{value:60,text:"60%"}],this.porcentajeArea=60,this.numeroColumnas=1}},G=$,U=(a("d7de"),Object(v["a"])(G,M,L,!1,null,"3eb0d5c9",null)),z=U.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" PLANILLAS DE ESTUDIANTES POR DOCENTE CON NOTAS")],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando&&null==t.cursosConsultados?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),a("b-row",[a("b-col",{attrs:{lg:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione el Docente:","label-for":"docentes"}},[a("b-form-select",{ref:"docentes",attrs:{id:"docentes",options:t.comboDocentes},on:{change:function(e){t.listarCursosAsignados(),t.cursosConsultados=null,t.periodoActual=null}},model:{value:t.idDocente,callback:function(e){t.idDocente=e},expression:"idDocente"}})],1)],1),a("b-col",{attrs:{lg:"2"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Periodo:","label-for":"periodo"}},[a("b-form-select",{ref:"periodo",attrs:{id:"periodo",options:t.comboPeriodos,disabled:null==t.idDocente},on:{change:function(e){t.cursosConsultados=null}},model:{value:t.periodoActual,callback:function(e){t.periodoActual=e},expression:"periodoActual"}})],1)],1),a("b-col",{staticClass:"mt-2",attrs:{lg:"4"}},[a("b-button",{staticClass:"small mx-1 mt-4",attrs:{variant:"success",disabled:null==t.periodoActual},on:{click:function(e){return t.seleccionarCursos()}}},[t._v("Seleccionar Planillas")])],1)],1),t.cursosConsultados?a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("hr")]),a("b-col",{attrs:{lg:"3"}},[a("b-card",{attrs:{"bg-variant":"light","text-variant":""}},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Columnas Adicionales:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"numCol",attrs:{id:"numCol",options:t.comboNumeroColumnas},model:{value:t.numeroColumnas,callback:function(e){t.numeroColumnas=e},expression:"numeroColumnas"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Área para las Columnas:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"porcentajeArea",attrs:{id:"porcentajeArea",options:t.comboPorcentajeArea},model:{value:t.porcentajeArea,callback:function(e){t.porcentajeArea=e},expression:"porcentajeArea"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Retirados:")]),a("b-form-checkbox",{ref:"estRetirados",staticClass:"ml-4 m-3",attrs:{id:"estRetirados",name:"check-button",switch:""},model:{value:t.retirados,callback:function(e){t.retirados=e},expression:"retirados"}},[a("span",{staticClass:"ml-2"},[t._v("Listar estudiantes retirados")])])],1)],1)],1)],1)],1)],1),a("b-col",{attrs:{lg:"9"}},[a("b-card",[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),t.btnCargando?t._e():a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1),a("div",[a("hr")]),a("div",{staticClass:"informe-estudiantes"},[a("div",{ref:"contenido"},t._l(t.cursosSeleccionados,(function(e,o){return a("div",{key:o,staticClass:"bloque-curso"},[a("div",{staticClass:"encabezado"},[a("p",[t._v("SECRETARÍA DE EDUCACIÓN TERRITORIAL DE TUNJA"),a("br"),a("b",[t._v(t._s(t.$store.state.nombreInstitucion))]),a("br"),t._v("TUNJA - BOYACÁ"),a("br"),t._v("PLANILLAS DE ESTUDIANTES POR DOCENTE"),a("br")])]),a("table",{staticClass:"tabla-estudiantes"},[a("thead",[a("tr",[a("th",[t._v("Sede: "),a("b",[t._v(t._s(e.sede))])]),a("th",[t._v("Curso: "),a("b",[t._v(t._s(e.curso))])]),a("th",[t._v("Jornada:"),a("b",[t._v(t._s(e.jornada))])]),a("th",[t._v("Año: "),a("b",[t._v(t._s(t.$store.state.aLectivo))])])])])]),a("table",{staticClass:"tabla-estudiantes",staticStyle:{"margin-top":"-20px"}},[a("thead",[a("tr",[a("th",[t._v("Asignatura: "),a("b",[t._v(t._s(e.asignatura))])]),a("th",[t._v("Docente: "),a("b",[t._v(t._s(t.nombreDocente))])])])])]),a("table",{staticClass:"tabla-estudiantes",staticStyle:{"margin-top":"-20px"}},[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Estudiante")]),t._l(t.periodoActual,(function(e){return a("th",{key:"P"+e},[t._v("P"+t._s(e))])})),t._l(t.numeroColumnas,(function(e){return a("th",{key:e,style:"width: "+t.porcentajeArea/t.numeroColumnas+"%"})}))],2)]),a("tbody",t._l(t.estudiantesPorCurso(e.idCurso),(function(o,n){return a("tr",{key:n},[a("td",[t._v(t._s(n+1))]),a("td",[2==o.estadoActual?a("span",{staticStyle:{color:"#9C2007"}},[t._v("[R] "+t._s(o.estudiante))]):a("span",[t._v(t._s(o.estudiante))])]),t._l(t.periodoActual,(function(n){return a("td",{key:"nota-"+n},[t._v(" "+t._s(t.obtenerNota(o,n,e))+" ")])})),t._l(t.numeroColumnas,(function(t){return a("td",{key:t})}))],2)})),0)]),a("p",{staticClass:"text-muted",staticStyle:{"text-align":"right","margin-top":"-20px","font-size":"11px"}},[a("i",[t._v(t._s(t.fechaImpresion))])]),o<t.cursosSeleccionados.length-1?a("div",{staticClass:"page-break"}):t._e()])})),0)]),a("div",[a("hr")]),a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1)])],1)],1)],1)],1)],1):t._e()],1)],1)],1)],1),a("b-modal",{ref:"modalSeleccionarCursos",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Seleccionar Cursos","ok-only":""}},[a("div",{staticClass:"mx-3"},[a("div",[a("vue-good-table",{ref:"cursitos",attrs:{columns:t.encabColumnasCursos,rows:t.listaCursos,styleClass:"vgt-table condensed bordered striped","line-numbers":!0,"search-options":{enabled:!0,placeholder:"Filtrar cursos..."},"select-options":{enabled:!0,selectionText:"cursos seleccionados",clearSelectionText:"Limpiar"}},scopedSlots:t._u([{key:"selected-row-actions",fn:function(){return[a("button",{staticClass:"small btn btn-success",on:{click:function(e){return t.procesarListasCursos()}}},[t._v("Seleccionar >>")])]},proxy:!0}])},[a("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[a("h5",{staticClass:"text-danger ml-5"},[t._v("No existen cursos asignados al Docente")])])])],1)])])],1)},B=[],J=(a("7db0"),a("b680"),{name:"planillascursosdocentenotas",props:{},components:{VueGoodTable:u["a"]},data:function(){return{dataConsultada:[],btnCargando:!1,datosSeccion:{},comboNumeroColumnas:[],numeroColumnas:null,porcentajeArea:null,comboPorcentajeArea:[],idDocente:null,comboDocentes:[],nombreDocente:null,cursosConsultados:!1,listaCursos:[],encabColumnasCursos:[{label:"Grado-Curso",field:"curso"},{label:"Asignatura",field:"asignatura"},{label:"Jornada",field:"jornada"}],cursosSeleccionados:[],fechaImpresion:null,retirados:!1,periodoActual:null,comboPeriodos:[],dataNotas:[]}},methods:{obtenerNota:function(t,e,a){var o=this.dataNotas.find((function(o){return o.idMatricula===t.idMatricula&&o.periodo===e&&o.idAsignaturaCurso===a.idAsignaturaCurso}));return o?99===o.orden?"c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion||"7c63ed50-fcb0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion?o.finalPeriodo||"":o.definitivacompor||"":1===o.idNivel?o.definitivapree||"":o.finalPeriodo>0?o.finalPeriodo.toFixed(1):"":""},estudiantesPorCurso:function(t){var e=this;return this.dataConsultada.filter((function(a){return a.idCurso==t&&(!!e.retirados||1==a.estadoActual)}))},imprimir:function(){var t=this.$refs.contenido.innerHTML,e="\n        <style>\n          .encabezado {\n            text-align: center;\n            font-size: 13px;\n          }\n          .informe-estudiantes {\n            font-family: 'Segoe UI', sans-serif;\n            margin: 5px;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 13px;\n            margin-bottom: 20px;\n          }\n          th, td {\n            border: 1px solid #999;\n            padding: 3px;\n            text-align: left;\n          }\n          thead {\n            background-color: #f0f4fa;\n          }\n          @media print {\n            .page-break {\n              page-break-after: always;\n            }\n            body {\n              font-family: 'Segoe UI', sans-serif;\n              margin: 5px;\n              color: #000;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 12px;\n              margin-bottom: 20px;\n            }\n            th, td {\n              border: 1px solid #000;\n              padding: 2px;\n              text-align: left;\n            }\n            thead {\n              background-color: #f0f4fa;\n            }\n          }\n        </style>\n      ",a=window.open("Planillas por Docente","_blank");a.document.write("\n        <html>\n          <head><title>Planilla de Estudiantes</title>".concat(e,'</head>\n          <body">').concat(t,"</body>\n        </html>\n      ")),a.document.close(),a.print()},procesarListasCursos:function(){this.cursosConsultados=!0,this.cursosSeleccionados=this.$refs.cursitos.selectedRows,this.$refs["modalSeleccionarCursos"].hide(),this.cargarDataEstudiantes()},consultarNotasCursosSeleccionados:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnCargando=!0,a=[],t.cursosSeleccionados.forEach((function(t){a.push(t.idAsignaturaCurso)})),t.dataNotas=[],e.next=6,r.a.get(i["d"]+"consolidados/notas/planillas/docente",{params:{listaAsignCursos:a,periodo:t.periodoActual}}).then((function(e){e.data.error?(t.mensajeEmergente("danger",i["h"],e.data.mensaje+" - Consulta Notas Cursos Seleccionados"),t.btnCargando=!1):0!=e.data.datos?(t.dataNotas=e.data.datos,t.btnCargando=!1):t.btnCargando=!1})).catch((function(e){t.mensajeEmergente("danger",i["h"],"Algo salio mal y no se pudo realizar: Consulta Notas Cursos Seleccionados. Intente más tarde."+e),t.btnCargando=!1}));case 6:t.btnCargando=!1;case 7:case"end":return e.stop()}}),e)})))()},seleccionarCursos:function(){this.$refs["modalSeleccionarCursos"].show()},exportarAExcel:function(){var t=this,e=m["utils"].book_new();this.cursosSeleccionados.forEach((function(a){var o=t.estudiantesPorCurso(a.idCurso),n=o.map((function(t,e){var a={"#":e+1,Estudiante:t.estudiante};return a})),s=m["utils"].json_to_sheet(n);m["utils"].book_append_sheet(e,s,a.asignatura.slice(0,31))})),m["writeFile"](e,"Planillas Docente.xlsx")},listarCursosAsignados:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnCargando=!0,t.nombreDocente=document.getElementById("docentes")[document.getElementById("docentes").selectedIndex].text,t.listaCursos=[],e.next=5,r.a.get(i["d"]+"academico/cargaacademica/planillas/docente",{params:{idInstitucion:t.$store.state.idInstitucion,idDocente:t.idDocente}}).then((function(e){e.data.error?(t.mensajeEmergente("danger",i["h"],e.data.mensaje+" - Consulta Asignación Docente"),t.btnCargando=!1):0!=e.data.datos&&(t.listaCursos=e.data.datos)})).catch((function(e){t.mensajeEmergente("danger",i["h"],"Algo salio mal y no se pudo realizar: Consulta Asignación Docente. Intente más tarde."+e),t.btnCargando=!1}));case 5:t.btnCargando=!1;case 6:case"end":return e.stop()}}),e)})))()},ocuparComboDocentes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.comboDocentes=[],t.$store.state.datosDocentes.forEach((function(e){t.comboDocentes.push({value:e.id,text:e.docente.toUpperCase()})}));case 2:case"end":return e.stop()}}),e)})))()},ocuparComboPeriodos:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.comboPeriodos=[],t.$store.state.periodos.forEach((function(e){t.comboPeriodos.push({value:e.id,text:e.periodo.toUpperCase()})}));case 2:case"end":return e.stop()}}),e)})))()},cargarDataEstudiantes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnCargando=!0,a=[],t.cursosSeleccionados.forEach((function(t){a.push(t.idCurso)})),o=a.filter((function(t,e,a){return a.indexOf(t)===e})),a=o,e.next=7,r.a.get(i["d"]+"academico/data/estudiantes/cursos",{params:{idInstitucion:t.$store.state.idInstitucion,vigencia:t.$store.state.aLectivo,cursos:JSON.stringify(a)}}).then((function(e){e.data.error?(t.mensajeEmergente("danger",i["h"],e.data.mensaje+" - Consulta Estudiantes"),t.btnCargando=!1):0!=e.data.datos?(t.dataConsultada=e.data.datos,t.consultarNotasCursosSeleccionados(),t.btnCargando=!1):(t.dataConsultada=[],t.btnCargando=!1)})).catch((function(e){t.mensajeEmergente("danger",i["h"],response.data.mensaje+" - Algo salio mal y no se pudo realizar: Consulta Data Estudiantes. Intente más tarde."+e),t.btnCargando=!1}));case 7:case"end":return e.stop()}}),e)})))()},mensajeEmergente:function(t,e,a){this.$bvToast.toast(a,{title:e,variant:t,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},computed:{},beforeMount:function(){this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1],this.fechaImpresion="Fecha: "+(new Date).toLocaleString(),this.ocuparComboDocentes(),this.ocuparComboPeriodos(),this.comboNumeroColumnas=[{value:0,text:"Sin columnas adicionales"},{value:1,text:"1 columna"},{value:2,text:"2 columnas"},{value:3,text:"3 columnas"},{value:4,text:"4 columnas"},{value:5,text:"5 columnas"},{value:6,text:"6 columnas"},{value:7,text:"7 columnas"},{value:8,text:"8 columnas"},{value:9,text:"9 columnas"},{value:10,text:"10 columnas"},{value:11,text:"11 columnas"},{value:12,text:"12 columnas"},{value:13,text:"13 columnas"},{value:14,text:"14 columnas"},{value:15,text:"15 columnas"}],this.comboPorcentajeArea=[{value:10,text:"10%"},{value:20,text:"20%"},{value:30,text:"30%"},{value:40,text:"40%"},{value:50,text:"50%"}],this.porcentajeArea=50,this.numeroColumnas=1}}),V=J,q=(a("c7a0"),Object(v["a"])(V,F,B,!1,null,"a9bd4938",null)),H=q.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" PLANILLA CONTROL DE ASISTENCIA SEMANAL POR CURSO")],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),a("b-row",[a("b-col",{attrs:{lg:"9"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione la Sede:","label-for":"sedes"}},[a("b-form-select",{ref:"sedes",attrs:{id:"sedes",options:t.comboSedes},on:{change:function(e){t.listarCursosSede(),t.cursosConsultados=null}},model:{value:t.idSede,callback:function(e){t.idSede=e},expression:"idSede"}})],1)],1),a("b-col",{staticClass:"mt-2",attrs:{lg:"3"}},[a("b-button",{staticClass:"small mx-1 mt-4",attrs:{variant:"success",disabled:null==t.idSede},on:{click:function(e){return t.seleccionarCursos()}}},[t._v("Seleccionar Cursos")])],1)],1),t.cursosConsultados?a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("hr")]),a("b-col",{attrs:{lg:"3"}},[a("b-card",{attrs:{"bg-variant":"light","text-variant":""}},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("No. Horas Diarias:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"numCol",attrs:{id:"numCol",options:t.comboNumeroColumnas},model:{value:t.numeroColumnas,callback:function(e){t.numeroColumnas=e},expression:"numeroColumnas"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Área para los días:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"porcentajeArea",attrs:{id:"porcentajeArea",options:t.comboPorcentajeArea},model:{value:t.porcentajeArea,callback:function(e){t.porcentajeArea=e},expression:"porcentajeArea"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Retirados:")]),a("b-form-checkbox",{ref:"estRetirados",staticClass:"ml-4 m-3",attrs:{id:"estRetirados",name:"check-button",switch:""},model:{value:t.retirados,callback:function(e){t.retirados=e},expression:"retirados"}},[a("span",{staticClass:"ml-2"},[t._v("Listar estudiantes retirados")])])],1)],1)],1)],1)],1)],1),a("b-col",{attrs:{lg:"9"}},[a("b-card",[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),t.btnCargando?t._e():a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1),a("div",[a("hr")]),a("div",{staticClass:"informe-estudiantes"},[a("div",{ref:"contenido"},t._l(t.cursosSeleccionados,(function(e,o){return a("div",{key:e.idCurso,staticClass:"bloque-curso"},[a("div",{staticClass:"encabezado"},[a("p",[t._v("SECRETARÍA DE EDUCACIÓN TERRITORIAL DE TUNJA"),a("br"),a("b",[t._v(t._s(t.$store.state.nombreInstitucion))]),a("br"),t._v("TUNJA - BOYACÁ"),a("br"),t._v("PLANILLA CONTROL DE ASISTENCIA SEMANAL"),a("br")])]),a("table",{staticClass:"tabla-estudiantes"},[a("thead",[a("tr",[a("th",[t._v("Sede: "),a("b",[t._v(t._s(e.sede))])]),a("th",[t._v("Curso: "),a("b",[t._v(t._s(e.curso))])]),a("th",[t._v("Jornada: "),a("b",[t._v(t._s(e.jornada))])]),a("th",[t._v("Año: "),a("b",[t._v(t._s(t.$store.state.aLectivo))])])])])]),a("table",{staticClass:"tabla-estudiantes",staticStyle:{"margin-top":"-20px"}},[a("thead",[a("tr",[a("th",{staticStyle:{width:"15%"}},[t._v("Semana No.:")]),a("th",{staticStyle:{width:"30%"}},[t._v("Día que Inicia la Semana:")]),a("th",{staticStyle:{width:"30%"}},[t._v("Día que Termina la Semana:")]),a("th",{staticStyle:{width:"25%"}},[t._v("Mes:")])])])]),a("table",{staticClass:"tabla-estudiantes",staticStyle:{"margin-top":"-20px"}},[a("thead",[a("tr",[a("td",{style:"text-align: right; width:"+(100-t.porcentajeArea)+"%",attrs:{colspan:"2"}},[a("i",[a("strong",[t._v("DIA DE LA SEMAMA")])])]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:t.numeroColumnas}},[a("i",[a("strong",[t._v("LUNES")])])]),a("td",{staticStyle:{"text-align":"center","background-color":"#dcdbdb"},attrs:{colspan:t.numeroColumnas}},[a("i",[a("strong",[t._v("MARTES")])])]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:t.numeroColumnas}},[a("i",[a("strong",[t._v("MIERCOLES")])])]),a("td",{staticStyle:{"text-align":"center","background-color":"#dcdbdb"},attrs:{colspan:t.numeroColumnas}},[a("i",[a("strong",[t._v("JUEVES")])])]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:t.numeroColumnas}},[a("i",[a("strong",[t._v("VIERNES")])])])]),a("tr",[a("td",{staticStyle:{"text-align":"center",height:"80px"},attrs:{colspan:"2"}},[a("strong",[t._v("FIRMA DOCENTE =>")])]),t._l(t.numeroColumnas,(function(t,e){return a("td",{key:"Lun-"+e})})),t._l(t.numeroColumnas,(function(t,e){return a("td",{key:"Mar-"+e,staticStyle:{"background-color":"#dcdbdb"}})})),t._l(t.numeroColumnas,(function(t,e){return a("td",{key:"Mie-"+e})})),t._l(t.numeroColumnas,(function(t,e){return a("td",{key:"Jue-"+e,staticStyle:{"background-color":"#dcdbdb"}})})),t._l(t.numeroColumnas,(function(t,e){return a("td",{key:"Vie-"+e})}))],2),a("tr",[a("td",{staticStyle:{"text-align":"center",height:"120px"},attrs:{colspan:"2"}},[a("strong",[t._v("ASIGNATURAS =>")])]),t._l(t.numeroColumnas,(function(t,e){return a("td",{key:"Lun-"+e})})),t._l(t.numeroColumnas,(function(t,e){return a("td",{key:"Mar-"+e,staticStyle:{"background-color":"#dcdbdb"}})})),t._l(t.numeroColumnas,(function(t,e){return a("td",{key:"Mie-"+e})})),t._l(t.numeroColumnas,(function(t,e){return a("td",{key:"Jue-"+e,staticStyle:{"background-color":"#dcdbdb"}})})),t._l(t.numeroColumnas,(function(t,e){return a("td",{key:"Vie-"+e})}))],2),a("tr",[a("th",[t._v("#")]),a("th",[t._v("Estudiante")]),t._l(t.numeroColumnas,(function(e,o){return a("th",{key:"Lun-"+o,staticStyle:{"text-align":"center"}},[t._v(t._s(o+1))])})),t._l(t.numeroColumnas,(function(e,o){return a("th",{key:"Mar-"+o,staticStyle:{"text-align":"center","background-color":"#dcdbdb"}},[t._v(t._s(o+1))])})),t._l(t.numeroColumnas,(function(e,o){return a("th",{key:"Mie-"+o,staticStyle:{"text-align":"center"}},[t._v(t._s(o+1))])})),t._l(t.numeroColumnas,(function(e,o){return a("th",{key:"Jue-"+o,staticStyle:{"text-align":"center","background-color":"#dcdbdb"}},[t._v(t._s(o+1))])})),t._l(t.numeroColumnas,(function(e,o){return a("th",{key:"Vie-"+o,staticStyle:{"text-align":"center"}},[t._v(t._s(o+1))])}))],2)]),a("tbody",t._l(t.estudiantesPorCurso(e.idCurso),(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(o+1))]),a("td",[2==e.estadoActual?a("span",{staticStyle:{color:"#9C2007"}},[t._v("[R] "+t._s(e.estudiante))]):a("span",[t._v(t._s(e.estudiante))])]),t._l(t.numeroColumnas,(function(t){return a("td",{key:"Lun-"+t})})),t._l(t.numeroColumnas,(function(t){return a("td",{key:"Mar-"+t,staticStyle:{"background-color":"#dcdbdb"}})})),t._l(t.numeroColumnas,(function(t){return a("td",{key:"Mie-"+t})})),t._l(t.numeroColumnas,(function(t){return a("td",{key:"Jue-"+t,staticStyle:{"background-color":"#dcdbdb"}})})),t._l(t.numeroColumnas,(function(t){return a("td",{key:"Vie-"+t})}))],2)})),0)]),a("p",{staticClass:"text-muted",staticStyle:{"text-align":"right","margin-top":"-20px","font-size":"11px"}},[a("i",[t._v(t._s(t.fechaImpresion))])]),a("table",{staticStyle:{}},[a("tr",[a("td",{attrs:{width:"80%"}},[t._v("OBSERVACIONES:"),a("br"),a("br"),a("br"),a("br")]),a("td",{staticStyle:{"text-align":"center"}},[a("br"),a("br"),a("br"),a("br"),t._v("FIRMA")])])]),o<t.cursosSeleccionados.length-1?a("div",{staticClass:"page-break"}):t._e()])})),0)]),a("div",[a("hr")]),a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1)])],1)],1)],1)],1)],1):t._e()],1)],1)],1)],1),a("b-modal",{ref:"modalSeleccionarCursos",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Seleccionar Cursos","ok-only":""}},[a("div",{staticClass:"mx-3"},[a("div",[a("vue-good-table",{ref:"cursitos",attrs:{columns:t.encabColumnasCursos,rows:t.listaCursos,styleClass:"vgt-table condensed bordered striped","line-numbers":!0,"search-options":{enabled:!0,placeholder:"Filtrar cursos..."},"select-options":{enabled:!0,selectionText:"cursos seleccionados",clearSelectionText:"Limpiar"}},scopedSlots:t._u([{key:"selected-row-actions",fn:function(){return[a("button",{staticClass:"small btn btn-success",on:{click:function(e){return t.procesarListasCursos()}}},[t._v("Seleccionar >>")])]},proxy:!0}])},[a("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[a("h5",{staticClass:"text-danger ml-5"},[t._v("No existen Cursos en la Sede")])])])],1)])])],1)},Z=[],K={name:"formatoactividadmensual",props:{},components:{VueGoodTable:u["a"]},data:function(){return{dataConsultada:[],btnCargando:!1,datosSeccion:{},comboNumeroColumnas:[],numeroColumnas:null,porcentajeArea:null,comboPorcentajeArea:[],idSede:null,comboSedes:[],nombreSede:null,cursosConsultados:!1,listaCursos:[],encabColumnasCursos:[{label:"Grado-Curso",field:"curso"},{label:"Jornada",field:"jornada"}],cursosSeleccionados:[],fechaImpresion:null,retirados:!1}},methods:{estudiantesPorCurso:function(t){var e=this;return this.dataConsultada.filter((function(a){return a.idCurso==t&&(!!e.retirados||1==a.estadoActual)}))},imprimir:function(){var t=this.$refs.contenido.innerHTML,e="\n        <style>\n          .encabezado {\n            text-align: center;\n            font-size: 12px;\n          }\n          .informe-estudiantes {\n            font-family: 'Segoe UI', sans-serif;\n            margin: 5px;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 10px;\n            margin-bottom: 20px;\n          }\n          th, td {\n            border: 1px solid #000;\n            padding: 1px;\n            padding-left: 3px;\n            text-align: left;\n          }\n          @media print {\n            .page-break {\n              page-break-after: always;\n            }\n            body {\n              font-family: 'Segoe UI', sans-serif;\n              margin: 5px;\n              color: #000;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 10px;\n              margin-bottom: 20px;\n            }\n            th, td {\n              border: 1px solid #000;\n              padding: 1px;\n              padding-left: 3px;\n              text-align: left;\n            }\n          }\n        </style>\n      ",a=window.open("Planillas por Curso","_blank");a.document.write("\n        <html>\n          <head><title>Planilla de Estudiantes</title>".concat(e,'</head>\n          <body">').concat(t,"</body>\n        </html>\n      ")),a.document.close(),a.print()},procesarListasCursos:function(){this.cursosConsultados=!0,this.cursosSeleccionados=this.$refs.cursitos.selectedRows,this.cargarDataEstudiantes(),this.$refs["modalSeleccionarCursos"].hide()},seleccionarCursos:function(){this.$refs["modalSeleccionarCursos"].show()},calcularEdad:function(t){var e=new Date,a=new Date(t),o=e.getFullYear()-a.getFullYear(),n=e.getMonth()-a.getMonth();return(n<0||0===n&&e.getDate()<a.getDate())&&o--,o},exportarAExcel:function(){var t=this,e=m["utils"].book_new();this.cursosSeleccionados.forEach((function(a){var o=t.estudiantesPorCurso(a.idCurso),n=o.map((function(t,e){var a={"#":e+1,Estudiante:t.estudiante};return a})),s=m["utils"].json_to_sheet(n);m["utils"].book_append_sheet(e,s,a.curso.slice(0,31))})),m["writeFile"](e,"Planilla Estudiantes Curso.xlsx")},listarCursosSede:function(){var t=this;this.nombreSede=document.getElementById("sedes")[document.getElementById("sedes").selectedIndex].text,this.listaCursos=[],this.$store.state.datosCursos.forEach((function(e){e.id_sede==t.idSede&&t.listaCursos.push({idCurso:e.id,curso:e.nomenclatura.toUpperCase(),jornada:e.jornada,sede:e.sede})}))},ocuparComboSedes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.comboSedes=[],t.$store.state.datosSedes.forEach((function(e){t.comboSedes.push({value:e.id,text:e.sede.toUpperCase()})}));case 2:case"end":return e.stop()}}),e)})))()},cargarDataEstudiantes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnCargando=!0,a=[],t.cursosSeleccionados.forEach((function(t){a.push(t.idCurso)})),o=a.filter((function(t,e,a){return a.indexOf(t)===e})),a=o,e.next=7,r.a.get(i["d"]+"academico/data/estudiantes/cursos",{params:{idInstitucion:t.$store.state.idInstitucion,vigencia:t.$store.state.aLectivo,cursos:JSON.stringify(a)}}).then((function(e){e.data.error?(t.mensajeEmergente("danger",i["h"],e.data.mensaje+" - Consulta Estudiantes"),t.btnCargando=!1):0!=e.data.datos?(t.dataConsultada=e.data.datos,t.btnCargando=!1):(t.dataConsultada=[],t.btnCargando=!1)})).catch((function(e){t.mensajeEmergente("danger",i["h"],response.data.mensaje+" - Algo salio mal y no se pudo realizar: Consulta Data Estudiantes. Intente más tarde."+e),t.btnCargando=!1}));case 7:case"end":return e.stop()}}),e)})))()},mensajeEmergente:function(t,e,a){this.$bvToast.toast(a,{title:e,variant:t,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},computed:{},beforeMount:function(){this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1],this.fechaImpresion="Fecha: "+(new Date).toLocaleString(),this.ocuparComboSedes(),this.comboNumeroColumnas=[{value:0,text:"Sin columnas adicionales"},{value:1,text:"1 columna"},{value:2,text:"2 columnas"},{value:3,text:"3 columnas"},{value:4,text:"4 columnas"},{value:5,text:"5 columnas"},{value:6,text:"6 columnas"},{value:7,text:"7 columnas"},{value:8,text:"8 columnas"},{value:9,text:"9 columnas"},{value:10,text:"10 columnas"},{value:11,text:"11 columnas"},{value:12,text:"12 columnas"},{value:13,text:"13 columnas"},{value:14,text:"14 columnas"},{value:15,text:"15 columnas"}],this.comboPorcentajeArea=[{value:10,text:"10%"},{value:20,text:"20%"},{value:30,text:"30%"},{value:40,text:"40%"},{value:50,text:"50%"},{value:60,text:"60%"},{value:70,text:"70%"},{value:80,text:"80%"}],this.porcentajeArea=60,this.numeroColumnas=7}},Q=K,W=(a("ad5d"),Object(v["a"])(Q,Y,Z,!1,null,"3a05e560",null)),X=W.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" PLANILLA CONTROL MENSUAL DE ACTIVIDADES POR CURSO")],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),a("b-row",[a("b-col",{attrs:{lg:"9"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione la Sede:","label-for":"sedes"}},[a("b-form-select",{ref:"sedes",attrs:{id:"sedes",options:t.comboSedes},on:{change:function(e){t.listarCursosSede(),t.cursosConsultados=null}},model:{value:t.idSede,callback:function(e){t.idSede=e},expression:"idSede"}})],1)],1),a("b-col",{staticClass:"mt-2",attrs:{lg:"3"}},[a("b-button",{staticClass:"small mx-1 mt-4",attrs:{variant:"success",disabled:null==t.idSede},on:{click:function(e){return t.seleccionarCursos()}}},[t._v("Seleccionar Cursos")])],1)],1),t.cursosConsultados?a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("hr")]),a("b-col",{attrs:{lg:"3"}},[a("b-card",{attrs:{"bg-variant":"light","text-variant":""}},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Área para las Columnas:")]),a("b-row",{staticClass:"m-1"},[a("b-col",{attrs:{lg:"12"}},[a("b-form-select",{ref:"porcentajeArea",attrs:{id:"porcentajeArea",options:t.comboPorcentajeArea},model:{value:t.porcentajeArea,callback:function(e){t.porcentajeArea=e},expression:"porcentajeArea"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[t._v("Retirados:")]),a("b-form-checkbox",{ref:"estRetirados",staticClass:"ml-4 m-3",attrs:{id:"estRetirados",name:"check-button",switch:""},model:{value:t.retirados,callback:function(e){t.retirados=e},expression:"retirados"}},[a("span",{staticClass:"ml-2"},[t._v("Listar estudiantes retirados")])])],1)],1)],1)],1)],1)],1),a("b-col",{attrs:{lg:"9"}},[a("b-card",[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[t.btnCargando?a("div",[a("div",{staticClass:"text-center m-5 text-primary"},[a("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),a("br"),a("strong",[t._v("Cargando informe...")])],1)]):t._e()])],1),t.btnCargando?t._e():a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1),a("div",[a("hr")]),a("div",{staticClass:"informe-estudiantes"},[a("div",{ref:"contenido"},t._l(t.cursosSeleccionados,(function(e,o){return a("div",{key:e.idCurso,staticClass:"bloque-curso"},[a("div",{staticClass:"encabezado"},[a("p",[t._v("SECRETARÍA DE EDUCACIÓN TERRITORIAL DE TUNJA"),a("br"),a("b",[t._v(t._s(t.$store.state.nombreInstitucion))]),a("br"),t._v("TUNJA - BOYACÁ"),a("br"),t._v("PLANILLA CONTROL MENSUAL DE ACTIVIDADES"),a("br")])]),a("table",{staticClass:"tabla-estudiantes"},[a("thead",[a("tr",[a("th",[t._v("Sede: "),a("b",[t._v(t._s(e.sede))])]),a("th",[t._v("Curso: "),a("b",[t._v(t._s(e.curso))])]),a("th",[t._v("Jornada: "),a("b",[t._v(t._s(e.jornada))])]),a("th",[t._v("Año: "),a("b",[t._v(t._s(t.$store.state.aLectivo))])])]),a("tr",[a("th",[t._v("Actividad:")]),a("th",{attrs:{colspan:"2"}},[t._v("Responsable:")]),a("th",[t._v("Mes:")])])])]),a("table",{staticClass:"tabla-estudiantes",staticStyle:{"margin-top":"-20px"}},[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Estudiante")]),t._l(t.numeroColumnas,(function(e,o){return a("th",{key:e,style:"width: "+t.porcentajeArea/t.numeroColumnas+"%; text-align: center;"},[t._v(t._s(o+1))])}))],2)]),a("tbody",t._l(t.estudiantesPorCurso(e.idCurso),(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(o+1))]),a("td",[2==e.estadoActual?a("span",{staticStyle:{color:"#9C2007"}},[t._v("[R] "+t._s(e.estudiante))]):a("span",[t._v(t._s(e.estudiante))])]),t._l(t.numeroColumnas,(function(t){return a("td",{key:t})}))],2)})),0)]),a("p",{staticClass:"text-muted",staticStyle:{"text-align":"right","margin-top":"-20px","font-size":"11px"}},[a("i",[t._v(t._s(t.fechaImpresion))])]),o<t.cursosSeleccionados.length-1?a("div",{staticClass:"page-break"}):t._e()])})),0)]),a("div",[a("hr")]),a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")])],1)])],1)],1)],1)],1)],1):t._e()],1)],1)],1)],1),a("b-modal",{ref:"modalSeleccionarCursos",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Seleccionar Cursos","ok-only":""}},[a("div",{staticClass:"mx-3"},[a("div",[a("vue-good-table",{ref:"cursitos",attrs:{columns:t.encabColumnasCursos,rows:t.listaCursos,styleClass:"vgt-table condensed bordered striped","line-numbers":!0,"search-options":{enabled:!0,placeholder:"Filtrar cursos..."},"select-options":{enabled:!0,selectionText:"cursos seleccionados",clearSelectionText:"Limpiar"}},scopedSlots:t._u([{key:"selected-row-actions",fn:function(){return[a("button",{staticClass:"small btn btn-success",on:{click:function(e){return t.procesarListasCursos()}}},[t._v("Seleccionar >>")])]},proxy:!0}])},[a("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[a("h5",{staticClass:"text-danger ml-5"},[t._v("No existen Cursos en la Sede")])])])],1)])])],1)},et=[],at={name:"formatoactividadmensual",props:{},components:{VueGoodTable:u["a"]},data:function(){return{dataConsultada:[],btnCargando:!1,datosSeccion:{},comboNumeroColumnas:[],numeroColumnas:null,porcentajeArea:null,comboPorcentajeArea:[],idSede:null,comboSedes:[],nombreSede:null,cursosConsultados:!1,listaCursos:[],encabColumnasCursos:[{label:"Grado-Curso",field:"curso"},{label:"Jornada",field:"jornada"}],cursosSeleccionados:[],fechaImpresion:null,retirados:!1}},methods:{estudiantesPorCurso:function(t){var e=this;return this.dataConsultada.filter((function(a){return a.idCurso==t&&(!!e.retirados||1==a.estadoActual)}))},imprimir:function(){var t=this.$refs.contenido.innerHTML,e="\n        <style>\n          .encabezado {\n            text-align: center;\n            font-size: 13px;\n          }\n          .informe-estudiantes {\n            font-family: 'Segoe UI', sans-serif;\n            margin: 5px;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 13px;\n            margin-bottom: 20px;\n          }\n          th, td {\n            border: 1px solid #999;\n            padding: 3px;\n            text-align: left;\n          }\n          thead {\n            background-color: #f0f4fa;\n          }\n          @media print {\n            .page-break {\n              page-break-after: always;\n            }\n            body {\n              font-family: 'Segoe UI', sans-serif;\n              margin: 5px;\n              color: #000;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 11px;\n              margin-bottom: 20px;\n            }\n            th, td {\n              border: 1px solid #000;\n              padding: 2px;\n              text-align: left;\n            }\n            thead {\n              background-color: #f0f4fa;\n            }\n          }\n        </style>\n      ",a=window.open("Planillas por Curso","_blank");a.document.write("\n        <html>\n          <head><title>Planilla de Estudiantes</title>".concat(e,'</head>\n          <body">').concat(t,"</body>\n        </html>\n      ")),a.document.close(),a.print()},procesarListasCursos:function(){this.cursosConsultados=!0,this.cursosSeleccionados=this.$refs.cursitos.selectedRows,this.cargarDataEstudiantes(),this.$refs["modalSeleccionarCursos"].hide()},seleccionarCursos:function(){this.$refs["modalSeleccionarCursos"].show()},calcularEdad:function(t){var e=new Date,a=new Date(t),o=e.getFullYear()-a.getFullYear(),n=e.getMonth()-a.getMonth();return(n<0||0===n&&e.getDate()<a.getDate())&&o--,o},exportarAExcel:function(){var t=this,e=m["utils"].book_new();this.cursosSeleccionados.forEach((function(a){var o=t.estudiantesPorCurso(a.idCurso),n=o.map((function(t,e){var a={"#":e+1,Estudiante:t.estudiante};return a})),s=m["utils"].json_to_sheet(n);m["utils"].book_append_sheet(e,s,a.curso.slice(0,31))})),m["writeFile"](e,"Planilla Estudiantes Curso.xlsx")},listarCursosSede:function(){var t=this;this.nombreSede=document.getElementById("sedes")[document.getElementById("sedes").selectedIndex].text,this.listaCursos=[],this.$store.state.datosCursos.forEach((function(e){e.id_sede==t.idSede&&t.listaCursos.push({idCurso:e.id,curso:e.nomenclatura.toUpperCase(),jornada:e.jornada,sede:e.sede})}))},ocuparComboSedes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.comboSedes=[],t.$store.state.datosSedes.forEach((function(e){t.comboSedes.push({value:e.id,text:e.sede.toUpperCase()})}));case 2:case"end":return e.stop()}}),e)})))()},cargarDataEstudiantes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnCargando=!0,a=[],t.cursosSeleccionados.forEach((function(t){a.push(t.idCurso)})),o=a.filter((function(t,e,a){return a.indexOf(t)===e})),a=o,e.next=7,r.a.get(i["d"]+"academico/data/estudiantes/cursos",{params:{idInstitucion:t.$store.state.idInstitucion,vigencia:t.$store.state.aLectivo,cursos:JSON.stringify(a)}}).then((function(e){e.data.error?(t.mensajeEmergente("danger",i["h"],e.data.mensaje+" - Consulta Estudiantes"),t.btnCargando=!1):0!=e.data.datos?(t.dataConsultada=e.data.datos,t.btnCargando=!1):(t.dataConsultada=[],t.btnCargando=!1)})).catch((function(e){t.mensajeEmergente("danger",i["h"],response.data.mensaje+" - Algo salio mal y no se pudo realizar: Consulta Data Estudiantes. Intente más tarde."+e),t.btnCargando=!1}));case 7:case"end":return e.stop()}}),e)})))()},mensajeEmergente:function(t,e,a){this.$bvToast.toast(a,{title:e,variant:t,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},computed:{},beforeMount:function(){this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1],this.fechaImpresion="Fecha: "+(new Date).toLocaleString(),this.ocuparComboSedes(),this.comboNumeroColumnas=[{value:0,text:"Sin columnas adicionales"},{value:1,text:"1 columna"},{value:2,text:"2 columnas"},{value:3,text:"3 columnas"},{value:4,text:"4 columnas"},{value:5,text:"5 columnas"},{value:6,text:"6 columnas"},{value:7,text:"7 columnas"},{value:8,text:"8 columnas"},{value:9,text:"9 columnas"},{value:10,text:"10 columnas"},{value:11,text:"11 columnas"},{value:12,text:"12 columnas"},{value:13,text:"13 columnas"},{value:14,text:"14 columnas"},{value:15,text:"15 columnas"}],this.comboPorcentajeArea=[{value:10,text:"10%"},{value:20,text:"20%"},{value:30,text:"30%"},{value:40,text:"40%"},{value:50,text:"50%"},{value:60,text:"60%"},{value:70,text:"70%"},{value:80,text:"80%"}],this.porcentajeArea=60,this.numeroColumnas=31}},ot=at,nt=(a("af14"),Object(v["a"])(ot,tt,et,!1,null,"e7f52c24",null)),st=nt.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" FORMATO OBSERVADOR")],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione la Sede:","label-for":"sedes"}},[a("b-form-select",{ref:"sedes",attrs:{id:"sedes",options:t.comboSedes},on:{change:function(e){t.ocuparComboCursos(),t.idCurso=null,t.estConsultados=null}},model:{value:t.idSede,callback:function(e){t.idSede=e},expression:"idSede"}})],1)],1),a("b-col",{attrs:{lg:"3"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione el Curso:","label-for":"cursos"}},[a("b-form-select",{ref:"cursos",attrs:{id:"cursos",options:t.comboCursos,disabled:null==t.idSede},on:{change:function(e){t.generarListadoEstudiantes(),t.estConsultados=null}},model:{value:t.idCurso,callback:function(e){t.idCurso=e},expression:"idCurso"}})],1)],1),a("b-col",{staticClass:"mt-2",attrs:{lg:"3"}},[a("b-button",{staticClass:"small mx-1 mt-4",attrs:{variant:"success",disabled:null==t.idCurso},on:{click:function(e){return t.seleccionarEstudiantes()}}},[t._v("Seleccionar Estudiantes")])],1)],1),t.estConsultados?a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-card",[a("b-card-text",[t.btnCargando?t._e():a("b-row",[a("b-col",{attrs:{lg:"12"}},["f5529ba0-fcb3-11ec-8267-536b07c743c4"==t.$store.state.idInstitucion?a("div",[a("GustavoRojas",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,sede:t.nombreSede,curso:t.nombreCurso,jornada:t.nombreJornada}})],1):a("div",[a("FormatoGeneral",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,sede:t.nombreSede,curso:t.nombreCurso,jornada:t.nombreJornada}})],1)])],1)],1)],1)],1)],1):t._e()],1)],1)],1)],1),a("b-modal",{ref:"modalSeleccionarEstudiantes",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Seleccionar Estudiantes","ok-only":""}},[a("div",{staticClass:"mx-3"},[a("div",[a("vue-good-table",{ref:"estudianticos",attrs:{columns:t.encabColumnas,rows:t.listaEstudiantes,styleClass:"vgt-table condensed bordered striped","line-numbers":!0,"search-options":{enabled:!0,placeholder:"Filtrar estudiantes..."},"select-options":{enabled:!0,selectionText:"estudiantes seleccionados",clearSelectionText:"Limpiar"}},scopedSlots:t._u([{key:"selected-row-actions",fn:function(){return[a("button",{staticClass:"small btn btn-success",on:{click:function(e){return t.procesarFormatoObservador()}}},[t._v("Seleccionar >>")])]},proxy:!0}])},[a("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[a("h5",{staticClass:"text-danger ml-5"},[t._v("No existen Estudiantes en el Curso")])])])],1)])])],1)},it=[],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")])],1),t._m(0),a("div",{staticClass:"informe-estudiantes"},[a("div",{ref:"contenido"},t._l(t.estudiantesSeleccionados,(function(e,o){return a("div",{key:e.idMatricula,staticClass:"bloque-est"},[a("div",{staticClass:"encabezado"},[a("p",[t._v("SECRETARÍA DE EDUCACIÓN TERRITORIAL DE TUNJA"),a("br"),a("b",[t._v(t._s(t.$store.state.nombreInstitucion))]),a("br"),t._v("TUNJA - BOYACÁ"),a("br"),t._v("OBSERVADOR DEL ESTUDIANTE AÑO LECTIVO "+t._s(t.$store.state.aLectivo)),a("br")])]),a("div",{staticClass:"float-left",staticStyle:{"margin-top":"-90px","margin-left":"20px"}},[a("img",{staticClass:"escudo",attrs:{src:t.escudoUrl,alt:"Escudo",width:"65px"}})]),a("table",{staticClass:"table",staticStyle:{"margin-top":"15px"}},[t._m(1,!0),a("tbody",[a("tr",[a("th",[t._v("Estudiante")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(e.estudiante))]),a("th",[t._v("Documento")]),a("td",[t._v(t._s(e.tipodoc)+" "+t._s(e.documento))]),a("th",[t._v("F. Nace")]),a("td",[t._v(t._s(e.fnace))])]),a("tr",[a("th",[t._v("Dirección")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(e.dirE)+" "+t._s(e.munDirE))]),a("th",[t._v("Teléfono")]),a("td",[t._v(t._s(e.telefono1))]),a("th",[t._v("Edad")]),a("td",[t._v(t._s(e.edad))])]),a("tr",[a("th",[t._v("Sede")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.sede))]),a("th",[t._v("Grado-Curso")]),a("td",[t._v(t._s(t.curso))]),a("th",[t._v("Jornada")]),a("td",[t._v(t._s(t.jornada))])])])]),a("table",{staticClass:"table"},[t._m(2,!0),a("tbody",[a("tr",[a("th",[t._v("Padre")]),a("td",[t._v(t._s(e.papa))]),a("th",[t._v("Dirección")]),a("td",[t._v(t._s(e.direccionP)+" "+t._s(e.mdirP))]),a("th",[t._v("Tel.")]),a("td",[t._v(t._s(e.telefono1P))])]),a("tr",[a("th",[t._v("Madre")]),a("td",[t._v(t._s(e.mama))]),a("th",[t._v("Dirección")]),a("td",[t._v(t._s(e.direccionM)+" "+t._s(e.mdirM))]),a("th",[t._v("Tel.")]),a("td",[t._v(t._s(e.telefono1M))])]),a("tr",[a("th",[t._v("Acudiente")]),a("td",[t._v(t._s(e.acudiente))]),a("th",[t._v("Dirección")]),a("td",[t._v(t._s(e.direccionA)+" "+t._s(e.mdirA))]),a("th",[t._v("Tel.")]),a("td",[t._v(t._s(e.telefono1A))])]),a("tr",[a("th",[t._v("Correo")]),a("td",[t._v(t._s(e.correoA))]),a("th",[t._v("Ocupación")]),a("td",[t._v(t._s(e.ocupacionA))]),a("th",[t._v("Fecha")]),a("td",[t._v(t._s(t.fechaImpresion))])])])]),a("table",{staticClass:"table"},[t._m(3,!0),a("tbody",[t._m(4,!0),t._l(9,(function(t){return a("tr",{key:t},[a("td",{staticStyle:{height:"48px"}}),a("td"),a("td"),a("td"),a("td"),a("td"),a("td")])}))],2)]),t._m(5,!0),o<t.estudiantesSeleccionados.length-1?a("div",{staticClass:"page-break"}):t._e()])})),0)]),t._m(6),a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")])],1)])},lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("hr")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:"7"}},[t._v("DATOS DEL ESTUDIANTE")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:"7"}},[t._v("DATOS FAMILIARES")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:"7"}},[t._v("ASPECTOS OBSERVADOS")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{"text-align":"center",width:"4%"}},[t._v("FECHA")]),a("td",{staticStyle:{"text-align":"center",width:"27%"}},[t._v("ASPECTO OBSERVADO")]),a("td",{staticStyle:{"text-align":"center",width:"27%"}},[t._v("PROCEDIMIENTO Y RECOMENDACIONES")]),a("td",{staticStyle:{"text-align":"center",width:"27%"}},[t._v("COMPROMISOS")]),a("td",{staticStyle:{"text-align":"center",width:"5%"}},[t._v("FIRMA ESTUDIANTE")]),a("td",{staticStyle:{"text-align":"center",width:"5%"}},[t._v("FIRMA PADRE DE FAMILIA")]),a("td",{staticStyle:{"text-align":"center",width:"5%"}},[t._v("FIRMA DOCENTE")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"firmas"},[a("div",[a("span",[t._v("DIRECTOR DE CURSO_________________________________________________ Vo.Bo. PSICOORIENTACIÓN_________________________________________________ Vo.Bo. COORDINACIÓN_________________________________________________")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("hr")])}],dt={name:"formatoobservador",props:{estudiantesSeleccionados:Array,sede:String,curso:String,jornada:String},components:{},data:function(){return{escudoUrl:null}},methods:{imprimir:function(){var t=this.$refs.contenido.innerHTML,e="\n        <style>\n          .encabezado {\n            text-align: center;\n            font-size: 13px;\n          }\n          .informe-estudiantes {\n            font-family: 'Segoe UI', sans-serif;\n            margin: 5px;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 10px;\n            margin-bottom: 5px;\n          }\n          th, td {\n            border: 1px solid #000;\n            padding: 3px;\n            text-align: left;\n          }\n          .firmas {\n            display: flex;\n            justify-content: space-around;\n            margin-top: 40px;\n            font-size: 13px;\n          }\n          thead {\n            background-color: #f0f4fa;\n          }\n          @media print {\n            .page-break {\n              page-break-after: always;\n            }\n            .firmas {\n              display: flex;\n              justify-content: space-around;\n              margin-top: 40px;\n              font-size: 13px;\n            }\n            body {\n              font-family: 'Segoe UI', sans-serif;\n              margin: 5px;\n              color: #000;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 10px;\n              margin-bottom: 5px;\n            }\n            th, td {\n              border: 1px solid #000;\n              padding: 2px;\n              text-align: left;\n            }\n            thead {\n              background-color: #f0f4fa;\n            }\n          }\n        </style>\n      ",a=window.open("Listas por Curso","_blank");a.document.write("\n        <html>\n          <head><title>Listado de Estudiantes</title>".concat(e,'</head>\n          <body">').concat(t,"</body>\n        </html>\n      ")),a.document.close(),a.print()},exportarAExcel:function(){}},beforeMount:function(){this.escudoUrl="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.fechaImpresion=(new Date).toLocaleDateString()}},ut=dt,mt=(a("e8f8"),Object(v["a"])(ut,ct,lt,!1,null,"54a63b61",null)),bt=mt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")])],1),t._m(0),a("div",{staticClass:"informe-estudiantes"},[a("div",{ref:"contenido"},t._l(t.estudiantesSeleccionados,(function(e,o){return a("div",{key:e.idMatricula,staticClass:"bloque-est"},[a("div",{staticClass:"encabezado"},[a("p",[t._v("SECRETARÍA DE EDUCACIÓN TERRITORIAL DE TUNJA"),a("br"),a("b",[t._v(t._s(t.$store.state.nombreInstitucion))]),a("br"),t._v("TUNJA - BOYACÁ"),a("br"),t._v("OBSERVADOR DEL ESTUDIANTE AÑO LECTIVO "+t._s(t.$store.state.aLectivo)),a("br")])]),a("div",{staticClass:"float-left",staticStyle:{"margin-top":"-90px","margin-left":"20px"}},[a("img",{staticClass:"escudo",attrs:{src:t.escudoUrl,alt:"Escudo",width:"65px"}})]),a("table",{staticClass:"table",staticStyle:{"margin-top":"15px"}},[t._m(1,!0),a("tbody",[a("tr",[a("th",[t._v("Estudiante")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(e.estudiante))]),a("th",[t._v("Documento")]),a("td",[t._v(t._s(e.tipodoc)+" "+t._s(e.documento))]),a("th",[t._v("F. Nace")]),a("td",[t._v(t._s(e.fnace))])]),a("tr",[a("th",[t._v("Dirección")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(e.dirE)+" "+t._s(e.munDirE))]),a("th",[t._v("Teléfono")]),a("td",[t._v(t._s(e.telefono1))]),a("th",[t._v("Edad")]),a("td",[t._v(t._s(e.edad))])]),a("tr",[a("th",[t._v("Sede")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.sede))]),a("th",[t._v("Grado-Curso")]),a("td",[t._v(t._s(t.curso))]),a("th",[t._v("Jornada")]),a("td",[t._v(t._s(t.jornada))])])])]),a("table",{staticClass:"table"},[t._m(2,!0),a("tbody",[a("tr",[a("th",[t._v("Padre")]),a("td",[t._v(t._s(e.papa))]),a("th",[t._v("Dirección")]),a("td",[t._v(t._s(e.direccionP)+" "+t._s(e.mdirP))]),a("th",[t._v("Tel.")]),a("td",[t._v(t._s(e.telefono1P))])]),a("tr",[a("th",[t._v("Madre")]),a("td",[t._v(t._s(e.mama))]),a("th",[t._v("Dirección")]),a("td",[t._v(t._s(e.direccionM)+" "+t._s(e.mdirM))]),a("th",[t._v("Tel.")]),a("td",[t._v(t._s(e.telefono1M))])]),a("tr",[a("th",[t._v("Acudiente")]),a("td",[t._v(t._s(e.acudiente))]),a("th",[t._v("Dirección")]),a("td",[t._v(t._s(e.direccionA)+" "+t._s(e.mdirA))]),a("th",[t._v("Tel.")]),a("td",[t._v(t._s(e.telefono1A))])]),a("tr",[a("th",[t._v("Correo")]),a("td",[t._v(t._s(e.correoA))]),a("th",[t._v("Ocupación")]),a("td",[t._v(t._s(e.ocupacionA))]),a("th",[t._v("Fecha")]),a("td",[t._v(t._s(t.fechaImpresion))])])])]),a("table",{staticClass:"table"},[t._m(3,!0),a("tbody",[t._m(4,!0),t._l(9,(function(t){return a("tr",{key:t},[a("td",{staticStyle:{height:"48px"}}),a("td"),a("td"),a("td"),a("td"),a("td"),a("td")])}))],2)]),t._m(5,!0),o<t.estudiantesSeleccionados.length-1?a("div",{staticClass:"page-break"}):t._e()])})),0)]),t._m(6),a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")])],1)])},vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("hr")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:"7"}},[t._v("DATOS DEL ESTUDIANTE")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:"7"}},[t._v("DATOS FAMILIARES")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:"7"}},[t._v("ASPECTOS OBSERVADOS")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{"text-align":"center",width:"4%"}},[t._v("FECHA")]),a("td",{staticStyle:{"text-align":"center",width:"27%"}},[t._v("ASPECTO OBSERVADO")]),a("td",{staticStyle:{"text-align":"center",width:"27%"}},[t._v("PROCEDIMIENTO Y RECOMENDACIONES")]),a("td",{staticStyle:{"text-align":"center",width:"27%"}},[t._v("COMPROMISOS")]),a("td",{staticStyle:{"text-align":"center",width:"5%"}},[t._v("FIRMA ESTUDIANTE")]),a("td",{staticStyle:{"text-align":"center",width:"5%"}},[t._v("FIRMA PADRE DE FAMILIA")]),a("td",{staticStyle:{"text-align":"center",width:"5%"}},[t._v("FIRMA DOCENTE")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"firmas"},[a("div",[a("span",[t._v("DIRECTOR DE CURSO_________________________________________________ Vo.Bo. PSICOORIENTACIÓN_________________________________________________ Vo.Bo. COORDINACIÓN_________________________________________________")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("hr")])}],ft={name:"formatoobservador",props:{estudiantesSeleccionados:Array,sede:String,curso:String,jornada:String},components:{},data:function(){return{escudoUrl:null}},methods:{imprimir:function(){var t=this.$refs.contenido.innerHTML,e="\n        <style>\n          .encabezado {\n            text-align: center;\n            font-size: 13px;\n          }\n          .informe-estudiantes {\n            font-family: 'Segoe UI', sans-serif;\n            margin: 5px;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 10px;\n            margin-bottom: 5px;\n          }\n          th, td {\n            border: 1px solid #000;\n            padding: 3px;\n            text-align: left;\n          }\n          .firmas {\n            display: flex;\n            justify-content: space-around;\n            margin-top: 40px;\n            font-size: 13px;\n          }\n          thead {\n            background-color: #f0f4fa;\n          }\n          @media print {\n            .page-break {\n              page-break-after: always;\n            }\n            .firmas {\n              display: flex;\n              justify-content: space-around;\n              margin-top: 40px;\n              font-size: 13px;\n            }\n            body {\n              font-family: 'Segoe UI', sans-serif;\n              margin: 5px;\n              color: #000;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 10px;\n              margin-bottom: 5px;\n            }\n            th, td {\n              border: 1px solid #000;\n              padding: 2px;\n              text-align: left;\n            }\n            thead {\n              background-color: #f0f4fa;\n            }\n          }\n        </style>\n      ",a=window.open("Listas por Curso","_blank");a.document.write("\n        <html>\n          <head><title>Listado de Estudiantes</title>".concat(e,'</head>\n          <body">').concat(t,"</body>\n        </html>\n      ")),a.document.close(),a.print()},exportarAExcel:function(){}},beforeMount:function(){this.escudoUrl="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.fechaImpresion=(new Date).toLocaleDateString()}},_t=ft,ht=(a("bb92"),Object(v["a"])(_t,pt,vt,!1,null,"5caa6076",null)),xt=ht.exports,gt={name:"formatoobservador",props:{},components:{VueGoodTable:u["a"],GustavoRojas:bt,FormatoGeneral:xt},data:function(){return{idSede:null,comboSedes:[],nombreSede:null,idCurso:null,comboCursos:[],nombreCurso:null,nombreJornada:null,listaEstudiantes:[],btnCargando:!1,datosSeccion:{},encabColumnas:[{label:"Estudiante",field:"estudiante"}],estudiantesSeleccionados:[],fechaImpresion:null,estConsultados:!1}},methods:{generarListadoEstudiantes:function(){this.cargarDataEstudiantes()},procesarFormatoObservador:function(){this.estConsultados=!0,this.estudiantesSeleccionados=this.$refs.estudianticos.selectedRows,this.$refs["modalSeleccionarEstudiantes"].hide()},seleccionarEstudiantes:function(){this.$refs["modalSeleccionarEstudiantes"].show()},calcularEdad:function(t){var e=new Date,a=new Date(t),o=e.getFullYear()-a.getFullYear(),n=e.getMonth()-a.getMonth();return(n<0||0===n&&e.getDate()<a.getDate())&&o--,o},ocuparComboCursos:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.comboCursos=[],t.$store.state.datosCursos.forEach((function(e){e.id_sede==t.idSede&&t.comboCursos.push({value:e.id,text:e.nomenclatura.toUpperCase(),jornada:e.jornada})}));case 2:case"end":return e.stop()}}),e)})))()},ocuparComboSedes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.comboSedes=[],t.$store.state.datosSedes.forEach((function(e){t.comboSedes.push({value:e.id,text:e.sede.toUpperCase()})}));case 2:case"end":return e.stop()}}),e)})))()},cargarDataEstudiantes:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnCargando=!0,a=[],a.push(t.idCurso),e.next=5,r.a.get(i["d"]+"academico/data/estudiantes/cursos/campos",{params:{idInstitucion:t.$store.state.idInstitucion,vigencia:t.$store.state.aLectivo,cursos:JSON.stringify(a)}}).then((function(e){e.data.error?(t.mensajeEmergente("danger",i["h"],e.data.mensaje+" - Consulta Estudiantes"),t.btnCargando=!1):0!=e.data.datos?(t.dataConsultada=e.data.datos,t.btnCargando=!1):(t.dataConsultada=[],t.btnCargando=!1)})).catch((function(e){t.mensajeEmergente("danger",i["h"],response.data.mensaje+" - Algo salio mal y no se pudo realizar: Consulta Data Estudiantes. Intente más tarde."+e),t.btnCargando=!1}));case 5:t.listaEstudiantes=t.dataConsultada.filter((function(e){return e.idCurso==t.idCurso})),t.listaEstudiantes.forEach((function(e){e.edad=t.calcularEdad(e.fnace)+" Años"})),t.nombreSede=document.getElementById("sedes")[document.getElementById("sedes").selectedIndex].text,t.nombreCurso=document.getElementById("cursos")[document.getElementById("cursos").selectedIndex].text,t.$store.state.datosCursos.forEach((function(e){e.id==t.idCurso&&(t.nombreJornada=e.jornada)}));case 10:case"end":return e.stop()}}),e)})))()},mensajeEmergente:function(t,e,a){this.$bvToast.toast(a,{title:e,variant:t,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},computed:{},beforeMount:function(){this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1],this.ocuparComboSedes()}},Ct=gt,St=Object(v["a"])(Ct,rt,it,!1,null,null,null),Et=St.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),t._v(" BUSCAR ACUDIENTE")],1)]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"float-right text-medium-emphasis text-info"},[t._v("* Campo requerido")])]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"6",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Criterio de Busqueda*","label-for":"texto"}},[a("b-form-input",{ref:"texto",attrs:{id:"texto",state:t.validateStateT("textoBusqueda"),"aria-describedby":"feedTextoB",autocomplete:"off",maxlength:"50",autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarAcudiente()}},model:{value:t.$v.buscarTexto.textoBusqueda.$model,callback:function(e){t.$set(t.$v.buscarTexto.textoBusqueda,"$model","string"===typeof e?e.trim():e)},expression:"$v.buscarTexto.textoBusqueda.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedTextoB"}},[t._v("Campo requerido.")])],1),a("p",[t._v(" Realice la busqueda de un Acudiente digitando el número de documento sin puntos ni comas o digitando el nombre y/o apellido del Acudiente. ")])],1),a("b-col",{attrs:{lg:"6",md:"6"}},[a("br"),a("b-button",{staticClass:"small mt-1",attrs:{variant:"primary"},on:{click:function(e){return t.buscarAcudiente()}}},[t._v("Buscar Acudiente")])],1)],1),t.listaPersonas.length?a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("hr")]),a("b-col",{attrs:{lg:"12"}},[a("vue-good-table",{attrs:{columns:t.encabColumnas,rows:t.listaPersonas,styleClass:"vgt-table condensed bordered striped","line-numbers":!0,"search-options":{enabled:!0,placeholder:"Buscar..."},"pagination-options":{enabled:!0,mode:"records",perPage:25,position:"",perPageDropdown:[50,100,150,200],dropdownAllowAll:!1,setCurrentPage:1,nextLabel:"Siguiente",prevLabel:"Anterior",rowsPerPageLabel:"Filas por página",ofLabel:"de",pageLabel:"Página",allLabel:"Todo"}},scopedSlots:t._u([{key:"table-row",fn:function(e){return["idPersona"==e.column.field?a("span",[a("span",{staticStyle:{"font-weight":"bold",color:"blue",cursor:"pointer"},attrs:{title:"Ver Estudiantes"},on:{click:function(a){return t.consultaEstudiantes(e.row)}}},[a("CIcon",{attrs:{name:"cilZoom"}})],1)]):t._e()]}}],null,!1,2855744917)},[a("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[a("h5",{staticClass:"text-danger ml-5"},[t._v("No se encontraron Acudientes")])])])],1)],1):t._e()],1)],1)],1)],1),a("b-modal",{ref:"modalVerEstudiantesAcudiente",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Estudiantes por Acudiente","ok-only":""}},[a("div",{ref:"contenido",staticClass:"mx-3"},[a("div",{staticClass:"encabezado"},[a("p",[t._v("SECRETARÍA DE EDUCACIÓN TERRITORIAL DE TUNJA"),a("br"),a("b",[t._v(t._s(t.$store.state.nombreInstitucion))]),a("br"),t._v("TUNJA - BOYACÁ"),a("br"),t._v("LISTAS DE ESTUDIANTES POR ACUDIENTE"),a("br"),t._v("Acudiente: "+t._s(t.acudiente))])]),a("table",{staticClass:"tabla-estudiantes",attrs:{id:"tablaEst",name:"tablaEst"}},[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Estudiante")]),a("th",[t._v("Sede")]),a("th",[t._v("Curso")])])]),a("tbody",t._l(t.estudiantesAcudiente(),(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(o+1))]),a("td",[2==e.estadoActual?a("span",{staticStyle:{color:"#9C2007"}},[t._v("[R] "+t._s(e.estudiante))]):a("span",[t._v(t._s(e.estudiante))])]),a("td",[t._v(t._s(e.sede))]),a("td",[t._v(t._s(e.curso))])])})),0)])]),a("div",[a("hr")]),a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"primary"},on:{click:t.imprimir}},[t._v("Imprimir")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"outline-primary"},on:{click:t.exportarAExcel}},[t._v("Exportar a Excel")]),a("b-button",{staticClass:"small mx-1 mt-3",attrs:{variant:"secondary"},on:{click:t.cancelarFormulario}},[t._v("Cerrar")])],1)])],1)},yt=[],wt=(a("99af"),a("1dce")),kt=a("b5ae"),Dt={name:"listasporacudiente",mixins:[wt["validationMixin"]],components:{VueGoodTable:u["a"]},data:function(){return{idAcudiente:null,acudiente:null,buscarTexto:{textoBusqueda:null},listaPersonas:[],encabColumnas:[{label:"Nombre del Acudiente",field:"persona",sortable:!0},{label:"Documento",field:"documento",sortable:!1},{label:"",field:"idPersona",sortable:!1}]}},validations:{buscarTexto:{textoBusqueda:{required:kt["required"],minLength:Object(kt["minLength"])(0)}}},methods:{imprimir:function(){var t="Fecha: "+(new Date).toLocaleString(),e=this.$refs.contenido.innerHTML,a="\n        <style>\n          .encabezado {\n            text-align: center;\n            font-size: 13px;\n          }\n          .informe-estudiantes {\n            font-family: 'Segoe UI', sans-serif;\n            margin: 5px;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 13px;\n            margin-bottom: 1px;\n          }\n          th, td {\n            border: 1px solid #999;\n            padding: 3px;\n            text-align: left;\n          }\n          thead {\n            background-color: #f0f4fa;\n          }\n          @media print {\n            .page-break {\n              page-break-after: always;\n            }\n            body {\n              font-family: 'Segoe UI', sans-serif;\n              margin: 5px;\n              color: #000;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 12px;\n              margin-bottom: 1px;\n            }\n            th, td {\n              border: 1px solid #000;\n              padding: 2px;\n              text-align: left;\n            }\n            thead {\n              background-color: #f0f4fa;\n            }\n          }\n        </style>\n      ",o=window.open("Lista por Acudiente","_blank");o.document.write("\n        <html>\n          <head><title>Lista por Acudiente</title>".concat(a,'</head>\n          <body">').concat(e,'</body>\n          <div style="text-align: right; font-size: 12px;"><i>').concat(t,"</i></div>\n        </html>\n      ")),o.document.close(),o.print()},exportarAExcel:function(){var t=document.getElementById("tablaEst"),e=m["utils"].table_to_book(t);m["writeFile"](e,"ListaporAcudiente.xlsx")},estudiantesAcudiente:function(){var t=this;return this.$store.state.datosDataEstudiantes.filter((function(e){return e.idAcudiente==t.idAcudiente&&(!!t.retirados||1==e.estadoActual)}))},consultaEstudiantes:function(t){this.acudiente=t.persona,this.idAcudiente=t.idAcudiente,this.$refs["modalVerEstudiantesAcudiente"].show()},buscarAcudiente:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.listaPersonas=[],t.$v.buscarTexto.$touch(),!t.$v.buscarTexto.$anyError){e.next=8;break}return t.mensajeEmergente("danger",i["h"],"El criterio de busqueda esta vacio."),t.$refs.texto.focus(),e.abrupt("return",!1);case 8:return e.next=10,r.a.get(i["d"]+"academico/buscarpersona/acudiente",{params:{texto:t.buscarTexto.textoBusqueda}}).then((function(e){e.data.error?t.mensajeEmergente("danger",i["h"],e.data.mensaje+" - Buscar acudiente"):0!=e.data.datos?t.listaPersonas=e.data.datos:t.mensajeEmergente("info",i["h"],"No se encontraron registros en la busqueda.")})).catch((function(e){t.mensajeEmergente("danger",i["h"],"Algo salio mal y no se pudo realizar: Buscar acudiente. Intente más tarde. "+e)}));case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})))()},validateStateT:function(t){var e=this.$v.buscarTexto[t],a=e.$dirty,o=e.$error;return a?!o:null},cancelarFormulario:function(){this.$refs["modalVerEstudiantesAcudiente"].hide()},tdClassFunc:function(t){return 2==t.id_estado_actual?"text-danger":3==t.id_estado_actual||4==t.id_estado_actual?"text-warning":void 0},mensajeEmergente:function(t,e,a){this.$bvToast.toast(a,{title:e,variant:t,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){}},It=Dt,Tt=(a("8121"),Object(v["a"])(It,At,yt,!1,null,"25123131",null)),Pt=Tt.exports,Rt={name:"listadosdocentes",components:{PlanillasCursos:_,PlanillasGrados:E,ListasDatosCursos:I,ListasDatosGrados:N,PlanillasCursosDocente:z,PlanillasCursosDocenteNotas:H,FormatoAsistenciaSemanal:X,FormatoActividadMensual:st,FormatoObservador:Et,ListasPorAcudiente:Pt},data:function(){return{idInforme:null}},methods:{mensajeEmergente:function(t,e,a){this.$bvToast.toast(a,{title:e,variant:t,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){}},jt=Rt,Ot=Object(v["a"])(jt,o,n,!1,null,null,null);e["default"]=Ot.exports},6338:function(t,e,a){},"7c5c":function(t,e,a){},8121:function(t,e,a){"use strict";a("c726")},"9a93":function(t,e,a){"use strict";a("ee8d")},a534:function(t,e,a){},abc2:function(t,e,a){},ad5d:function(t,e,a){"use strict";a("6338")},af14:function(t,e,a){"use strict";a("abc2")},b4a5:function(t,e,a){},bb92:function(t,e,a){"use strict";a("0cfe")},c726:function(t,e,a){},c7a0:function(t,e,a){"use strict";a("7c5c")},d1f0:function(t,e,a){"use strict";a("03c2")},d7de:function(t,e,a){"use strict";a("a534")},e5e8:function(t,e,a){},e8f8:function(t,e,a){"use strict";a("1d7e")},ee8d:function(t,e,a){}}]);
//# sourceMappingURL=chunk-114b0bfe.61d7b7ba.js.map