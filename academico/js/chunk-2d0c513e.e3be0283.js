(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c513e"],{"3e0f":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("b-row",{staticClass:"mt-2"},[t("b-col",{attrs:{lg:"12"}},[t("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[t("h5",{staticClass:"mb-0"},[t("b-icon",{attrs:{icon:"layers","aria-hidden":"true"}}),e._v(" CONFIGURACIÓN DE DOCUMENTOS")],1)]},proxy:!0},{key:"footer",fn:function(){return[t("em",[e._v("Actualice los datos y haga clic en Guardar Datos.")])]},proxy:!0}])},[t("b-card-text",[t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("b-tabs",{attrs:{"content-class":"mt-3"}},[t("b-tab",{attrs:{title:"General",active:""}},[t("b-card",{staticStyle:{"margin-top":"-17"}},[t("b-card-text",[t("b-row",[t("b-col",{attrs:{lg:"4",md:"4"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Nombres y Apellidos del Rector(a)*","label-for":"rector"}},[t("b-form-input",{ref:"rector",attrs:{id:"rector",state:e.validateStateG("rector"),"aria-describedby":"feedRector",autocomplete:"off",maxlength:"100"},model:{value:e.$v.infoGeneral.rector.$model,callback:function(a){e.$set(e.$v.infoGeneral.rector,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoGeneral.rector.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedRector"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"4",md:"4"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Documento y Lugar Rector(a)*","label-for":"drector"}},[t("b-form-input",{ref:"drector",attrs:{id:"drector",state:e.validateStateG("documento_rector"),"aria-describedby":"feeddRector",autocomplete:"off",maxlength:"100"},model:{value:e.$v.infoGeneral.documento_rector.$model,callback:function(a){e.$set(e.$v.infoGeneral.documento_rector,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoGeneral.documento_rector.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feeddRector"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"4",md:"4"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Cargo Rector(a)*","label-for":"crector"}},[t("b-form-input",{ref:"crector",attrs:{id:"crector",state:e.validateStateG("cargo_rector"),"aria-describedby":"feedcRector",autocomplete:"off",maxlength:"50"},model:{value:e.$v.infoGeneral.cargo_rector.$model,callback:function(a){e.$set(e.$v.infoGeneral.cargo_rector,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoGeneral.cargo_rector.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedcRector"}},[e._v("Campo requerido.")])],1)],1)],1),t("b-row",[t("b-col",{attrs:{lg:"4",md:"4"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Nombres y Apellidos Secretario(a)*","label-for":"secre"}},[t("b-form-input",{ref:"secre",attrs:{id:"secre",state:e.validateStateG("secretaria"),"aria-describedby":"feedSecre",autocomplete:"off",maxlength:"100"},model:{value:e.$v.infoGeneral.secretaria.$model,callback:function(a){e.$set(e.$v.infoGeneral.secretaria,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoGeneral.secretaria.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedSecre"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"4",md:"4"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Documento y Lugar Secretario(a)*","label-for":"dsecre"}},[t("b-form-input",{ref:"dsecre",attrs:{id:"dsecre",state:e.validateStateG("documento_secretaria"),"aria-describedby":"feeddSecre",autocomplete:"off",maxlength:"100"},model:{value:e.$v.infoGeneral.documento_secretaria.$model,callback:function(a){e.$set(e.$v.infoGeneral.documento_secretaria,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoGeneral.documento_secretaria.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feeddSecre"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"4",md:"4"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Cargo Secretario(a)*","label-for":"csecre"}},[t("b-form-input",{ref:"csecre",attrs:{id:"csecre",state:e.validateStateG("cargo_secretaria"),"aria-describedby":"feedcSecre",autocomplete:"off",maxlength:"50"},model:{value:e.$v.infoGeneral.cargo_secretaria.$model,callback:function(a){e.$set(e.$v.infoGeneral.cargo_secretaria,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoGeneral.cargo_secretaria.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedcSecre"}},[e._v("Campo requerido.")])],1)],1)],1),t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("hr")])],1),t("b-row",[t("b-col",{attrs:{lg:"12",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Resolución de Aprobación*","label-for":"resolucion"}},[t("b-form-input",{ref:"resolucion",attrs:{id:"resolucion",state:e.validateStateG("resolucion"),"aria-describedby":"feedResolucion",autocomplete:"off"},model:{value:e.$v.infoGeneral.resolucion.$model,callback:function(a){e.$set(e.$v.infoGeneral.resolucion,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoGeneral.resolucion.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedResolucion"}},[e._v("Campo requerido.")])],1)],1)],1),t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("hr")])],1),t("b-row",[t("b-col",{attrs:{lg:"12",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Pie de Página*","label-for":"pie"}},[t("b-form-input",{ref:"pie",attrs:{id:"pie",state:e.validateStateG("pie"),"aria-describedby":"feedPie",autocomplete:"off"},model:{value:e.$v.infoGeneral.pie.$model,callback:function(a){e.$set(e.$v.infoGeneral.pie,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoGeneral.pie.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedPie"}},[e._v("Campo requerido.")])],1)],1)],1),t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("hr"),t("div",{staticClass:"float-right text-medium-emphasis text-info"},[e._v("* Campo requerido")]),t("b-button",{staticClass:"small mx-1 mt-2",attrs:{variant:"primary"},on:{click:e.guardarDatosGeneral}},[e._v("Guardar Datos")])],1)],1)],1)],1)],1),t("b-tab",{attrs:{title:"Constancias"}},[t("b-card",{staticStyle:{"margin-top":"-17"}},[t("b-card-text",[t("b-row",[t("b-col",{attrs:{lg:"4",md:"4"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Tipo de Papel*","label-for":"papel"}},[t("b-form-select",{ref:"papel",attrs:{id:"papel",options:e.comboPapeles,state:e.validateStateC("cons_papel"),"aria-describedby":"feedPapel"},model:{value:e.$v.infoConstancia.cons_papel.$model,callback:function(a){e.$set(e.$v.infoConstancia.cons_papel,"$model",a)},expression:"$v.infoConstancia.cons_papel.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedPapel"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"4",md:"4"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Margen Superior*","label-for":"margen"}},[t("b-form-select",{ref:"margen",attrs:{id:"margen",options:e.comboMargenes,state:e.validateStateC("cons_margen"),"aria-describedby":"feedMargen"},model:{value:e.$v.infoConstancia.cons_margen.$model,callback:function(a){e.$set(e.$v.infoConstancia.cons_margen,"$model",a)},expression:"$v.infoConstancia.cons_margen.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMargen"}},[e._v("Campo requerido.")])],1)],1)],1),t("b-row",[t("b-col",{attrs:{lg:"12",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Bloque Superior*","label-for":"constanciaB1"}},[t("b-form-textarea",{ref:"constanciaB1",attrs:{id:"constanciaB1",state:e.validateStateC("cons_bloque1"),"aria-describedby":"feedConstanciaB1",autocomplete:"off",rows:"5"},model:{value:e.$v.infoConstancia.cons_bloque1.$model,callback:function(a){e.$set(e.$v.infoConstancia.cons_bloque1,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoConstancia.cons_bloque1.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedConstanciaB1"}},[e._v("Campo requerido.")])],1)],1)],1),t("b-row",[t("b-col",{attrs:{lg:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione las Firmas*"}},e._l(e.firmas,(function(a){return t("b-form-checkbox",{key:a.value,staticClass:"ml-4 m-1",attrs:{value:a.value,disabled:a.disabled,size:""},model:{value:e.firmasSeleccionadas,callback:function(a){e.firmasSeleccionadas=a},expression:"firmasSeleccionadas"}},[e._v(" "+e._s(a.text)+" ")])})),1)],1)],1),t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("hr"),t("div",{staticClass:"float-right text-medium-emphasis text-info"},[e._v("* Campo requerido")]),t("b-button",{staticClass:"small mx-1 mt-2",attrs:{variant:"primary"},on:{click:e.guardarDatosConstancia}},[e._v("Guardar Datos")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},o=[],n=t("1da1"),i=(t("159b"),t("96cf"),t("bc3a")),c=t.n(i),s=t("9c40"),l=t("1dce"),d=t("b5ae"),u={name:"configurardocumentos",mixins:[l["validationMixin"]],components:{},data:function(){return{comboPapeles:[{value:1,text:"Papel en Blanco"},{value:2,text:"Formato PreImpreso"}],comboMargenes:[{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"},{value:5,text:"5"}],infoGeneral:{rector:null,documento_rector:null,cargo_rector:null,secretaria:null,documento_secretaria:null,cargo_secretaria:null,pie:null,resolucion:null},infoConstancia:{id:null,cons_bloque1:null,cons_papel:null,cons_firma_rector:null,cons_firma_secre:null,cons_margen:null},firmas:[{value:1,text:"Rector(a)"},{value:2,text:"Secretario(a)"}],firmasSeleccionadas:[],comboVer:[{value:0,text:"NO"},{value:1,text:"SI"}]}},validations:{infoConstancia:{cons_bloque1:{required:d["required"],minLength:Object(d["minLength"])(1)},cons_papel:{required:d["required"]},cons_margen:{required:d["required"]}},infoGeneral:{rector:{required:d["required"],minLength:Object(d["minLength"])(1)},documento_rector:{required:d["required"],minLength:Object(d["minLength"])(1)},cargo_rector:{required:d["required"],minLength:Object(d["minLength"])(1)},secretaria:{required:d["required"],minLength:Object(d["minLength"])(1)},documento_secretaria:{required:d["required"],minLength:Object(d["minLength"])(1)},cargo_secretaria:{required:d["required"],minLength:Object(d["minLength"])(1)},pie:{required:d["required"],minLength:Object(d["minLength"])(1)},resolucion:{required:d["required"],minLength:Object(d["minLength"])(1)}}},methods:{guardarDatosGeneral:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.$v.infoGeneral.$touch(),!e.$v.infoGeneral.$anyError){a.next=6;break}return e.mensajeEmergente("danger",s["h"],"Algunos campos están incompletos."),a.abrupt("return",!1);case 6:return e.infoGeneral.rector=e.infoGeneral.rector.toUpperCase(),e.infoGeneral.secretaria=e.infoGeneral.secretaria.toUpperCase(),a.next=10,c.a.put(s["d"]+"academico/configuracion/general",JSON.stringify(e.infoGeneral),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Actualizar Datos Generales Documentos"):e.mensajeEmergente("success",s["h"],"Los datos de la configuración General se han actualizado correctamente.")})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Datos Generales Documentos. Intente más tarde. "+a)}));case 10:case"end":return a.stop()}}),a)})))()},guardarDatosConstancia:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.$v.infoConstancia.$touch(),!e.$v.infoConstancia.$anyError){a.next=6;break}return e.mensajeEmergente("danger",s["h"],"Algunos campos están incompletos."),a.abrupt("return",!1);case 6:return e.infoConstancia.cons_firma_rector=0,e.infoConstancia.cons_firma_secre=0,e.firmasSeleccionadas.forEach((function(a){1==a&&(e.infoConstancia.cons_firma_rector=1),2==a&&(e.infoConstancia.cons_firma_secre=1)})),a.next=11,c.a.put(s["d"]+"academico/configuracion/constancias",JSON.stringify(e.infoConstancia),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Actualizar Constancia"):e.mensajeEmergente("success",s["h"],"Los datos de la configuración de las Constancias se han actualizado correctamente.")})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Constancia. Intente más tarde. "+a)}));case 11:case"end":return a.stop()}}),a)})))()},cargarConfiguracionDocumentos:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,c.a.get(s["d"]+"academico/configuracion/documentos",{params:{idInstitucion:e.$store.state.idInstitucion}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Consulta datos configuración documentos"):0!=a.data.datos&&(e.infoConstancia.id=a.data.datos.id,e.infoConstancia.cons_bloque1=a.data.datos.cons_bloque1,e.infoConstancia.cons_papel=a.data.datos.cons_papel,e.infoConstancia.cons_margen=a.data.datos.cons_margen,e.infoConstancia.cons_firma_rector=a.data.datos.cons_firma_rector,e.infoConstancia.cons_firma_secre=a.data.datos.cons_firma_secre,1==e.infoConstancia.cons_firma_rector&&e.firmasSeleccionadas.push(1),1==e.infoConstancia.cons_firma_secre&&e.firmasSeleccionadas.push(2),e.infoGeneral.id=a.data.datos.id,e.infoGeneral.rector=a.data.datos.rector,e.infoGeneral.documento_rector=a.data.datos.documento_rector,e.infoGeneral.cargo_rector=a.data.datos.cargo_rector,e.infoGeneral.secretaria=a.data.datos.secretaria,e.infoGeneral.documento_secretaria=a.data.datos.documento_secretaria,e.infoGeneral.cargo_secretaria=a.data.datos.cargo_secretaria,e.infoGeneral.pie=a.data.datos.pie,e.infoGeneral.resolucion=a.data.datos.resolucion)})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Consulta datos configuración documentos. Intente más tarde. "+a)}));case 2:case"end":return a.stop()}}),a)})))()},soloNumeros:function(e){var a=window.Event?e.which:e.keyCode;a>=48&&a<=57||a>=96&&a<=105||8==a||9==a||37==a||39==a||e.preventDefault()},validateStateC:function(e){var a=this.$v.infoConstancia[e],t=a.$dirty,r=a.$error;return t?!r:null},validateStateG:function(e){var a=this.$v.infoGeneral[e],t=a.$dirty,r=a.$error;return t?!r:null},mensajeEmergente:function(e,a,t){this.$bvToast.toast(t,{title:a,variant:e,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){1==this.$store.state.idRol||12==this.$store.state.idRol?this.cargarConfiguracionDocumentos():this.$router.push("/restringida")}},m=u,f=t("2877"),b=Object(f["a"])(m,r,o,!1,null,null,null);a["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0c513e.e3be0283.js.map