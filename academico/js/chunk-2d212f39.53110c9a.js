(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d212f39"],{ab35:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),t._v(" BUSCAR CARPETA MATRÍCULA DEL ESTUDIANTE")],1)]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"float-right text-medium-emphasis text-info"},[t._v("* Campo requerido")]),a("div",[a("b-button",{staticClass:"small ml-3",attrs:{variant:"secondary"},on:{click:t.cancelarFormulario}},[t._v("Cerrar")])],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"6",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Criterio de Busqueda*","label-for":"texto"}},[a("b-form-input",{ref:"texto",attrs:{id:"texto",state:t.validateStateT("textoBusqueda"),"aria-describedby":"feedTextoB",autocomplete:"off",maxlength:"50",autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarEstudiante()}},model:{value:t.$v.buscarTexto.textoBusqueda.$model,callback:function(e){t.$set(t.$v.buscarTexto.textoBusqueda,"$model","string"===typeof e?e.trim():e)},expression:"$v.buscarTexto.textoBusqueda.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedTextoB"}},[t._v("Campo requerido.")])],1),a("p",[t._v(" Realice la busqueda de un estudiante digitando el número de documento sin puntos ni comas o digitando el nombre y/o apellido del estudiante. ")])],1),a("b-col",{attrs:{lg:"6",md:"6"}},[a("br"),a("b-button",{staticClass:"small mt-1",attrs:{variant:"primary"},on:{click:function(e){return t.buscarEstudiante()}}},[t._v("Buscar Estudiante")])],1)],1),t.listaEstudiantes.length?a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("hr")]),a("b-col",{attrs:{lg:"12"}},[a("vue-good-table",{attrs:{columns:t.encabColumnas,rows:t.listaEstudiantes,styleClass:"vgt-table condensed bordered striped","line-numbers":!0,"search-options":{enabled:!0,placeholder:"Buscar..."},"pagination-options":{enabled:!0,mode:"records",perPage:25,position:"",perPageDropdown:[50,100,150,200],dropdownAllowAll:!1,setCurrentPage:1,nextLabel:"Siguiente",prevLabel:"Anterior",rowsPerPageLabel:"Filas por página",ofLabel:"de",pageLabel:"Página",allLabel:"Todo"}},scopedSlots:t._u([{key:"table-row",fn:function(e){return["estudiante"==e.column.field?a("span",[1==e.row.id_estado_actual?a("span",{staticStyle:{"font-weight":"bold",color:"blue",cursor:"pointer"},on:{click:function(a){return t.verCarpetaMatricula(e.row)}}},[t._v(t._s(e.row.estudiante))]):a("span",{staticStyle:{"font-weight":"bold",cursor:"pointer"},on:{click:function(a){return t.verCarpetaMatricula(e.row)}}},[t._v(t._s(e.row.estudiante))])]):t._e()]}}],null,!1,1475248859)},[a("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[a("h5",{staticClass:"text-danger ml-5"},[t._v("No se encontraron estudiantes")])])])],1)],1):t._e()],1)],1)],1)],1)],1)},s=[],n=a("1da1"),o=(a("96cf"),a("bc3a")),i=a.n(o),u=a("9c40"),l=a("1dce"),d=a("b5ae"),c=(a("dac4"),a("f617")),b={name:"buscarcarpetatricula",mixins:[l["validationMixin"]],components:{VueGoodTable:c["a"]},data:function(){return{buscarTexto:{textoBusqueda:null},listaEstudiantes:[],encabColumnas:[{label:"Nombre del Estudiante",field:"estudiante",tdClass:this.tdClassFunc,sortable:!0},{label:"Documento",field:"documento",tdClass:this.tdClassFunc,sortable:!1},{label:"Sede",field:"sede",tdClass:this.tdClassFunc,sortable:!0},{label:"Grado",field:"grado",tdClass:this.tdClassFunc,sortable:!0},{label:"Curso",field:"nomenclatura",tdClass:this.tdClassFunc,sortable:!0},{label:"Jornada",field:"jornada",tdClass:this.tdClassFunc,sortable:!0},{label:"Estado",field:"estado",tdClass:this.tdClassFunc,sortable:!0}]}},validations:{buscarTexto:{textoBusqueda:{required:d["required"],minLength:Object(d["minLength"])(0)}}},methods:{verCarpetaMatricula:function(t){this.$store.commit("set",["idMatricula",t.idMatricula]),this.$router.push("/matriculas/CarpetaMatricula")},buscarEstudiante:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.listaEstudiantes=[],t.$v.buscarTexto.$touch(),!t.$v.buscarTexto.$anyError){e.next=8;break}return t.mensajeEmergente("danger",u["h"],"El criterio de busqueda esta vacio."),t.$refs.texto.focus(),e.abrupt("return",!1);case 8:return e.next=10,i.a.get(u["d"]+"academico/buscarestudiante/carpetamatricula",{params:{texto:t.buscarTexto.textoBusqueda,idInstitucion:t.$store.state.idInstitucion,vigencia:t.$store.state.aLectivo}}).then((function(e){e.data.error?t.mensajeEmergente("danger",u["h"],e.data.mensaje+" - Buscar carpeta estudiante"):0!=e.data.datos?t.listaEstudiantes=e.data.datos:t.mensajeEmergente("info",u["h"],"No se encontraron estudiantes en la busqueda.")})).catch((function(e){t.mensajeEmergente("danger",u["h"],"Algo salio mal y no se pudo realizar: Buscar carpeta estudiante. Intente más tarde. "+e)}));case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})))()},validateStateT:function(t){var e=this.$v.buscarTexto[t],a=e.$dirty,r=e.$error;return a?!r:null},tdClassFunc:function(t){return 2==t.id_estado_actual?"text-danger":3==t.id_estado_actual||4==t.id_estado_actual?"text-warning":void 0},cancelarFormulario:function(){this.$router.push("/")},mensajeEmergente:function(t,e,a){this.$bvToast.toast(a,{title:e,variant:t,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){}},m=b,p=a("2877"),f=Object(p["a"])(m,r,s,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d212f39.53110c9a.js.map