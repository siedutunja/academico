(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab4be"],{1559:function(e,o,a){"use strict";a.r(o);var t=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"person-square","aria-hidden":"true"}}),e._v(" ADMINISTRADORES DE LA INSTITUCIÓN EDUCATIVA")],1)]},proxy:!0},{key:"footer",fn:function(){return[a("em",[e._v("Consulte o actualice los datos de un administrativo haciendo clic en el lapiz.")])]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-card",{attrs:{"header-bg-variant":"secondary"},scopedSlots:e._u([{key:"header",fn:function(){return[1==e.$store.state.idRol||12==e.$store.state.idRol?a("b-button",{staticClass:"small float-right",attrs:{variant:"dark"},on:{click:e.nuevoAdministrativo}},[e._v("Nuevo Administrador")]):e._e(),a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),e._v(" Lista de Administradores")],1)]},proxy:!0}])},[a("b-card-text",[a("vue-good-table",{attrs:{columns:e.encabColumnas,rows:e.listaAdministrativos,styleClass:"vgt-table condensed bordered striped","line-numbers":!0},scopedSlots:e._u([{key:"table-row",fn:function(o){return["idPersona"==o.column.field?a("span",[a("span",{staticStyle:{"font-weight":"bold",color:"blue",cursor:"pointer"},attrs:{title:"Consultar/Actualizar Datos del Funcionario"},on:{click:function(a){return e.seleccionarFuncionario(o.row)}}},[a("CIcon",{attrs:{name:"cilPencil"}})],1)]):e._e()]}}])},[a("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[a("h5",{staticClass:"text-danger ml-5"},[e._v("No existen Administrativos creados")])])])],1)],1)],1)],1)],1)],1)],1)],1),a("b-modal",{ref:"modalCrearEditarAdministrativo",attrs:{size:"xl",scrollable:"","hide-footer":"",title:e.datosAdministrativo.editarAdministrativo?"Editar Datos del Administrativo":"Nuevo Administrativo","ok-only":""}},[a("div",{staticClass:"mx-3"},[a("div",[a("FichaAdministrativo",{attrs:{datosAdministrativo:e.datosAdministrativo},on:{retorno:e.datosRecibidosAdministrativo}})],1)])])],1)},i=[],r=a("1da1"),s=(a("96cf"),a("bc3a")),n=a.n(s),d=a("9c40"),l=(a("dac4"),a("f617")),c=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),e._v(" DATOS DEL FUNCIONARIO")],1)]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"float-right text-medium-emphasis text-info"},[e._v("* Campo requerido")]),e.documentoValido?a("div",[a("b-button",{staticClass:"small mx-1 mt-2",attrs:{variant:"primary"},on:{click:e.validarDatosFormulario}},[e.datosPersona.editarAdministrativo?a("div",[e._v("Actualizar Datos del Funcionario")]):a("div",[e._v("Crear Funcionario")])]),e.datosPersona.editarAdministrativo?a("b-button",{staticClass:"small mx-1 mt-2",attrs:{variant:"danger"},on:{click:e.validarRetiroFuncionario}},[e._v("Desvincular Funcionario")]):e._e(),a("b-button",{staticClass:"small mx-1 mt-2",attrs:{variant:"secondary"},on:{click:e.cancelarFormulario}},[e._v("Cancelar")])],1):a("div",[a("b-button",{staticClass:"small mx-1 mt-2",attrs:{variant:"primary"},on:{click:e.validarDocumento}},[e._v("Validar Documento")]),a("b-button",{staticClass:"small mx-1 mt-2",attrs:{variant:"secondary"},on:{click:e.cancelarFormulario}},[e._v("Cancelar")])],1)]},proxy:!0}])},[a("b-card-text",[e.documentoValido?a("b-row",[a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Primer Apellido*","label-for":"ape1"}},[a("b-form-input",{ref:"ape1",attrs:{id:"ape1",state:e.validateStateP("apellido1"),"aria-describedby":"feedApe1",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.datosPersona.apellido1.$model,callback:function(o){e.$set(e.$v.datosPersona.apellido1,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.apellido1.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedApe1"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Segundo Apellido","label-for":"ape2"}},[a("b-form-input",{ref:"ape2",attrs:{id:"ape2",state:e.validateStateP("apellido2"),"aria-describedby":"feedApe2",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.datosPersona.apellido2.$model,callback:function(o){e.$set(e.$v.datosPersona.apellido2,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.apellido2.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedApe2"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Primer Nombre*","label-for":"nom1"}},[a("b-form-input",{ref:"nom1",attrs:{id:"nom1",state:e.validateStateP("nombre1"),"aria-describedby":"feedNom1",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.datosPersona.nombre1.$model,callback:function(o){e.$set(e.$v.datosPersona.nombre1,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.nombre1.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedNom1"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Segundo Nombre","label-for":"nom2"}},[a("b-form-input",{ref:"nom2",attrs:{id:"nom2",state:e.validateStateP("nombre2"),"aria-describedby":"feedNom2",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.datosPersona.nombre2.$model,callback:function(o){e.$set(e.$v.datosPersona.nombre2,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.nombre2.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedNom2"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Número de Documento*","label-for":"doc"}},[a("b-form-input",{ref:"doc",attrs:{id:"doc","aria-describedby":"feedDoc",autocomplete:"off",maxlength:"20",disabled:""},on:{keydown:e.soloNumeros},model:{value:e.datosPersona.documento,callback:function(o){e.$set(e.datosPersona,"documento",o)},expression:"datosPersona.documento"}}),a("b-form-invalid-feedback",{attrs:{id:"feedDoc"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Tipo Documento*","label-for":"tipoDoc"}},[a("b-form-select",{ref:"tipoDoc",attrs:{id:"tipoDoc",options:e.comboTiposDoc,state:e.validateStateP("id_tipo_documento"),"aria-describedby":"feedTipoDoc"},model:{value:e.$v.datosPersona.id_tipo_documento.$model,callback:function(o){e.$set(e.$v.datosPersona.id_tipo_documento,"$model",o)},expression:"$v.datosPersona.id_tipo_documento.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedTipoDoc"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Expedición del Documento*","label-for":"muniDoc"}},[a("b-form-select",{ref:"muniDoc",attrs:{id:"muniDoc",options:e.comboMunicipios,state:e.validateStateP("id_municipio_documento"),"aria-describedby":"feedMuniDoc"},model:{value:e.$v.datosPersona.id_municipio_documento.$model,callback:function(o){e.$set(e.$v.datosPersona.id_municipio_documento,"$model",o)},expression:"$v.datosPersona.id_municipio_documento.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedMuniDoc"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Fecha de Nacimiento*","label-for":"fechaN"}},[a("b-form-input",{ref:"fechaN",attrs:{id:"fechaN",type:"date",state:e.validateStateP("fecha_nacimiento"),"aria-describedby":"feedFechaN"},model:{value:e.$v.datosPersona.fecha_nacimiento.$model,callback:function(o){e.$set(e.$v.datosPersona.fecha_nacimiento,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.fecha_nacimiento.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedFechaN"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"País de Nacimiento*","label-for":"pais"}},[a("b-form-select",{ref:"pais",attrs:{id:"pais",options:e.comboPaises,state:e.validateStateP("id_nacionalidad"),"aria-describedby":"feedPais"},model:{value:e.$v.datosPersona.id_nacionalidad.$model,callback:function(o){e.$set(e.$v.datosPersona.id_nacionalidad,"$model",o)},expression:"$v.datosPersona.id_nacionalidad.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedPais"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"6",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Nacimiento*","label-for":"muniNace"}},[a("b-form-select",{ref:"muniNace",attrs:{id:"muniNace",options:e.comboMunicipios,state:e.validateStateP("id_municipio_nacimiento"),"aria-describedby":"feedMuniNace"},model:{value:e.$v.datosPersona.id_municipio_nacimiento.$model,callback:function(o){e.$set(e.$v.datosPersona.id_municipio_nacimiento,"$model",o)},expression:"$v.datosPersona.id_municipio_nacimiento.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedMuniNace"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Género*","label-for":"genero"}},[a("b-form-select",{ref:"genero",attrs:{id:"genero",options:e.comboGeneros,state:e.validateStateP("id_genero"),"aria-describedby":"feedGenero"},model:{value:e.$v.datosPersona.id_genero.$model,callback:function(o){e.$set(e.$v.datosPersona.id_genero,"$model",o)},expression:"$v.datosPersona.id_genero.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedGenero"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Grupo y Factor RH*","label-for":"rh"}},[a("b-form-select",{ref:"rh",attrs:{id:"rh",options:e.comboRhs,state:e.validateStateP("id_rh"),"aria-describedby":"feedRh"},model:{value:e.$v.datosPersona.id_rh.$model,callback:function(o){e.$set(e.$v.datosPersona.id_rh,"$model",o)},expression:"$v.datosPersona.id_rh.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedRh"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Dirección de Residencia*","label-for":"dir"}},[a("b-form-input",{ref:"dir",attrs:{id:"dir",state:e.validateStateP("direccion"),"aria-describedby":"feedDir",autocomplete:"off",maxlength:"100"},model:{value:e.$v.datosPersona.direccion.$model,callback:function(o){e.$set(e.$v.datosPersona.direccion,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.direccion.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedDir"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Residencia*","label-for":"muniRes"}},[a("b-form-select",{ref:"muniRes",attrs:{id:"muniRes",options:e.comboMunicipios,state:e.validateStateP("id_municipio_direccion"),"aria-describedby":"feedMuniRes"},model:{value:e.$v.datosPersona.id_municipio_direccion.$model,callback:function(o){e.$set(e.$v.datosPersona.id_municipio_direccion,"$model",o)},expression:"$v.datosPersona.id_municipio_direccion.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedMuniRes"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Estrato*","label-for":"estrato"}},[a("b-form-select",{ref:"estrato",attrs:{id:"estrato",options:e.comboEstratos,state:e.validateStateP("id_estrato"),"aria-describedby":"feedEstrato"},model:{value:e.$v.datosPersona.id_estrato.$model,callback:function(o){e.$set(e.$v.datosPersona.id_estrato,"$model",o)},expression:"$v.datosPersona.id_estrato.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedEstrato"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Sisben*","label-for":"sisben"}},[a("b-form-select",{ref:"sisben",attrs:{id:"sisben",options:e.comboSisben,state:e.validateStateP("id_sisben"),"aria-describedby":"feedSisben"},model:{value:e.$v.datosPersona.id_sisben.$model,callback:function(o){e.$set(e.$v.datosPersona.id_sisben,"$model",o)},expression:"$v.datosPersona.id_sisben.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedSisben"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Barrio*","label-for":"barrio"}},[a("b-form-input",{ref:"barrio",attrs:{id:"barrio",state:e.validateStateP("barrio"),"aria-describedby":"feedBarrio",autocomplete:"off",maxlength:"50"},model:{value:e.$v.datosPersona.barrio.$model,callback:function(o){e.$set(e.$v.datosPersona.barrio,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.barrio.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedBarrio"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Zona*","label-for":"zona"}},[a("b-form-select",{ref:"zona",attrs:{id:"zona",options:e.comboZonas,state:e.validateStateP("id_zona"),"aria-describedby":"feedZona"},model:{value:e.$v.datosPersona.id_zona.$model,callback:function(o){e.$set(e.$v.datosPersona.id_zona,"$model",o)},expression:"$v.datosPersona.id_zona.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedZona"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"6",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Eps*","label-for":"eps"}},[a("b-form-select",{ref:"eps",attrs:{id:"eps",options:e.comboEps,state:e.validateStateP("id_eps"),"aria-describedby":"feedEps"},model:{value:e.$v.datosPersona.id_eps.$model,callback:function(o){e.$set(e.$v.datosPersona.id_eps,"$model",o)},expression:"$v.datosPersona.id_eps.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedEps"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Teléfono Principal*","label-for":"tel1"}},[a("b-form-input",{ref:"tel1",attrs:{id:"tel1",state:e.validateStateP("telefono1"),"aria-describedby":"feedTel1",autocomplete:"off",maxlength:"10"},on:{keydown:e.soloNumeros},model:{value:e.$v.datosPersona.telefono1.$model,callback:function(o){e.$set(e.$v.datosPersona.telefono1,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.telefono1.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedTel1"}},[e._v("El número debe contener 10 dígitos.")])],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Teléfono Opcional","label-for":"tel2"}},[a("b-form-input",{ref:"tel2",attrs:{id:"tel2",state:e.validateStateP("telefono2"),"aria-describedby":"feedTel2",autocomplete:"off",maxlength:"10"},on:{keydown:e.soloNumeros},model:{value:e.$v.datosPersona.telefono2.$model,callback:function(o){e.$set(e.$v.datosPersona.telefono2,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.telefono2.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedTel2"}},[e._v("El número debe contener 10 dígitos.")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Correo Electrónico*","label-for":"correo"}},[a("b-form-input",{ref:"correo",attrs:{id:"correo",state:e.validateStateP("correo"),"aria-describedby":"feedCorreo",autocomplete:"off",maxlength:"50"},model:{value:e.$v.datosPersona.correo.$model,callback:function(o){e.$set(e.$v.datosPersona.correo,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.correo.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedCorreo"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Rol*","label-for":"rol"}},[a("b-form-select",{ref:"rol",attrs:{id:"rol",options:e.comboRoles,state:e.validateStateP("id_rol"),"aria-describedby":"feedRol"},model:{value:e.$v.datosPersona.id_rol.$model,callback:function(o){e.$set(e.$v.datosPersona.id_rol,"$model",o)},expression:"$v.datosPersona.id_rol.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedRol"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"6",md:"12"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Fecha de Vigencia*","label-for":"fechaV"}},[a("b-form-input",{ref:"fechaV",attrs:{id:"fechaV",type:"date",state:e.validateStateP("vigencia"),"aria-describedby":"feedFechaV"},model:{value:e.$v.datosPersona.vigencia.$model,callback:function(o){e.$set(e.$v.datosPersona.vigencia,"$model","string"===typeof o?o.trim():o)},expression:"$v.datosPersona.vigencia.$model"}}),a("b-form-invalid-feedback",{attrs:{id:"feedFechaV"}},[e._v("Campo requerido.")])],1)],1),a("b-col",{attrs:{lg:"12"}},[a("hr")]),a("b-col",{attrs:{lg:"12"}},[a("b-form-group",[a("h5",[e._v("Seleccione los permisos a otorgar")]),e._l(e.permisos,(function(o){return a("b-form-checkbox",{key:o.value,staticClass:"ml-4 m-2",attrs:{value:o.value,disabled:o.disabled,size:""},model:{value:e.permisosSeleccionados,callback:function(o){e.permisosSeleccionados=o},expression:"permisosSeleccionados"}},[e._v(" "+e._s(o.text)+" ")])}))],2)],1),a("b-col",{attrs:{lg:"12"}},[a("hr")]),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Usuario"}},[a("b-form-input",{attrs:{disabled:""},model:{value:e.datosPersona.usuario,callback:function(o){e.$set(e.datosPersona,"usuario","string"===typeof o?o.trim():o)},expression:"datosPersona.usuario"}})],1)],1),a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Contraseña"}},[a("b-form-input",{attrs:{disabled:""},model:{value:e.datosPersona.clave,callback:function(o){e.$set(e.datosPersona,"clave","string"===typeof o?o.trim():o)},expression:"datosPersona.clave"}})],1)],1)],1):a("b-row",[a("b-col",{attrs:{lg:"3",md:"6"}},[a("b-form-group",{staticClass:"etiqueta",attrs:{label:"Número de Documento*","label-for":"docV"}},[a("b-form-input",{ref:"docV",attrs:{id:"docV",autocomplete:"off",maxlength:"20"},on:{keydown:e.soloNumeros},model:{value:e.nuevoDocumento,callback:function(o){e.nuevoDocumento="string"===typeof o?o.trim():o},expression:"nuevoDocumento"}})],1)],1)],1)],1)],1)],1)],1),a("b-modal",{ref:"modalMensaje",attrs:{size:"",title:"Mensaje","ok-only":""},scopedSlots:e._u([{key:"modal-footer",fn:function(o){var t=o.ok;return[a("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(e){return t()}}},[e._v("Aceptar")])]}}])},[a("div",{staticClass:"mx-3"},[a("div",[a("h5",{staticClass:"mb-2"},[e._v("¡Lo sentimos!")]),a("h5",{staticClass:"mb-4 text-danger"},[e._v("El número de documento "+e._s(e.nuevoDocumento)+" ya tiene un usuario registrado en el sistema.")]),a("h6",[e._v("Institución asociada al documento:")]),a("h5",{staticClass:"mb-4"},[e._v(e._s(e.IeVinculante))]),a("h6",[e._v("Por favor comuníquese con la entidad y solicite que el usuario sea desvinculado.")])])])])],1)},u=[],m=(a("159b"),a("1dce")),b=a("b5ae"),p=a("9612"),f={name:"fichaadministrativo",mixins:[m["validationMixin"]],props:{datosAdministrativo:Object},components:{},data:function(){return{datosPersona:{id:null,documento:null,id_tipo_documento:null,id_municipio_documento:null,nombre1:null,nombre2:null,apellido1:null,apellido2:null,id_genero:null,fecha_nacimiento:null,id_municipio_nacimiento:null,id_nacionalidad:null,id_rh:null,id_estrato:null,id_sisben:null,id_eps:null,direccion:null,id_municipio_direccion:null,barrio:null,id_zona:null,telefono1:null,telefono2:null,correo:null,idUsuario:null,usuario:null,clave:null,id_rol:null,id_entorno:null,id_institucion:null,id_dependencia:null,vigencia:null,perMatricular:null,perActEstudiante:null,perActDocente:null,perActDatosCurso:null,perActDirCurso:null,perSecretaria:null,perAsigCarga:null,editarAdministrativo:!0},permisosSeleccionados:[],permisos:[{value:1,text:"Matricular estudiante"},{value:2,text:"Actualizar la carpeta de matricula de estudiante"},{value:3,text:"Crear o actualizar datos del docente"},{value:4,text:"Actualizar datos del estudiante por cursos"},{value:5,text:"Actualizar directores de curso"},{value:6,text:"Generar documentos secretaría"},{value:7,text:"Asignar carga académica a docentes"}],comboZonas:[],comboEps:[],comboEstratos:[],comboSisben:[],comboPaises:[],comboTiposDoc:[],comboMunicipios:[],comboGeneros:[],comboRhs:[],comboRoles:[],nuevoDocumento:null,documentoValido:!1,personaExiste:!1,IeVinculante:null}},validations:{datosPersona:{documento:{minLength:Object(b["minLength"])(6)},id_tipo_documento:{required:b["required"]},id_municipio_documento:{required:b["required"]},nombre1:{required:b["required"]},nombre2:{minLength:Object(b["minLength"])(0)},apellido1:{required:b["required"]},apellido2:{minLength:Object(b["minLength"])(0)},fecha_nacimiento:{required:b["required"]},id_nacionalidad:{required:b["required"]},id_municipio_nacimiento:{required:b["required"]},id_genero:{required:b["required"]},id_rh:{required:b["required"]},id_estrato:{required:b["required"]},id_sisben:{required:b["required"]},barrio:{required:b["required"]},id_zona:{required:b["required"]},id_eps:{required:b["required"]},direccion:{required:b["required"]},id_municipio_direccion:{required:b["required"]},telefono1:{required:b["required"],minLength:Object(b["minLength"])(10)},telefono2:{minLength:Object(b["minLength"])(0)},correo:{required:b["required"],minLength:Object(b["minLength"])(5)},vigencia:{required:b["required"]},id_rol:{required:b["required"]}}},methods:{validarDocumento:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(a=new String(e.nuevoDocumento),!(a.length>5)){o.next=6;break}return o.next=4,n.a.get(d["d"]+"academico/administrativos/validadocumento",{params:{documento:e.nuevoDocumento}}).then((function(o){o.data.error?e.mensajeEmergente("danger",d["h"],o.data.mensaje+" - Validar documento funcionario"):0==o.data.datos?e.consultarPersonaDocumento():(e.IeVinculante=null==o.data.datos.institucion?"SET":o.data.datos.institucion,e.$refs.docV.focus(),e.documentoValido=!1,e.$refs["modalMensaje"].show())})).catch((function(o){e.mensajeEmergente("danger",d["h"],"Algo salio mal y no se pudo realizar: Validar documento funcionario. Intente más tarde. "+o)}));case 4:o.next=10;break;case 6:e.nuevoDocumento="",e.$refs.docV.focus(),e.documentoValido=!1,e.mensajeEmergente("danger",d["h"],"El documento debe contener mínimo 6 dígitos.");case 10:case"end":return o.stop()}}),o)})))()},consultarPersonaDocumento:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,n.a.get(d["d"]+"academico/personas/documento",{params:{documento:e.nuevoDocumento}}).then((function(o){o.data.error?e.mensajeEmergente("danger",d["h"],o.data.mensaje+" - Consultar Persona por Documento"):(0!=o.data.datos?(e.datosPersona.id=o.data.datos.id,e.datosPersona.documento=o.data.datos.documento,e.datosPersona.id_tipo_documento=o.data.datos.id_tipo_documento,e.datosPersona.id_municipio_documento=o.data.datos.id_municipio_documento,e.datosPersona.nombre1=o.data.datos.nombre1,e.datosPersona.nombre2=o.data.datos.nombre2,e.datosPersona.apellido1=o.data.datos.apellido1,e.datosPersona.apellido2=o.data.datos.apellido2,e.datosPersona.id_genero=o.data.datos.id_genero,null!=o.data.datos.fecha_nacimiento&&""!=o.data.datos.fecha_nacimiento&&(e.datosPersona.fecha_nacimiento=o.data.datos.fecha_nacimiento.substr(0,10)),e.datosPersona.id_municipio_nacimiento=o.data.datos.id_municipio_nacimiento,e.datosPersona.id_nacionalidad=o.data.datos.id_nacionalidad,e.datosPersona.id_rh=o.data.datos.id_rh,e.datosPersona.id_estrato=o.data.datos.id_estrato,e.datosPersona.id_sisben=o.data.datos.id_sisben,e.datosPersona.id_eps=o.data.datos.id_eps,e.datosPersona.direccion=o.data.datos.direccion,e.datosPersona.id_municipio_direccion=o.data.datos.id_municipio_direccion,e.datosPersona.barrio=o.data.datos.barrio,e.datosPersona.id_zona=o.data.datos.id_zona,e.datosPersona.telefono1=o.data.datos.telefono1,e.datosPersona.telefono2=o.data.datos.telefono2,e.datosPersona.correo=o.data.datos.correo,e.personaExiste=!0):(e.datosPersona.id=p["b"].v1(),e.datosPersona.documento=e.nuevoDocumento,e.personaExiste=!1),e.datosPersona.idUsuario=p["b"].v1(),e.datosPersona.usuario=e.nuevoDocumento,e.datosPersona.clave=e.nuevoDocumento,e.datosPersona.id_rol=null,e.datosPersona.id_entorno=3,e.datosPersona.id_institucion=e.$store.state.idInstitucion,e.datosPersona.id_dependencia=12,e.datosPersona.vigencia=null,e.datosPersona.perMatricular=null,e.datosPersona.perActEstudiante=null,e.datosPersona.perActDocente=null,e.datosPersona.perActDatosCurso=null,e.datosPersona.perActDirCurso=null,e.datosPersona.perSecretaria=null,e.datosPersona.perAsigCarga=null,e.documentoValido=!0)})).catch((function(o){e.mensajeEmergente("danger",d["h"],"Algo salio mal y no se pudo realizar: Consultar Persona por Documento. Intente más tarde. "+o)}));case 2:case"end":return o.stop()}}),o)})))()},validarDatosFormulario:function(){var e=this;if(this.$v.datosPersona.$touch(),this.$v.datosPersona.$anyError)return this.mensajeEmergente("danger",d["h"],"Algunos campos están incompletos."),!1;var o=this.datosPersona.editarAdministrativo?"Actualizar Datos del Funcionario":"Crear Funcionario",a=this.datosPersona.editarAdministrativo?"¿Esta seguro de Actualizar los Datos del Funcionario?":"¿Esta seguro de Crear el Funcionario?";return this.$bvModal.msgBoxConfirm(a,{headerBgVariant:"primary",headerTextVariant:"light",bodyBgVariant:"light",bodyBgClass:"text-center",title:o,size:"",buttonSize:"sm",okVariant:"primary",okTitle:"Si, "+o,cancelVariant:"danger",cancelTitle:"Cancelar",footerClass:"p-2",bodyClass:"p-5",hideHeaderClose:!1,centered:!0}).then((function(o){o&&e.guardarDatosPersona()})),!0},guardarDatosPersona:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(e.datosPersona.apellido1=e.datosPersona.apellido1.toUpperCase(),""==e.datosPersona.apellido2||null==e.datosPersona.apellido2?e.datosPersona.apellido2=null:e.datosPersona.apellido2=e.datosPersona.apellido2.toUpperCase(),e.datosPersona.nombre1=e.datosPersona.nombre1.toUpperCase(),""==e.datosPersona.nombre2||null==e.datosPersona.nombre2?e.datosPersona.nombre2=null:e.datosPersona.nombre2=e.datosPersona.nombre2.toUpperCase(),""!=e.datosPersona.telefono2&&null!=e.datosPersona.telefono2||e.datosPersona.telefono2,e.datosPersona.correo=e.datosPersona.correo.toLowerCase(),e.datosPersona.barrio=e.datosPersona.barrio.toUpperCase(),e.datosPersona.perMatricular=0,e.datosPersona.perActEstudiante=0,e.datosPersona.perActDocente=0,e.datosPersona.perActDatosCurso=0,e.datosPersona.perActDirCurso=0,e.datosPersona.perSecretaria=0,e.datosPersona.perAsigCarga=0,e.permisosSeleccionados.forEach((function(o){1==o?e.datosPersona.perMatricular=1:2==o?e.datosPersona.perActEstudiante=1:3==o?e.datosPersona.perActDocente=1:4==o?e.datosPersona.perActDatosCurso=1:5==o?e.datosPersona.perActDirCurso=1:6==o?e.datosPersona.perSecretaria=1:7==o&&(e.datosPersona.perAsigCarga=1)})),!e.datosPersona.editarAdministrativo){o.next=20;break}return o.next=18,n.a.put(d["d"]+"academico/administrativo",JSON.stringify(e.datosPersona),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(o){o.data.error?e.mensajeEmergente("danger",d["h"],o.data.mensaje+" - Actualizar Perfil Usuario"):e.$emit("retorno",2)})).catch((function(o){e.mensajeEmergente("danger",d["h"],"Algo salio mal y no se pudo realizar: Actualizar Perfil Usuario. Intente más tarde. "+o)}));case 18:o.next=24;break;case 20:return e.personaExiste||(e.datosPersona.id=p["b"].v1()),e.datosPersona.personaExiste=e.personaExiste,o.next=24,n.a.post(d["d"]+"academico/administrativo",JSON.stringify(e.datosPersona),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(o){o.data.error?e.mensajeEmergente("danger",d["h"],o.data.mensaje+" - Crear Perfil Usuario"):e.$emit("retorno",1)})).catch((function(o){e.mensajeEmergente("danger",d["h"],"Algo salio mal y no se pudo realizar: Crear Perfil Usuario. Intente más tarde. "+o)}));case 24:case"end":return o.stop()}}),o)})))()},validarRetiroFuncionario:function(){var e=this,o="Desvincular Funcionario",a="Recuerde que al desvincular (retirar) un funcionario de la Institución Educativa, este no podrá volver a ingresar con las credenciales asignadas actualmente. ¿Esta seguro de Desvincular el Funcionario de la Institución Educativa?";return this.$bvModal.msgBoxConfirm(a,{headerBgVariant:"danger",headerTextVariant:"light",bodyBgVariant:"light",bodyBgClass:"text-center",title:o,size:"",buttonSize:"sm",okVariant:"primary",okTitle:"Si, "+o,cancelVariant:"",cancelTitle:"Cancelar",footerClass:"p-2",bodyClass:"p-5",hideHeaderClose:!1,centered:!0}).then((function(o){o&&e.retirarFuncionario()})),!0},retirarFuncionario:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,n.a.delete(d["d"]+"academico/administrativo",{params:{idUsuario:e.datosPersona.idUsuario}}).then((function(o){o.data.error?e.mensajeEmergente("danger",d["h"],o.data.mensaje+" - Retirar funcionario"):(e.enviarCorreoRetiro(),e.$emit("retorno",3))})).catch((function(o){e.mensajeEmergente("danger",d["h"],"Algo salio mal y no se pudo realizar: Retirar funcionario. Intente más tarde. "+o)}));case 2:case"end":return o.stop()}}),o)})))()},consultaDatosPersona:function(){this.datosPersona=this.datosAdministrativo,this.datosPersona.editarAdministrativo&&(this.documentoValido=!0),1==this.datosPersona.perMatricular&&this.permisosSeleccionados.push(1),1==this.datosPersona.perActEstudiante&&this.permisosSeleccionados.push(2),1==this.datosPersona.perActDocente&&this.permisosSeleccionados.push(3),1==this.datosPersona.perActDatosCurso&&this.permisosSeleccionados.push(4),1==this.datosPersona.perActDirCurso&&this.permisosSeleccionados.push(5),1==this.datosPersona.perSecretaria&&this.permisosSeleccionados.push(6),1==this.datosPersona.perAsigCarga&&this.permisosSeleccionados.push(7)},enviarCorreoRetiro:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a={},a.institucion=e.$store.state.nombreInstitucion,a.nombres=e.datosPersona.nombre1+" "+e.datosPersona.nombre2,a.apellidos=e.datosPersona.apellido1+" "+e.datosPersona.apellido2,a.documento=e.datosPersona.documento,a.usuario=null,a.clave=null,a.correo=e.datosPersona.correo,o.next=10,n.a.post(d["d"]+"correos/retirofuncionario",JSON.stringify(a),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(o){o.data.error&&e.mensajeEmergente("danger",d["h"],o.data.mensaje+" - Correo Retiro funcionario")})).catch((function(o){e.mensajeEmergente("danger",d["h"],"Algo salio mal y no se pudo realizar: Correo Retiro funcionario. Intente más tarde. "+o)}));case 10:case"end":return o.stop()}}),o)})))()},enviarCorreoNuevo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a={},a.institucion=e.$store.state.nombreInstitucion,a.nombres=e.datosPersona.nombre1+" "+e.datosPersona.nombre2,a.apellidos=e.datosPersona.apellido1+" "+e.datosPersona.apellido2,a.documento=e.datosPersona.documento,a.usuario=e.datosPersona.usuario,a.clave=e.datosPersona.clave,a.correo=e.datosPersona.correo,o.next=10,n.a.post(d["d"]+"correos/nuevofuncionario",JSON.stringify(a),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(o){o.data.error&&e.mensajeEmergente("danger",d["h"],o.data.mensaje+" - Correo Nuevo funcionario")})).catch((function(o){e.mensajeEmergente("danger",d["h"],"Algo salio mal y no se pudo realizar: Correo Nuevo funcionario. Intente más tarde. "+o)}));case 10:case"end":return o.stop()}}),o)})))()},soloLetras:function(e){var o=window.Event?e.which:e.keyCode;o>=65&&o<=90||o>=97&&o<=122||193==o||201==o||205==o||211==o||218==o||225==o||233==o||237==o||243==o||250==o||192==o||32==o||8==o||9==o||37==o||39==o||e.preventDefault()},soloNumeros:function(e){var o=window.Event?e.which:e.keyCode;o>=48&&o<=57||o>=96&&o<=105||8==o||9==o||37==o||39==o||e.preventDefault()},cancelarFormulario:function(){this.$emit("retorno",0)},ocuparCombos:function(){var e=this;this.comboRoles=[],this.$store.state.datosTablas.roles.forEach((function(o){e.comboRoles.push({value:o.id,text:o.rol.toUpperCase()})})),this.comboZonas=[],this.$store.state.datosTablas.zonas.forEach((function(o){e.comboZonas.push({value:o.id,text:o.zona.toUpperCase()})})),this.comboEps=[],this.$store.state.datosTablas.eps.forEach((function(o){e.comboEps.push({value:o.id,text:o.eps.toUpperCase()})})),this.comboEstratos=[],this.$store.state.datosTablas.estratos.forEach((function(o){e.comboEstratos.push({value:o.id,text:o.estrato.toUpperCase()})})),this.comboSisben=[],this.$store.state.datosTablas.sisben.forEach((function(o){e.comboSisben.push({value:o.id,text:o.subgrupo.toUpperCase()})})),this.comboRhs=[],this.$store.state.datosTablas.rhs.forEach((function(o){e.comboRhs.push({value:o.id,text:o.rh.toUpperCase()})})),this.comboGeneros=[],this.$store.state.datosTablas.generos.forEach((function(o){e.comboGeneros.push({value:o.id,text:o.genero.toUpperCase()})})),this.comboTiposDoc=[],this.$store.state.datosTablas.tiposdocumentos.forEach((function(o){e.comboTiposDoc.push({value:o.id,text:o.tipodocumento.toUpperCase()})})),this.comboMunicipios=[],this.$store.state.datosTablas.municipios.forEach((function(o){e.comboMunicipios.push({value:o.id,text:o.municipio.toUpperCase()+" - "+o.departamento.toUpperCase()})})),this.comboPaises=[],this.$store.state.datosTablas.paises.forEach((function(o){e.comboPaises.push({value:o.id,text:o.pais.toUpperCase()})}))},validateStateP:function(e){var o=this.$v.datosPersona[e],a=o.$dirty,t=o.$error;return a?!t:null},mensajeEmergente:function(e,o,a){this.$bvToast.toast(a,{title:o,variant:e,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.ocuparCombos(),this.consultaDatosPersona()}},v=f,h=a("2877"),g=Object(h["a"])(v,c,u,!1,null,null,null),_=g.exports,P={name:"listaadministrativos",components:{VueGoodTable:l["a"],FichaAdministrativo:_},data:function(){return{listaAdministrativos:[],datosAdministrativo:{id:null,documento:null,id_tipo_documento:null,id_municipio_documento:null,nombre1:null,nombre2:null,apellido1:null,apellido2:null,id_genero:null,fecha_nacimiento:null,id_municipio_nacimiento:null,id_nacionalidad:null,id_rh:null,id_estrato:null,id_sisben:null,id_eps:null,direccion:null,id_municipio_direccion:null,barrio:null,id_zona:null,telefono1:null,telefono2:null,correo:null,vigencia:null,id_rol:null,idUsuario:null,usuario:null,clave:null,perMatricular:null,perActEstudiante:null,perActDocente:null,perActDatosCurso:null,perActDirCurso:null,perSecretaria:null,perAsigCarga:null,editarAdministrativo:!0},encabColumnas:[{label:"Apellidos y Nombres",field:"funcionario"},{label:"Documento",field:"documento",sortable:!1},{label:"Rol",field:"rol",sortable:!1},{label:"Teléfono",field:"telefono1",sortable:!1},{label:"Correo",field:"correo",sortable:!1},{label:"Usuario",field:"usuario",sortable:!1},{label:"",field:"idPersona",sortable:!1}]}},methods:{nuevoAdministrativo:function(){this.datosAdministrativo.editarAdministrativo=!1,this.$refs["modalCrearEditarAdministrativo"].show()},seleccionarFuncionario:function(e){this.datosAdministrativo.id=e.id,this.datosAdministrativo.documento=e.documento,this.datosAdministrativo.id_tipo_documento=e.id_tipo_documento,this.datosAdministrativo.id_municipio_documento=e.id_municipio_documento,this.datosAdministrativo.nombre1=e.nombre1,this.datosAdministrativo.nombre2=e.nombre2,this.datosAdministrativo.apellido1=e.apellido1,this.datosAdministrativo.apellido2=e.apellido2,this.datosAdministrativo.id_genero=e.id_genero,null!=e.fecha_nacimiento&&""!=e.fecha_nacimiento&&(this.datosAdministrativo.fecha_nacimiento=e.fecha_nacimiento.substr(0,10)),this.datosAdministrativo.id_municipio_nacimiento=e.id_municipio_nacimiento,this.datosAdministrativo.id_nacionalidad=e.id_nacionalidad,this.datosAdministrativo.id_rh=e.id_rh,this.datosAdministrativo.id_estrato=e.id_estrato,this.datosAdministrativo.id_sisben=e.id_sisben,this.datosAdministrativo.id_eps=e.id_eps,this.datosAdministrativo.direccion=e.direccion,this.datosAdministrativo.id_municipio_direccion=e.id_municipio_direccion,this.datosAdministrativo.barrio=e.barrio,this.datosAdministrativo.id_zona=e.id_zona,this.datosAdministrativo.telefono1=e.telefono1,this.datosAdministrativo.telefono2=e.telefono2,this.datosAdministrativo.correo=e.correo,null!=e.vigencia&&""!=e.vigencia&&(this.datosAdministrativo.vigencia=e.vigencia.substr(0,10)),this.datosAdministrativo.id_rol=e.id_rol,this.datosAdministrativo.idUsuario=e.idUsuario,this.datosAdministrativo.usuario=e.usuario,this.datosAdministrativo.clave=e.clave,this.datosAdministrativo.perMatricular=e.perMatricular,this.datosAdministrativo.perActEstudiante=e.perActEstudiante,this.datosAdministrativo.perActDocente=e.perActDocente,this.datosAdministrativo.perActDatosCurso=e.perActDatosCurso,this.datosAdministrativo.perActDirCurso=e.perActDirCurso,this.datosAdministrativo.perSecretaria=e.perSecretaria,this.datosAdministrativo.perAsigCarga=e.perAsigCarga,this.datosAdministrativo.editarAdministrativo=!0,this.$refs["modalCrearEditarAdministrativo"].show()},datosRecibidosAdministrativo:function(e){1==e?this.mensajeEmergente("success",d["h"],"El funcionario se ha creado correctamente."):2==e?this.mensajeEmergente("success",d["h"],"Los datos del funcionario se han actualizado correctamente."):3==e&&this.mensajeEmergente("success",d["h"],"El funcionario se ha desvinculado correctamente."),this.consultarListaAdministrativos(),this.$refs["modalCrearEditarAdministrativo"].hide()},consultarListaAdministrativos:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.listaAdministrativos=[],o.next=3,n.a.get(d["d"]+"academico/administrativos",{params:{idInstitucion:e.$store.state.idInstitucion}}).then((function(o){o.data.error?e.mensajeEmergente("danger",d["h"],o.data.mensaje+" - Lista admnistrativos"):0!=o.data.datos&&(e.listaAdministrativos=o.data.datos),console.log(JSON.stringify(e.listaAdministrativos))})).catch((function(o){e.mensajeEmergente("danger",d["h"],"Algo salio mal y no se pudo realizar: Lista admnistrativos. Intente más tarde."+o)}));case 3:case"end":return o.stop()}}),o)})))()},mensajeEmergente:function(e,o,a){this.$bvToast.toast(a,{title:o,variant:e,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){1==this.$store.state.idRol||12==this.$store.state.idRol?this.consultarListaAdministrativos():this.$router.push("/restringida")}},$=P,C=Object(h["a"])($,t,i,!1,null,null,null);o["default"]=C.exports}}]);
//# sourceMappingURL=chunk-2d0ab4be.585498d7.js.map