{"version":3,"sources":["webpack:///./src/views/matriculas/BuscarNuevo.vue?abed","webpack:///src/views/matriculas/BuscarNuevo.vue","webpack:///./src/views/matriculas/BuscarNuevo.vue?5311","webpack:///./src/views/matriculas/BuscarNuevo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","staticClass","_v","proxy","on","cancelarFormulario","ref","validateStateT","$event","type","indexOf","_k","keyCode","buscarEstudiante","model","value","$v","buscarTexto","textoBusqueda","callback","$$v","$set","trim","expression","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d0d0bb7.2d474665.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',[_c('b-col',{attrs:{\"lg\":\"12\"}},[_c('b-card',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h5',{staticClass:\"mb-0\"},[_c('b-icon',{attrs:{\"icon\":\"search\",\"aria-hidden\":\"true\"}}),_vm._v(\" VALIDAR DOCUMENTO ESTUDIANTE\")],1)]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"float-right text-medium-emphasis text-info\"},[_vm._v(\"* Campo requerido\")]),_c('div',[_c('b-button',{staticClass:\"small ml-3\",attrs:{\"variant\":\"secondary\"},on:{\"click\":_vm.cancelarFormulario}},[_vm._v(\"Cerrar\")])],1)]},proxy:true}])},[_c('b-card-text',[_c('b-row',[_c('b-col',{attrs:{\"lg\":\"6\",\"md\":\"6\"}},[_c('b-form-group',{staticClass:\"etiqueta\",attrs:{\"label\":\"Número del Documento*\",\"label-for\":\"texto\"}},[_c('b-form-input',{ref:\"texto\",attrs:{\"id\":\"texto\",\"state\":_vm.validateStateT('textoBusqueda'),\"aria-describedby\":\"feedTextoB\",\"autocomplete\":\"off\",\"maxlength\":\"50\",\"autofocus\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.buscarEstudiante()}},model:{value:(_vm.$v.buscarTexto.textoBusqueda.$model),callback:function ($$v) {_vm.$set(_vm.$v.buscarTexto.textoBusqueda, \"$model\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"$v.buscarTexto.textoBusqueda.$model\"}}),_c('b-form-invalid-feedback',{attrs:{\"id\":\"feedTextoB\"}},[_vm._v(\"La busqueda debe contener mínimo 6 caracteres.\")])],1),_c('p',[_vm._v(\" Realice la consulta del documento de un estudiante digitando el número de documento sin puntos ni comas. \")])],1),_c('b-col',{attrs:{\"lg\":\"6\",\"md\":\"6\"}},[_c('br'),_c('b-button',{staticClass:\"small mt-1\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.buscarEstudiante()}}},[_vm._v(\"Validar Documento\")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-row>\n      <b-col lg=\"12\">\n        <b-card>\n          <template #header>\n            <h5 class=\"mb-0\"><b-icon icon=\"search\" aria-hidden=\"true\"></b-icon> VALIDAR DOCUMENTO ESTUDIANTE</h5>\n          </template>\n          <b-card-text>\n            <b-row>\n              <b-col lg=\"6\" md=\"6\">\n                <b-form-group label=\"Número del Documento*\" label-for=\"texto\" class=\"etiqueta\">\n                  <b-form-input id=\"texto\" ref=\"texto\" v-model.trim=\"$v.buscarTexto.textoBusqueda.$model\" :state=\"validateStateT('textoBusqueda')\" aria-describedby=\"feedTextoB\" autocomplete=\"off\" maxlength=\"50\" v-on:keyup.enter=\"buscarEstudiante()\" autofocus></b-form-input>\n                  <b-form-invalid-feedback id=\"feedTextoB\" >La busqueda debe contener mínimo 6 caracteres.</b-form-invalid-feedback>\n                </b-form-group>\n                <p>\n                  Realice la consulta del documento de un estudiante digitando el número de documento sin puntos ni comas.\n                </p>\n              </b-col>\n              <b-col lg=\"6\" md=\"6\">\n                <br>\n                <b-button class=\"small mt-1\" variant=\"primary\" @click=\"buscarEstudiante()\">Validar Documento</b-button>\n              </b-col>\n            </b-row>\n          </b-card-text>\n          <template #footer>\n            <div class=\"float-right text-medium-emphasis text-info\">* Campo requerido</div>\n            <div>\n              <b-button class=\"small ml-3\" variant=\"secondary\" @click=\"cancelarFormulario\">Cerrar</b-button>\n            </div>\n          </template>\n        </b-card>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\"\n  import * as CONFIG from '@/assets/config.js'\n  import { validationMixin } from \"vuelidate\";\n  import { required, minLength } from \"vuelidate/lib/validators\";\n  import 'vue-good-table/dist/vue-good-table.css'\n  import { VueGoodTable } from 'vue-good-table'\n\n  export default {\n    name: 'buscarnuevo',\n    mixins: [validationMixin],\n    components: {\n      VueGoodTable\n    },\n    data () {\n      return {\n        buscarTexto: {\n          textoBusqueda: null,\n        },\n      }\n    },\n    validations: {\n      buscarTexto: {\n        textoBusqueda: { required, minLength: minLength(6) }\n      }\n    },\n    methods: {\n      async buscarEstudiante() {\n        this.$v.buscarTexto.$touch()\n        if (this.$v.buscarTexto.$anyError) {\n          this.mensajeEmergente('danger',CONFIG.TITULO_MSG,'El número de documento es menor a 6 caracteres.')\n          this.$refs.texto.focus()\n          return false\n        } else {\n          await axios\n          .get(CONFIG.ROOT_PATH + 'academico/buscarestudiante/nuevopfc', { params: { texto: this.buscarTexto.textoBusqueda }})\n          .then(response => {\n            if (response.data.error){\n              this.mensajeEmergente('danger',CONFIG.TITULO_MSG,response.data.mensaje + ' - Intente realizar una nueva consulta')\n            } else{\n              if (response.data.datos == 0) {\n                this.$store.commit('set', ['documentoEstudianteNuevo', this.buscarTexto.textoBusqueda])\n                this.$router.push('/matriculas/FichaMatriculaNueva')\n              } else {\n                this.mensajeEmergente('info',CONFIG.TITULO_MSG,'El estudiantes ya se encuentra registrado en Siedutunja.')\n              }\n            }\n          })\n          .catch(err => {\n              this.mensajeEmergente('danger',CONFIG.TITULO_MSG,'Algo salio mal y no se pudo realizar: Buscar estudiante. Intente más tarde. ' + err)\n          })\n        }\n        return true\n      },\n      validateStateT(name) {\n        const { $dirty, $error } = this.$v.buscarTexto[name]\n        return $dirty ? !$error : null\n      },\n      cancelarFormulario() {\n        this.$router.push('/')\n      },\n      mensajeEmergente(variante, titulo, contenido) {\n        this.$bvToast.toast(contenido, { title: titulo, variant: variante, toaster: \"b-toaster-top-center\", solid: true, autoHideDelay: 4000, appendToast: false })\n      }\n    },\n    beforeMount() {\n      if(this.$store.state.idRol == 1 || this.$store.state.idRol == 12 || this.$store.state.perMatricular == 1) {\n      } else {\n        this.$router.push('/restringida')\n      }\n    }\n  }\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuscarNuevo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuscarNuevo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuscarNuevo.vue?vue&type=template&id=4e638b72&\"\nimport script from \"./BuscarNuevo.vue?vue&type=script&lang=js&\"\nexport * from \"./BuscarNuevo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}