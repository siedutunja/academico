(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e4aa044"],{"1da1":function(t,n,i){"use strict";i.d(n,"a",(function(){return o}));i("d3b7");function e(t,n,i,e,o,a,r){try{var s=t[a](r),l=s.value}catch(d){return void i(d)}s.done?n(l):Promise.resolve(l).then(e,o)}function o(t){return function(){var n=this,i=arguments;return new Promise((function(o,a){var r=t.apply(n,i);function s(t){e(r,o,a,s,l,"next",t)}function l(t){e(r,o,a,s,l,"throw",t)}s(void 0)}))}}},2909:function(t,n,i){"use strict";i.d(n,"a",(function(){return l}));var e=i("6b75");function o(t){if(Array.isArray(t))return Object(e["a"])(t)}i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("a630");function a(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var r=i("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return o(t)||a(t)||Object(r["a"])(t)||s()}},"64cc":function(t,n,i){"use strict";i.r(n);var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("b-row",{staticClass:"mt-2"},[i("b-col",{attrs:{lg:"12"}},[i("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[i("h5",{staticClass:"mb-0"},[i("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" BOLETINES DE EVALUACI칍N")],1)]},proxy:!0}])},[i("b-card-text",[i("b-row",[i("b-col",{attrs:{lg:"12"}},[i("b-card",{attrs:{"bg-variant":"light","text-variant":""}},[i("b-card-text",[i("b-row",[i("b-col",{attrs:{lg:"4"}},[i("h6",[t._v("Por Periodo")]),i("b-form-group",{attrs:{label:""},scopedSlots:t._u([{key:"default",fn:function(n){var e=n.ariaDescribedby;return[i("b-form-radio",{attrs:{"aria-describedby":e,name:"some-radios",value:"1"},on:{change:function(n){t.idPeriodo=null,t.idSede=null,t.idCurso=null}},model:{value:t.idBoletin,callback:function(n){t.idBoletin=n},expression:"idBoletin"}},[t._v("Boletines por periodo")]),i("b-form-radio",{attrs:{"aria-describedby":e,name:"some-radios",value:"2"},on:{change:function(n){t.idPeriodo=null,t.idSede=null,t.idCurso=null}},model:{value:t.idBoletin,callback:function(n){t.idBoletin=n},expression:"idBoletin"}},[t._v("Boletines retirados")]),i("b-form-radio",{attrs:{"aria-describedby":e,name:"some-radios",value:"3"},on:{change:function(n){t.idPeriodo=null,t.idSede=null,t.idCurso=null}},model:{value:t.idBoletin,callback:function(n){t.idBoletin=n},expression:"idBoletin"}},[t._v("Boletines ubicados/reubicados")]),i("b-form-radio",{attrs:{"aria-describedby":e,name:"some-radios",value:"4"},on:{change:function(n){t.idPeriodo=null,t.idSede=null,t.idCurso=null}},model:{value:t.idBoletin,callback:function(n){t.idBoletin=n},expression:"idBoletin"}},[t._v("Boletines promocionados anticipadamente")])]}}])})],1),i("b-col",{attrs:{lg:"4"}},[i("h6",[t._v("Boletines Finales")]),i("b-form-group",{attrs:{label:""},scopedSlots:t._u([{key:"default",fn:function(n){var e=n.ariaDescribedby;return[i("b-form-radio",{attrs:{"aria-describedby":e,name:"some-radios",value:"10"},model:{value:t.idBoletin,callback:function(n){t.idBoletin=n},expression:"idBoletin"}},[t._v("Boletines Finales")])]}}])})],1)],1)],1)],1)],1)],1),1==t.idBoletin?i("b-row",[i("b-col",{attrs:{lg:"12"}},[i("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[i("h5",{staticClass:"mb-0"},[i("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" BOLETINES POR PERIODO")],1)]},proxy:!0}],null,!1,1650966164)},[i("b-card-text",[i("b-row",[i("b-col",{attrs:{lg:"2"}},[i("b-form-group",{staticClass:"etiqueta",attrs:{label:"Periodo:","label-for":"periodo"}},[i("b-form-select",{ref:"periodo",attrs:{id:"periodo",options:t.comboPeriodos},on:{change:function(n){t.idSede=null,t.idCurso=null,t.mostrarBoletines=null}},model:{value:t.idPeriodo,callback:function(n){t.idPeriodo=n},expression:"idPeriodo"}})],1)],1),i("b-col",{attrs:{lg:"6"}},[i("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione la Sede:","label-for":"sedes"}},[i("b-form-select",{ref:"sedes",attrs:{id:"sedes",options:t.comboSedes,disabled:null==t.idPeriodo},on:{change:function(n){t.idCurso=null,t.ocuparComboCursosSede(),t.mostrarBoletines=null}},model:{value:t.idSede,callback:function(n){t.idSede=n},expression:"idSede"}})],1)],1),i("b-col",{attrs:{lg:"4"}},[i("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione el Curso:","label-for":"cursos"}},[i("b-form-select",{ref:"cursos",attrs:{id:"cursos",options:t.comboCursosSede,disabled:null==t.idSede},on:{change:function(n){t.consultarEstudiantes(),t.mostrarBoletines=null}},model:{value:t.idCurso,callback:function(n){t.idCurso=n},expression:"idCurso"}})],1)],1)],1)],1)],1),1==t.idNivel?i("div",[t.mostrarBoletines?i("BoletinPree",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,escalaPreescolar:t.escalaPreescolar,nuevaEscalaPreescolar:t.nuevaEscalaPreescolar,firmasBoletin:t.firmasBoletin}}):t._e()],1):i("div",["eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinPeriodoInem",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):"660fa760-fc83-11ec-a1d1-1dc2835404e5"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinPeriodoGranColombiano",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):"f5529ba0-fcb3-11ec-8267-536b07c743c4"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinPeriodoGustavoRojas",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):"bd226a20-fc82-11ec-a1d1-1dc2835404e5"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinPeriodoJulius",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):"acaa36d0-fcb1-11ec-8267-536b07c743c4"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinPeriodoEmiliani",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):i("span",[t.mostrarBoletines?i("BoletinPeriodo",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3}}):t._e()],1)])],1)],1):t._e(),2==t.idBoletin?i("b-row",[i("b-col",{attrs:{lg:"12"}},[i("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[i("h5",{staticClass:"mb-0"},[i("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" BOLETINES POR PERIODO")],1)]},proxy:!0}],null,!1,1650966164)},[i("b-card-text",[i("b-row",[i("b-col",{attrs:{lg:"2"}},[i("b-form-group",{staticClass:"etiqueta",attrs:{label:"Periodo:","label-for":"periodo"}},[i("b-form-select",{ref:"periodo",attrs:{id:"periodo",options:t.comboPeriodos},on:{change:function(n){t.idSede=null,t.idCurso=null,t.mostrarBoletines=null}},model:{value:t.idPeriodo,callback:function(n){t.idPeriodo=n},expression:"idPeriodo"}})],1)],1),i("b-col",{attrs:{lg:"6"}},[i("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione la Sede:","label-for":"sedes"}},[i("b-form-select",{ref:"sedes",attrs:{id:"sedes",options:t.comboSedes,disabled:null==t.idPeriodo},on:{change:function(n){t.idCurso=null,t.ocuparComboCursosSede(),t.mostrarBoletines=null}},model:{value:t.idSede,callback:function(n){t.idSede=n},expression:"idSede"}})],1)],1),i("b-col",{attrs:{lg:"4"}},[i("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione el Curso:","label-for":"cursos"}},[i("b-form-select",{ref:"cursos",attrs:{id:"cursos",options:t.comboCursosSede,disabled:null==t.idSede},on:{change:function(n){t.consultarEstudiantes(),t.mostrarBoletines=null}},model:{value:t.idCurso,callback:function(n){t.idCurso=n},expression:"idCurso"}})],1)],1)],1)],1)],1),1==t.idNivel?i("div",[t.mostrarBoletines?i("BoletinPreeRetirado",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,escalaPreescolar:t.escalaPreescolar,nuevaEscalaPreescolar:t.nuevaEscalaPreescolar,firmasBoletin:t.firmasBoletin}}):t._e()],1):i("div",[t.mostrarBoletines?i("BoletinPeriodoRetirado",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin}}):t._e()],1)],1)],1):t._e(),3==t.idBoletin?i("b-row",[i("b-col",{attrs:{lg:"12"}},[i("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[i("h5",{staticClass:"mb-0"},[i("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" BOLETINES POR PERIODO")],1)]},proxy:!0}],null,!1,1650966164)},[i("b-card-text",[i("b-row",[i("b-col",{attrs:{lg:"2"}},[i("b-form-group",{staticClass:"etiqueta",attrs:{label:"Periodo:","label-for":"periodo"}},[i("b-form-select",{ref:"periodo",attrs:{id:"periodo",options:t.comboPeriodos},on:{change:function(n){t.idSede=null,t.idCurso=null,t.mostrarBoletines=null}},model:{value:t.idPeriodo,callback:function(n){t.idPeriodo=n},expression:"idPeriodo"}})],1)],1),i("b-col",{attrs:{lg:"6"}},[i("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione la Sede:","label-for":"sedes"}},[i("b-form-select",{ref:"sedes",attrs:{id:"sedes",options:t.comboSedes,disabled:null==t.idPeriodo},on:{change:function(n){t.idCurso=null,t.ocuparComboCursosSede(),t.mostrarBoletines=null}},model:{value:t.idSede,callback:function(n){t.idSede=n},expression:"idSede"}})],1)],1),i("b-col",{attrs:{lg:"4"}},[i("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione el Curso:","label-for":"cursos"}},[i("b-form-select",{ref:"cursos",attrs:{id:"cursos",options:t.comboCursosSede,disabled:null==t.idSede},on:{change:function(n){t.consultarEstudiantes(),t.mostrarBoletines=null}},model:{value:t.idCurso,callback:function(n){t.idCurso=n},expression:"idCurso"}})],1)],1)],1)],1)],1),1==t.idNivel?i("div",[t.mostrarBoletines?i("BoletinPreeReubicado",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,escalaPreescolar:t.escalaPreescolar,nuevaEscalaPreescolar:t.nuevaEscalaPreescolar,firmasBoletin:t.firmasBoletin}}):t._e()],1):i("div",[t.mostrarBoletines?i("BoletinPeriodoReubicado",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin}}):t._e()],1)],1)],1):t._e(),4==t.idBoletin?i("b-row",[i("b-col",{attrs:{lg:"12"}},[i("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[i("h5",{staticClass:"mb-0"},[i("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" BOLETINES POR PERIODO")],1)]},proxy:!0}],null,!1,1650966164)},[i("b-card-text",[i("b-row",[i("b-col",{attrs:{lg:"2"}},[i("b-form-group",{staticClass:"etiqueta",attrs:{label:"Periodo:","label-for":"periodo"}},[i("b-form-select",{ref:"periodo",attrs:{id:"periodo",options:t.comboPeriodos},on:{change:function(n){t.idSede=null,t.idCurso=null,t.mostrarBoletines=null}},model:{value:t.idPeriodo,callback:function(n){t.idPeriodo=n},expression:"idPeriodo"}})],1)],1),i("b-col",{attrs:{lg:"6"}},[i("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione la Sede:","label-for":"sedes"}},[i("b-form-select",{ref:"sedes",attrs:{id:"sedes",options:t.comboSedes,disabled:null==t.idPeriodo},on:{change:function(n){t.idCurso=null,t.ocuparComboCursosSede(),t.mostrarBoletines=null}},model:{value:t.idSede,callback:function(n){t.idSede=n},expression:"idSede"}})],1)],1),i("b-col",{attrs:{lg:"4"}},[i("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione el Curso:","label-for":"cursos"}},[i("b-form-select",{ref:"cursos",attrs:{id:"cursos",options:t.comboCursosSede,disabled:null==t.idSede},on:{change:function(n){t.consultarEstudiantes(),t.mostrarBoletines=null}},model:{value:t.idCurso,callback:function(n){t.idCurso=n},expression:"idCurso"}})],1)],1)],1)],1)],1),1==t.idNivel?i("div",[t.mostrarBoletines?i("BoletinPreePromocionado",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,escalaPreescolar:t.escalaPreescolar,nuevaEscalaPreescolar:t.nuevaEscalaPreescolar,firmasBoletin:t.firmasBoletin}}):t._e()],1):i("div",[t.mostrarBoletines?i("BoletinPeriodoPromocionado",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin}}):t._e()],1)],1)],1):t._e(),10==t.idBoletin?i("b-row",[i("b-col",{attrs:{lg:"12"}},[i("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[i("h5",{staticClass:"mb-0"},[i("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v(" BOLETINES DEFINITIVOS")],1)]},proxy:!0}],null,!1,4181071821)},[i("b-card-text",[i("b-row",[i("b-col",{attrs:{lg:"6"}},[i("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione la Sede:","label-for":"sedes"}},[i("b-form-select",{ref:"sedes",attrs:{id:"sedes",options:t.comboSedes},on:{change:function(n){t.idCurso=null,t.ocuparComboCursosSede(),t.mostrarBoletines=null}},model:{value:t.idSede,callback:function(n){t.idSede=n},expression:"idSede"}})],1)],1),i("b-col",{attrs:{lg:"4"}},[i("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione el Curso:","label-for":"cursos"}},[i("b-form-select",{ref:"cursos",attrs:{id:"cursos",options:t.comboCursosSede,disabled:null==t.idSede},on:{change:function(n){t.consultarEstudiantes(),t.mostrarBoletines=null}},model:{value:t.idCurso,callback:function(n){t.idCurso=n},expression:"idCurso"}})],1)],1)],1)],1)],1),1==t.idNivel?i("div",[t.mostrarBoletines?i("BoletinPreeFinal",{attrs:{estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,escalaPreescolar:t.escalaPreescolar,nuevaEscalaPreescolar:t.nuevaEscalaPreescolar,firmasBoletin:t.firmasBoletin}}):t._e()],1):i("div",["097b7b10-fcaa-11ec-8267-536b07c743c4"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinFinalRural",{attrs:{listaHabilitaciones:t.listaHabilitaciones,estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3}}):t._e()],1):"660fa760-fc83-11ec-a1d1-1dc2835404e5"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinFinalGranColombiano",{attrs:{listaHabilitaciones:t.listaHabilitaciones,estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):"54fd7440-fc81-11ec-a1d1-1dc2835404e5"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinFinalSandoval",{attrs:{listaHabilitaciones:t.listaHabilitaciones,estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):"bd226a20-fc82-11ec-a1d1-1dc2835404e5"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinFinalJulius",{attrs:{listaHabilitaciones:t.listaHabilitaciones,estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):"eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinFinalInem",{attrs:{listaHabilitaciones:t.listaHabilitaciones,estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):"17ee4f30-fc80-11ec-a1d1-1dc2835404e5"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinFinalEnslap",{attrs:{listaHabilitaciones:t.listaHabilitaciones,estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):"acaa36d0-fcb1-11ec-8267-536b07c743c4"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinFinalEmiliani",{attrs:{listaHabilitaciones:t.listaHabilitaciones,estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):"7c63ed50-fcb0-11ec-8267-536b07c743c4"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinFinalSantiago",{attrs:{listaHabilitaciones:t.listaHabilitaciones,estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):"f5529ba0-fcb3-11ec-8267-536b07c743c4"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinFinalGustavo",{attrs:{listaHabilitaciones:t.listaHabilitaciones,estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):"8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinFinalLibertador",{attrs:{listaHabilitaciones:t.listaHabilitaciones,estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):"c50f3d80-fca0-11ec-8267-536b07c743c4"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinFinalSilvino",{attrs:{listaHabilitaciones:t.listaHabilitaciones,estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):"f0491770-fca8-11ec-8267-536b07c743c4"==t.$store.state.idInstitucion?i("span",[t.mostrarBoletines?i("BoletinFinalGonzalo",{attrs:{listaHabilitaciones:t.listaHabilitaciones,estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3,idGrado:t.idGrado}}):t._e()],1):i("span",[t.mostrarBoletines?i("BoletinFinal",{attrs:{listaHabilitaciones:t.listaHabilitaciones,estudiantesSeleccionados:t.estudiantesSeleccionados,listaAreasAsignaturas:t.listaAreasAsignaturas,listaDescriptores:t.listaDescriptores,notas:t.notas,datosEstudiantes:t.datosEstudiantes,anio:Number(t.$store.state.aLectivo),periodoActual:t.idPeriodo,periodosVisibles:t.periodosVisibles,nombreSede:t.nombreSede,nombreCurso:t.nombreCurso,nombrePeriodo:t.nombrePeriodo,nombreJornada:t.nombreJornada,nombreDirector:t.nombreDirector,idNivel:t.idNivel,umbralesA:t.umbralesA,umbralesT:t.umbralesT,pesosPeriodos:t.pesosPeriodos,tipoValComp:t.tipoValComp,promCompor:t.promCompor,letrasCompor:t.letrasCompor,firmasBoletin:t.firmasBoletin,descC1:t.descC1,descC2:t.descC2,descC3:t.descC3}}):t._e()],1)])],1)],1):t._e(),null!=t.idCurso?i("b-row",{staticClass:"mt-2"},[i("b-col",{attrs:{lg:"12"}},[i("hr")]),i("b-col",{attrs:{lg:"12"}},[t.btnCargando?i("div",[i("div",{staticClass:"text-center m-5 text-primary"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Spinner"}}),i("br"),i("strong",[t._v("Cargando planilla...")])],1)]):i("div",[i("vue-good-table",{ref:"estudiantes",attrs:{columns:t.encabColumnas,rows:t.datosEstudiantes,styleClass:"vgt-table condensed bordered striped","line-numbers":!0,"select-options":{enabled:!0,selectionText:"estudiantes seleccionados",clearSelectionText:"Limpiar"}},on:{"on-row-click":function(n){t.mostrarBoletines=!1}},scopedSlots:t._u([{key:"selected-row-actions",fn:function(){return[i("button",{staticClass:"small btn btn-primary",on:{click:function(n){return t.procesarBoletinesFinales()}}},[t._v("Procesar Boletines para Impresi칩n")])]},proxy:!0}],null,!1,3065040917)},[i("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[i("h5",{staticClass:"text-danger ml-5"},[t._v("No existen estudiantes matriculados")])])])],1)])],1):t._e()],1)],1)],1)],1)],1)},o=[],a=i("1da1"),r=(i("96cf"),i("159b"),i("99af"),i("bc3a")),s=i.n(r),l=i("9c40"),d=(i("dac4"),i("f617")),u=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF - "+t._s(t.idGrado))])])},c=[],v=i("3835"),h=i("2909"),p=(i("a9e3"),i("7db0"),i("07ac"),i("b64b"),i("d81d"),i("a15b"),i("b680"),i("4de4"),i("d3b7"),i("6062"),i("3ca3"),i("ddb0"),i("4fad"),i("c740"),i("2af1"),{name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String,idGrado:String},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>BOLETIN DE EVALUACIONES POR PERIODO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o en el Periodo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?i+="\n                  <th>".concat(this.descC1,"</th>\n                  <th>").concat(this.descC2,"</th>\n                  <th>").concat(this.descC3,"</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          "):i+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",i+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:20%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n),'</strong></th>\n                <th style="width:20%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),i+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return e.map((function(t){var e=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),o=e.map((function(e){i.orden=e.orden;var o=e.asignatura;i.asignatur=o;var a=e.nombreAsignatura,r=98!==i.orden?e.ih:"",s="",l="",d="",u="",c="",v="",h="",p="";"01"==i.idGrado||"02"==i.idGrado||"03"==i.idGrado?(l=i.periodosVisibles.map((function(t){return"<td></td>"})).join(""),d="",u="",c="",v="",h="",p=""):(l=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,o,e):"","</td>")})).join(""),d=98==i.orden?"":i.criterio1Periodo(n,t,o,i.periodoActual)>0?i.criterio1Periodo(n,t,o,i.periodoActual):"",u=98==i.orden?"":i.criterio2Periodo(n,t,o,i.periodoActual)>0?i.criterio2Periodo(n,t,o,i.periodoActual):"",c=98==i.orden?"":i.criterio3Periodo(n,t,o,i.periodoActual)>0?i.criterio3Periodo(n,t,o,i.periodoActual):"",v=98!==i.orden?i.promedioAsignatura(n,t,o):"",h=98!==i.orden?i.definitivaPeriodo(n,t,o,i.periodoActual):"",p=98!==i.orden?i.recuperacion(n,t,o,i.periodoActual):""),s=98!==i.orden?i.notaFinal(n,t,o,i.periodoActual):"";var f=98!==i.orden?i.desempeno(s,t,o):"";"01"!=i.idGrado&&"02"!=i.idGrado&&"03"!=i.idGrado||(s="");var m=i.ausencias(n,t,o,"ausJ"),b=i.ausencias(n,t,o,"ausS"),g=98==i.orden?"":m>0?m:"",A=98==i.orden?"":b>0?b:"",x=null!=e.docente?e.docente:"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(x,"</i></td>\n                <td>").concat(r,"</td>\n                ").concat(l,"\n                <td>").concat(v,"</td>\n                <td>").concat(d,"</td>\n                <td>").concat(u,"</td>\n                <td>").concat(c,"</td>\n                <td>").concat(s,"</td>\n                <td>").concat(f,"</td>\n                <td>").concat(g,"</td>\n                <td>").concat(A,'</td>\n              </tr>\n              <tr><td colspan="11" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual,i.orden),"</td></tr>\n            "):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(x,"</i></td>\n                <td>").concat(r,"</td>\n                ").concat(l,"\n                <td>").concat(v,"</td>\n                <td>").concat(h,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(s,"</td>\n                <td>").concat(f,"</td>\n                <td>").concat(g,"</td>\n                <td>").concat(A,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual,i.orden),"</td></tr>\n            ")})).join(""),a=i.ausenciasArea(n,t,"ausJ"),r=i.ausenciasArea(n,t,"ausS"),s="",l="",d="";"01"==i.idGrado||"02"==i.idGrado||"03"==i.idGrado?(s=i.periodosVisibles.map((function(t){return"<td></td>"})).join(""),l=""):(s=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),l=98!==i.orden?i.promedioArea(n,t):""),d=98!==i.orden&&99!=i.orden?i.notaFinalArea(n,t):99===i.orden?i.definitivaPeriodo(n,t,i.asignatur,i.periodoActual):"";var u=98!==i.orden?i.desempeno(d,t,i.asignatur):"";"01"!=i.idGrado&&"02"!=i.idGrado&&"03"!=i.idGrado||(d="");var c=98==i.orden?"":a>0?a:"",v=98==i.orden?"":r>0?r:"",h=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(h,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n            </tr>\n            ").concat(o,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(h,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td></td><td></td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n            </tr>\n            ").concat(o,"\n          ")})).join("")},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i){if(99==this.orden)return"I"==t?"INSUFICIENTE":"A"==t?"ACEPTABLE":"S"==t?"SOBRESALIENTE":"E"==t?"EXCELENTE":"";var e=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),o=(null===e||void 0===e?void 0:e.idTipoEspecialidad)||1,a=parseFloat(t);if(isNaN(a))return"";var r=2===o?this.umbralesT[0]:this.umbralesA[0],s=2===o?this.umbralesT[1]:this.umbralesA[1],l=2===o?this.umbralesT[2]:this.umbralesA[2],d=2===o?this.umbralesT[3]:this.umbralesA[3];return a<r?"Bajo":a<s?"B치sico":a<l?"Alto":a<=d?"Superior":""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},calcularPromedioGeneralPorAreasFinales:function(t){var n=this,i="";i=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalArea(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(3):"0.000"},generarRankingCurso:function(){var t=this,n=[];Object.entries(this.estudiantesNotas).forEach((function(i){var e=Object(v["a"])(i,2),o=e[0],a=e[1],r=parseFloat(t.calcularPromedioGeneralPorAreasFinales(a));isNaN(r)||n.push({nombre:o,promedio:r})})),n.sort((function(t,n){return n.promedio-t.promedio}));for(var i=1,e=0;e<n.length;e++)e>0&&n[e].promedio===n[e-1].promedio?n[e].puesto=n[e-1].puesto:n[e].puesto=i,i++;return n},puestoEstudiante:function(t){var n=this.generarRankingCurso(),i=n.find((function(n){return n.nombre===t}));return(null===i||void 0===i?void 0:i.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}for(var S in b.periodos){var y=b.periodos[S];"number"===typeof y&&(g+=y,A++)}return A>0?this.redondear(g/A).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,"115001002807"===this.$store.state.daneInstitucion||"315001001893"===this.$store.state.daneInstitucion||"115001000430"===this.$store.state.daneInstitucion||"315001001613"===this.$store.state.daneInstitucion||"115001002751"===this.$store.state.daneInstitucion||"115001000367"===this.$store.state.daneInstitucion?this.colDesem=7:this.colDesem=6,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}}),f=p,m=i("2877"),b=Object(m["a"])(f,u,c,!1,null,"8edef366",null),g=b.exports,A=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},x=[],_={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>BOLETIN DE EVALUACIONES POR PERIODO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o en el Periodo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?i+="\n                  <th>".concat(this.descC1,"</th>\n                  <th>").concat(this.descC2,"</th>\n                  <th>").concat(this.descC3,"</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          "):i+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",i+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:20%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n),'</strong></th>\n                <th style="width:20%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),i+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return e.map((function(t){var e=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),o=e.map((function(e){i.orden=e.orden;var o=e.asignatura;i.asignatur=o;var a=e.nombreAsignatura,r=98!==i.orden?e.ih:"",s=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,o,e):"","</td>")})).join(""),l=98==i.orden?"":i.criterio1Periodo(n,t,o,i.periodoActual)>0?i.criterio1Periodo(n,t,o,i.periodoActual):"",d=98==i.orden?"":i.criterio2Periodo(n,t,o,i.periodoActual)>0?i.criterio2Periodo(n,t,o,i.periodoActual):"",u=98==i.orden?"":i.criterio3Periodo(n,t,o,i.periodoActual)>0?i.criterio3Periodo(n,t,o,i.periodoActual):"",c=98!==i.orden?i.promedioAsignatura(n,t,o):"",v=98!==i.orden?i.definitivaPeriodo(n,t,o,i.periodoActual):"",h=98!==i.orden?i.recuperacion(n,t,o,i.periodoActual):"",p=98!==i.orden?i.notaFinal(n,t,o,i.periodoActual):"",f=98!==i.orden?i.desempeno(p,t,o):"",m=i.ausencias(n,t,o,"ausJ"),b=i.ausencias(n,t,o,"ausS"),g=98==i.orden?"":m>0?m:"",A=98==i.orden?"":b>0?b:"",x=null!=e.docente?e.docente:"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(x,"</i></td>\n                <td>").concat(r,"</td>\n                ").concat(s,"\n                <td>").concat(c,"</td>\n                <td>").concat(l,"</td>\n                <td>").concat(d,"</td>\n                <td>").concat(u,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,"</td>\n                <td>").concat(g,"</td>\n                <td>").concat(A,'</td>\n              </tr>\n              <tr><td colspan="11" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual,i.orden),"</td></tr>\n            "):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(x,"</i></td>\n                <td>").concat(r,"</td>\n                ").concat(s,"\n                <td>").concat(c,"</td>\n                <td>").concat(v,"</td>\n                <td>").concat(h,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,"</td>\n                <td>").concat(g,"</td>\n                <td>").concat(A,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual,i.orden),"</td></tr>\n            ")})).join(""),a=i.ausenciasArea(n,t,"ausJ"),r=i.ausenciasArea(n,t,"ausS"),s=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),l=98!==i.orden?i.promedioArea(n,t):"",d=98!==i.orden&&99!=i.orden?i.notaFinalArea(n,t):99===i.orden?i.definitivaPeriodo(n,t,i.asignatur,i.periodoActual):"",u=98!==i.orden?i.desempeno(d,t,i.asignatur):"",c=98==i.orden?"":a>0?a:"",v=98==i.orden?"":r>0?r:"",h=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(h,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n            </tr>\n            ").concat(o,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(h,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td></td><td></td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n            </tr>\n            ").concat(o,"\n          ")})).join("")},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.9rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i){var e=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),o=(null===e||void 0===e?void 0:e.idTipoEspecialidad)||1,a=parseFloat(t);if(isNaN(a))return"";var r=2===o?this.umbralesT[0]:this.umbralesA[0],s=2===o?this.umbralesT[1]:this.umbralesA[1],l=2===o?this.umbralesT[2]:this.umbralesA[2],d=2===o?this.umbralesT[3]:this.umbralesA[3];return a<r?"Bajo":a<s?"B치sico":a<l?"Alto":a<=d?"Superior":""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},calcularPromedioGeneralPorAreasFinales:function(t){var n=this,i="";i=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalArea(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(3):"0.000"},generarRankingCurso:function(){var t=this,n=[];Object.entries(this.estudiantesNotas).forEach((function(i){var e=Object(v["a"])(i,2),o=e[0],a=e[1],r=parseFloat(t.calcularPromedioGeneralPorAreasFinales(a));isNaN(r)||n.push({nombre:o,promedio:r})})),n.sort((function(t,n){return n.promedio-t.promedio}));for(var i=1,e=0;e<n.length;e++)e>0&&n[e].promedio===n[e-1].promedio?n[e].puesto=n[e-1].puesto:n[e].puesto=i,i++;return n},puestoEstudiante:function(t){var n=this.generarRankingCurso(),i=n.find((function(n){return n.nombre===t}));return(null===i||void 0===i?void 0:i.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3.5:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}for(var S in b.periodos){var y=b.periodos[S];"number"===typeof y&&(g+=y,A++)}return A>0?this.redondear(g/A).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.letrasCompor=["J","B","A","S"],this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.colDesem=6,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},C=_,S=Object(m["a"])(C,A,x,!1,null,"4deb8693",null),y=S.exports,F=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},P=[],N={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0,estConceptual:null}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");this.estConceptual=t.id_conceptual;var i='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>BOLETIN DE EVALUACIONES POR PERIODO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o en el Periodo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?i+="\n                  <th>".concat(this.descC1,"</th>\n                  <th>").concat(this.descC2,"</th>\n                  <th>").concat(this.descC3,"</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          "):i+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",i+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:20%; text-align: left">Promedio: <strong>').concat("N"==this.estConceptual?this.calcularPromedioGeneralPorAreasFinales(n):"",'</strong></th>\n                <th style="width:20%; text-align: left">Puesto: <strong>').concat("N"==this.estConceptual?this.puestoEstudiante(t.nombre):"",'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),i+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return e.map((function(t){var e=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),o=e.map((function(e){i.orden=e.orden;var o=e.asignatura;i.asignatur=o;var a=e.nombreAsignatura,r=98!==i.orden?e.ih:"",s=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,o,e):"","</td>")})).join(""),l=98==i.orden?"":i.criterio1Periodo(n,t,o,i.periodoActual)>0?i.criterio1Periodo(n,t,o,i.periodoActual):"",d=98==i.orden?"":i.criterio2Periodo(n,t,o,i.periodoActual)>0?i.criterio2Periodo(n,t,o,i.periodoActual):"",u=98==i.orden?"":i.criterio3Periodo(n,t,o,i.periodoActual)>0?i.criterio3Periodo(n,t,o,i.periodoActual):"",c=98!==i.orden?i.promedioAsignatura(n,t,o):"",v=98!==i.orden?i.definitivaPeriodo(n,t,o,i.periodoActual):"",h=98!==i.orden?i.recuperacion(n,t,o,i.periodoActual):"",p=98!==i.orden?i.notaFinal(n,t,o,i.periodoActual):"",f=98!==i.orden?i.desempeno(p,t,o):"",m=i.ausencias(n,t,o,"ausJ"),b=i.ausencias(n,t,o,"ausS"),g=98==i.orden?"":m>0?m:"",A=98==i.orden?"":b>0?b:"",x=null!=e.docente?e.docente:"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(x,"</i></td>\n                <td>").concat(r,"</td>\n                ").concat(s,"\n                <td>").concat(c,"</td>\n                <td>").concat(l,"</td>\n                <td>").concat(d,"</td>\n                <td>").concat(u,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,"</td>\n                <td>").concat(g,"</td>\n                <td>").concat(A,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual,i.orden),"</td></tr>\n            "):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(x,"</i></td>\n                <td>").concat(r,"</td>\n                ").concat(s,"\n                <td>").concat(c,"</td>\n                <td>").concat(v,"</td>\n                <td>").concat(h,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,"</td>\n                <td>").concat(g,"</td>\n                <td>").concat(A,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual,i.orden),"</td></tr>\n            ")})).join(""),a=i.ausenciasArea(n,t,"ausJ"),r=i.ausenciasArea(n,t,"ausS"),s=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),l=98!==i.orden?i.promedioArea(n,t):"",d=98!==i.orden&&99!=i.orden?i.notaFinalArea(n,t):99===i.orden?i.definitivaPeriodo(n,t,i.asignatur,i.periodoActual):"",u=98!==i.orden?i.desempeno(d,t,i.asignatur):"",c=98==i.orden?"":a>0?a:"",v=98==i.orden?"":r>0?r:"",h=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(h,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n            </tr>\n            ").concat(o,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(h,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td></td><td></td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n            </tr>\n            ").concat(o,"\n          ")})).join("")},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if(99!=o&&("S"===l.pd||"S"===l.concep))return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i){if(99==this.orden)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"S"==t?"Sobresaliente":"E"==t?"Excelente":"";var e=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),o=(null===e||void 0===e?void 0:e.idTipoEspecialidad)||1,a=parseFloat(t);if(isNaN(a))return"";var r=2===o?this.umbralesT[0]:this.umbralesA[0],s=2===o?this.umbralesT[1]:this.umbralesA[1],l=2===o?this.umbralesT[2]:this.umbralesA[2],d=2===o?this.umbralesT[3]:this.umbralesA[3];return a<r?"Bajo":a<s?"B치sico":a<l?"Alto":a<=d?"Superior":""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},calcularPromedioGeneralPorAreasFinales:function(t){var n=this,i="";i=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalArea(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(3):"0.000"},generarRankingCurso:function(){var t=this,n=[];Object.entries(this.estudiantesNotas).forEach((function(i){var e=Object(v["a"])(i,2),o=e[0],a=e[1],r=parseFloat(t.calcularPromedioGeneralPorAreasFinales(a));isNaN(r)||n.push({nombre:o,promedio:r})})),n.sort((function(t,n){return n.promedio-t.promedio}));for(var i=1,e=0;e<n.length;e++)e>0&&n[e].promedio===n[e-1].promedio?n[e].puesto=n[e-1].puesto:n[e].puesto=i,i++;return n},puestoEstudiante:function(t){var n=this.generarRankingCurso(),i=n.find((function(n){return n.nombre===t}));return(null===i||void 0===i?void 0:i.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}for(var S in b.periodos){var y=b.periodos[S];"number"===typeof y&&(g+=y,A++)}return A>0?this.redondear(g/A).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l||l.concep;if("S"===this.estConceptual)return"";var A=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==A&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";var x=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return x>0?this.redondear(x).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,"115001002807"===this.$store.state.daneInstitucion||"315001001893"===this.$store.state.daneInstitucion||"115001000430"===this.$store.state.daneInstitucion||"315001001613"===this.$store.state.daneInstitucion||"115001002751"===this.$store.state.daneInstitucion||"115001000367"===this.$store.state.daneInstitucion?this.colDesem=7:this.colDesem=6,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},E=N,D=Object(m["a"])(E,F,P,!1,null,"7b3059ce",null),B=D.exports,j=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF Julius")])])},I=[],O={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>BOLETIN DE EVALUACIONES POR PERIODO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o en el Periodo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?i+="\n                  <th>".concat(this.descC1,"</th>\n                  <th>").concat(this.descC2,"</th>\n                  <th>").concat(this.descC3,"</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          "):i+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",i+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:20%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n),'</strong></th>\n                <th style="width:20%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),i+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return e.map((function(t){var e=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),o=e.map((function(e){i.orden=e.orden;var o=e.asignatura;i.asignatur=o;var a=e.nombreAsignatura,r=98!==i.orden?e.ih:"",s=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,o,e):"","</td>")})).join(""),l=98==i.orden?"":i.criterio1Periodo(n,t,o,i.periodoActual)>0?i.criterio1Periodo(n,t,o,i.periodoActual):"",d=98==i.orden?"":i.criterio2Periodo(n,t,o,i.periodoActual)>0?i.criterio2Periodo(n,t,o,i.periodoActual):"",u=98==i.orden?"":i.criterio3Periodo(n,t,o,i.periodoActual)>0?i.criterio3Periodo(n,t,o,i.periodoActual):"",c=98!==i.orden?i.promedioAsignatura(n,t,o):"",v=98!==i.orden?i.definitivaPeriodo(n,t,o,i.periodoActual):"",h=98!==i.orden?i.recuperacion(n,t,o,i.periodoActual):"",p=98!==i.orden?i.notaFinal(n,t,o,i.periodoActual):"",f=98!==i.orden?i.desempeno(p,t,o):"",m=i.ausencias(n,t,o,"ausJ"),b=i.ausencias(n,t,o,"ausS"),g=98==i.orden?"":m>0?m:"",A=98==i.orden?"":b>0?b:"",x=null!=e.docente?e.docente:"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(x,"</i></td>\n                <td>").concat(r,"</td>\n                ").concat(s,"\n                <td>").concat(c,"</td>\n                <td>").concat(l,"</td>\n                <td>").concat(d,"</td>\n                <td>").concat(u,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,"</td>\n                <td>").concat(g,"</td>\n                <td>").concat(A,'</td>\n              </tr>\n              <tr><td colspan="13" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual,i.orden),"</td></tr>\n            "):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(x,"</i></td>\n                <td>").concat(r,"</td>\n                ").concat(s,"\n                <td>").concat(c,"</td>\n                <td>").concat(v,"</td>\n                <td>").concat(h,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,"</td>\n                <td>").concat(g,"</td>\n                <td>").concat(A,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual,i.orden),"</td></tr>\n            ")})).join(""),a=i.ausenciasArea(n,t,"ausJ"),r=i.ausenciasArea(n,t,"ausS"),s=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),l=98!==i.orden?i.promedioArea(n,t):"",d=98!==i.orden&&99!=i.orden?i.notaFinalArea(n,t):99===i.orden?i.definitivaPeriodo(n,t,i.asignatur,i.periodoActual):"",u=98!==i.orden?i.desempeno(d,t,i.asignatur):"",c=98==i.orden?"":a>0?a:"",v=98==i.orden?"":r>0?r:"",h=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(h,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n            </tr>\n            ").concat(o,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(h,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td></td><td></td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n            </tr>\n            ").concat(o,"\n          ")})).join("")},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i){if(99==this.orden)return"J"==t?"Bajo":"B"==t?"B치sico":"S"==t?"Sobresaliente":"E"==t?"Excelente":"";var e=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),o=(null===e||void 0===e?void 0:e.idTipoEspecialidad)||1,a=parseFloat(t);if(isNaN(a))return"";var r=2===o?this.umbralesT[0]:this.umbralesA[0],s=2===o?this.umbralesT[1]:this.umbralesA[1],l=2===o?this.umbralesT[2]:this.umbralesA[2],d=2===o?this.umbralesT[3]:this.umbralesA[3];return a<r?"Bajo":a<s?"B치sico":a<l?"Alto":a<=d?"Superior":""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},calcularPromedioGeneralPorAreasFinales:function(t){var n=this,i="";i=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalArea(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(3):"0.000"},generarRankingCurso:function(){var t=this,n=[];Object.entries(this.estudiantesNotas).forEach((function(i){var e=Object(v["a"])(i,2),o=e[0],a=e[1],r=parseFloat(t.calcularPromedioGeneralPorAreasFinales(a));isNaN(r)||n.push({nombre:o,promedio:r})})),n.sort((function(t,n){return n.promedio-t.promedio}));for(var i=1,e=0;e<n.length;e++)e>0&&n[e].promedio===n[e-1].promedio?n[e].puesto=n[e-1].puesto:n[e].puesto=i,i++;return n},puestoEstudiante:function(t){var n=this.generarRankingCurso(),i=n.find((function(n){return n.nombre===t}));return(null===i||void 0===i?void 0:i.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}for(var S in b.periodos){var y=b.periodos[S];"number"===typeof y&&(g+=y,A++)}return A>0?this.redondear(g/A).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,"115001002807"===this.$store.state.daneInstitucion||"315001001893"===this.$store.state.daneInstitucion||"115001000430"===this.$store.state.daneInstitucion||"315001001613"===this.$store.state.daneInstitucion||"115001002751"===this.$store.state.daneInstitucion||"115001000367"===this.$store.state.daneInstitucion?this.colDesem=7:this.colDesem=6,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},T=O,V=Object(m["a"])(T,j,I,!1,null,"2ce64295",null),w=V.exports,R=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF Emiliani")])])},J=[],k={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){var i=this;if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var e='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>BOLETIN DE EVALUACIONES POR PERIODO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o en el Periodo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return'<th style="font-size: 8px">P'.concat(t,"[").concat(i.pesosPeriodos[t-1],"%]</th>")})).join(""),"\n                <th>ACUM</th>\n        ");return 7==this.colDesem?e+="\n                  <th>".concat(this.descC1,"</th>\n                  <th>").concat(this.descC2,"</th>\n                  <th>").concat(this.descC3,"</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          "):e+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",e+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:20%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n),'</strong></th>\n                <th style="width:20%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),e+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return e.map((function(t){var e=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),o=e.map((function(e){i.orden=e.orden;var o=e.asignatura;i.asignatur=o;var a=e.nombreAsignatura,r=98!==i.orden?e.ih:"",s=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,o,e):"","</td>")})).join(""),l=98==i.orden?"":i.criterio1Periodo(n,t,o,i.periodoActual)>0?i.criterio1Periodo(n,t,o,i.periodoActual):"",d=98==i.orden?"":i.criterio2Periodo(n,t,o,i.periodoActual)>0?i.criterio2Periodo(n,t,o,i.periodoActual):"",u=98==i.orden?"":i.criterio3Periodo(n,t,o,i.periodoActual)>0?i.criterio3Periodo(n,t,o,i.periodoActual):"",c=98!==i.orden?i.promedioAsignatura(n,t,o):"",v=98!==i.orden?i.definitivaPeriodo(n,t,o,i.periodoActual):"",h=98!==i.orden?i.recuperacion(n,t,o,i.periodoActual):"",p=98!==i.orden?i.notaFinal(n,t,o,i.periodoActual):"",f=98!==i.orden?i.desempeno(p,t,o):"",m=i.ausencias(n,t,o,"ausJ"),b=i.ausencias(n,t,o,"ausS"),g=98==i.orden?"":m>0?m:"",A=98==i.orden?"":b>0?b:"",x=null!=e.docente?e.docente:"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(x,"</i></td>\n                <td>").concat(r,"</td>\n                ").concat(s,"\n                <td>").concat(c,"</td>\n                <td>").concat(l,"</td>\n                <td>").concat(d,"</td>\n                <td>").concat(u,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,"</td>\n                <td>").concat(g,"</td>\n                <td>").concat(A,'</td>\n              </tr>\n              <tr><td colspan="13" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual,i.orden),"</td></tr>\n            "):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(x,"</i></td>\n                <td>").concat(r,"</td>\n                ").concat(s,"\n                <td>").concat(c,"</td>\n                <td>").concat(v,"</td>\n                <td>").concat(h,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,"</td>\n                <td>").concat(g,"</td>\n                <td>").concat(A,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual,i.orden),"</td></tr>\n            ")})).join(""),a=i.ausenciasArea(n,t,"ausJ"),r=i.ausenciasArea(n,t,"ausS"),s=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),l=98!==i.orden?i.promedioArea(n,t):"",d=98!==i.orden&&99!=i.orden?i.notaFinalArea(n,t):99===i.orden?i.definitivaPeriodo(n,t,i.asignatur,i.periodoActual):"",u=98!==i.orden?i.desempeno(d,t,i.asignatur):"",c=98==i.orden?"":a>0?a:"",v=98==i.orden?"":r>0?r:"",h=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(h,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n            </tr>\n            ").concat(o,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(h,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td></td><td></td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n            </tr>\n            ").concat(o,"\n          ")})).join("")},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i){if(99==this.orden)return"A"==t?"Anormativo":"P"==t?"Persistente":"E"==t?"Emp치tico":"I"==t?"Integro":"";var e=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),o=(null===e||void 0===e?void 0:e.idTipoEspecialidad)||1,a=parseFloat(t);if(isNaN(a))return"";var r=2===o?this.umbralesT[0]:this.umbralesA[0],s=2===o?this.umbralesT[1]:this.umbralesA[1],l=2===o?this.umbralesT[2]:this.umbralesA[2],d=2===o?this.umbralesT[3]:this.umbralesA[3];return a<r?"Bajo":a<s?"B치sico":a<l?"Alto":a<=d?"Superior":""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},calcularPromedioGeneralPorAreasFinales:function(t){var n=this,i="";i=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalArea(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(3):"0.000"},generarRankingCurso:function(){var t=this,n=[];Object.entries(this.estudiantesNotas).forEach((function(i){var e=Object(v["a"])(i,2),o=e[0],a=e[1],r=parseFloat(t.calcularPromedioGeneralPorAreasFinales(a));isNaN(r)||n.push({nombre:o,promedio:r})})),n.sort((function(t,n){return n.promedio-t.promedio}));for(var i=1,e=0;e<n.length;e++)e>0&&n[e].promedio===n[e-1].promedio?n[e].puesto=n[e-1].puesto:n[e].puesto=i,i++;return n},puestoEstudiante:function(t){var n=this.generarRankingCurso(),i=n.find((function(n){return n.nombre===t}));return(null===i||void 0===i?void 0:i.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}for(var S in b.periodos){var y=b.periodos[S];"number"===typeof y&&(g+=y*this.pesosPeriodos[S-1]/100)}return g>0?this.redondear(g).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,"115001002807"===this.$store.state.daneInstitucion||"315001001893"===this.$store.state.daneInstitucion||"115001000430"===this.$store.state.daneInstitucion||"315001001613"===this.$store.state.daneInstitucion||"115001002751"===this.$store.state.daneInstitucion||"115001000367"===this.$store.state.daneInstitucion?this.colDesem=7:this.colDesem=6,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},H=k,$=Object(m["a"])(H,R,J,!1,null,"64407966",null),L=$.exports,M=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},G=[],U={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>BOLETIN DE EVALUACIONES POR PERIODO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o en el Periodo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?i+="\n                  <th>".concat(this.descC1,"</th>\n                  <th>").concat(this.descC2,"</th>\n                  <th>").concat(this.descC3,"</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          "):i+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",i+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:20%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n),'</strong></th>\n                <th style="width:20%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),i+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return e.map((function(t){var e=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),o=e.map((function(e){i.orden=e.orden;var o=e.asignatura;i.asignatur=o;var a=e.nombreAsignatura,r=98!==i.orden?e.ih:"",s=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,o,e):"","</td>")})).join(""),l=98==i.orden?"":i.criterio1Periodo(n,t,o,i.periodoActual)>0?i.criterio1Periodo(n,t,o,i.periodoActual):"",d=98==i.orden?"":i.criterio2Periodo(n,t,o,i.periodoActual)>0?i.criterio2Periodo(n,t,o,i.periodoActual):"",u=98==i.orden?"":i.criterio3Periodo(n,t,o,i.periodoActual)>0?i.criterio3Periodo(n,t,o,i.periodoActual):"",c=98!==i.orden?i.promedioAsignatura(n,t,o):"",v=98!==i.orden?i.definitivaPeriodo(n,t,o,i.periodoActual):"",h=98!==i.orden?i.recuperacion(n,t,o,i.periodoActual):"",p=98!==i.orden?i.notaFinal(n,t,o,i.periodoActual):"",f=98!==i.orden?i.desempeno(p,t,o):"",m=i.ausencias(n,t,o,"ausJ"),b=i.ausencias(n,t,o,"ausS"),g=98==i.orden?"":m>0?m:"",A=98==i.orden?"":b>0?b:"",x=null!=e.docente?e.docente:"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(x,"</i></td>\n                <td>").concat(r,"</td>\n                ").concat(s,"\n                <td>").concat(c,"</td>\n                <td>").concat(l,"</td>\n                <td>").concat(d,"</td>\n                <td>").concat(u,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,"</td>\n                <td>").concat(g,"</td>\n                <td>").concat(A,'</td>\n              </tr>\n              <tr><td colspan="11" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual,i.orden),"</td></tr>\n            "):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(x,"</i></td>\n                <td>").concat(r,"</td>\n                ").concat(s,"\n                <td>").concat(c,"</td>\n                <td>").concat(v,"</td>\n                <td>").concat(h,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,"</td>\n                <td>").concat(g,"</td>\n                <td>").concat(A,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual,i.orden),"</td></tr>\n            ")})).join(""),a=i.ausenciasArea(n,t,"ausJ"),r=i.ausenciasArea(n,t,"ausS"),s=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),l=98!==i.orden?i.promedioArea(n,t):"",d=98!==i.orden&&99!=i.orden?i.notaFinalArea(n,t):99===i.orden?i.definitivaPeriodo(n,t,i.asignatur,i.periodoActual):"",u=98!==i.orden?i.desempeno(d,t,i.asignatur):"",c=98==i.orden?"":a>0?a:"",v=98==i.orden?"":r>0?r:"",h=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(h,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n            </tr>\n            ").concat(o,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(h,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td></td><td></td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n            </tr>\n            ").concat(o,"\n          ")})).join("")},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i){var e=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),o=(null===e||void 0===e?void 0:e.idTipoEspecialidad)||1,a=parseFloat(t);if(isNaN(a))return"";var r=2===o?this.umbralesT[0]:this.umbralesA[0],s=2===o?this.umbralesT[1]:this.umbralesA[1],l=2===o?this.umbralesT[2]:this.umbralesA[2],d=2===o?this.umbralesT[3]:this.umbralesA[3];return a<r?"Bajo":a<s?"B치sico":a<l?"Alto":a<=d?"Superior":""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},calcularPromedioGeneralPorAreasFinales:function(t){var n=this,i="";i=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalArea(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(3):"0.000"},generarRankingCurso:function(){var t=this,n=[];Object.entries(this.estudiantesNotas).forEach((function(i){var e=Object(v["a"])(i,2),o=e[0],a=e[1],r=parseFloat(t.calcularPromedioGeneralPorAreasFinales(a));isNaN(r)||n.push({nombre:o,promedio:r})})),n.sort((function(t,n){return n.promedio-t.promedio}));for(var i=1,e=0;e<n.length;e++)e>0&&n[e].promedio===n[e-1].promedio?n[e].puesto=n[e-1].puesto:n[e].puesto=i,i++;return n},puestoEstudiante:function(t){var n=this.generarRankingCurso(),i=n.find((function(n){return n.nombre===t}));return(null===i||void 0===i?void 0:i.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}for(var S in b.periodos){var y=b.periodos[S];"number"===typeof y&&(g+=y,A++)}return A>0?this.redondear(g/A).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,"115001002807"===this.$store.state.daneInstitucion||"315001001893"===this.$store.state.daneInstitucion||"115001000430"===this.$store.state.daneInstitucion||"315001001613"===this.$store.state.daneInstitucion||"115001002751"===this.$store.state.daneInstitucion||"115001000367"===this.$store.state.daneInstitucion?this.colDesem=7:this.colDesem=6,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},z=U,Y=Object(m["a"])(z,M,G,!1,null,"2d618e86",null),q=Y.exports,Z=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},X=[],K={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,escalaPreescolar:Object,nuevaEscalaPreescolar:Array,firmasBoletin:String},data:function(){return{escudo:null,asignatur:null,orden:null}},methods:{generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n        </head>\n        <body>\n          ".concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>BOLETIN DE EVALUACIONES POR PERIODO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,"</th>\n              </tr>\n            </thead>\n          </table>\n          ").concat(this.generarHTMLBoletinPreescolar(n),'\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        ");return i+this.firmasBoletin},generarHTMLBoletinPreescolar:function(t){var n=this,i=this.periodosVisibles,e=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))),o=function(t){var i=n.listaAreasAsignaturas.find((function(n){return n.area===t}));return(null===i||void 0===i?void 0:i.nombreArea)||t},a='\n        <style>\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n          .fila-insuficiente { background-color: #fdecea; }\n          .fila-bueno        { background-color: #fff9db; }\n          .fila-aceptable    { background-color: #eaf4fc; }\n          .fila-sobresaliente{ background-color: #eafaf1; }\n          .resumen-final     { margin-top: 2rem; font-size: 15px; }\n        </style>\n        <table class="tabla-boletin">\n          <thead>\n            <tr>\n              <th rowspan="2">츼rea / Asignatura</th>\n              <th rowspan="2">IH</th>\n              <th colspan="'.concat(this.periodosVisibles.length+1,'">Historial</th>\n              <th colspan="4">Desempe침o en el Periodo</th>\n            </tr>\n            <tr>\n              ').concat(i.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n              <th>Prom</th>\n              <th>EvalPer</th>\n              <th>Desempe침o</th>\n              <th>AusJ</th>\n              <th>AusS</th>\n            </tr>\n          </thead>\n          <tbody>\n      ");return e.forEach((function(e){var r=n.listaAreasAsignaturas.filter((function(t){return t.area===e})),s=n.periodosVisibles.map((function(t){return"<td></td>"})).join("");a+='\n          <tr class="fila-area">\n            <td style="text-align: left"><strong>'.concat(o(e),"</strong></td>\n            <td></td>\n            ").concat(s,"\n            <td></td>\n            <td></td>\n            <td></td> \n            <td></td>\n            <td></td>\n          </tr>\n        "),r.forEach((function(o){var r,s,l,d,u=o.asignatura,c=o.ih,v=o.orden,h=o.nombreAsignatura,p=o.docente;n.orden=v;var f=null===(r=t.areas)||void 0===r||null===(s=r[e])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[u];if(f){var m=n.letraDesdeValor(n.promedioAsignaturaPreescolar(f)),b=(null===(d=f.periodos)||void 0===d?void 0:d[n.periodoActual])||"",g=n.datosDesempenoPorLetra(b,v);a+='\n            <tr>\n              <td style="text-align: left"><strong>'.concat(h,'</strong> <br> <i style="font-size: 10px;">').concat(p,"</i></td>\n              <td>").concat(c,"</td>\n              ").concat(i.map((function(t){var n;return"<td>".concat(98===v?"":(null===(n=f.periodos)||void 0===n?void 0:n[t])||"","</td>")})).join(""),"\n              <td>").concat(98===v?"":m,"</td>\n              <td>").concat(98===v?"":b,"</td>\n              <td>").concat(98===v?"":g.texto," </td>\n              <td>").concat(f.ausJ||0,"</td>\n              <td>").concat(f.ausS||0,"</td>\n            </tr>\n          "),a+='<tr><td colspan="10" class="descriptor" style="text-align: left">'.concat(n.descriptorDesdeLetraFlexible(t,e,u,n.periodoActual,v),"</td></tr>")}}))})),a+='\n          </tbody>\n        </table>\n        <table class="tabla-boletin">\n          <thead>\n            <tr>\n              <th style="width:20%; text-align: left">Aus.Justificadas: <strong>'.concat(t.ausJ,'</strong></th>\n              <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(t.ausJ,"</strong></th>\n            </tr>\n          </thead>\n        </table>\n      "),a},valorNumericoDesdeLetra:function(t,n){if(99!=n){var i=this.nuevaEscalaPreescolar.find((function(n){return n.letra===t}));return(null===i||void 0===i?void 0:i.umbral)||null}if("bd226a20-fc82-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){if("J"==t)return 1;if("B"==t)return 2;if("S"==t)return 3;if("E"==t)return 4}else if("f5529ba0-fcb3-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){if("I"==t)return 1;if("A"==t)return 2;if("S"==t)return 3;if("E"==t)return 4}else{if("J"==t)return 1;if("B"==t)return 2;if("A"==t)return 3;if("S"==t)return 4}},conceptoDesdeValor:function(t){for(var n=0;n<this.nuevaEscalaPreescolar.length;n++){var i=this.nuevaEscalaPreescolar[n],e=this.nuevaEscalaPreescolar[n+1];if(!e||t<e.umbral)return{id_concepto_valorativo:n+1,letra:i.letra,texto:i.desempeno}}return null},letraDesdeValor:function(t){var n=this.conceptoDesdeValor(t);return(null===n||void 0===n?void 0:n.letra)||""},datosDesempenoPorLetra:function(t,n){var i="";if(99==n)return"bd226a20-fc82-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion?"J"==t?i="BAJO":"B"==t?i="B츼SICO":"S"==t?i="SOBRESALIENTE":"E"==t&&(i="EXCELENTE"):"f5529ba0-fcb3-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion?"I"==t?i="INSUFICIENTE":"A"==t?i="ACEPTABLE":"S"==t?i="SOBRESALIENTE":"E"==t&&(i="EXCELENTE"):i="",{emoji:"",texto:i,color:"#555"};var e,o=["游","游뗵","游땕","游땏"],a=this.nuevaEscalaPreescolar.findIndex((function(n){return n.letra===t}));if(-1===a)return{emoji:"",texto:"",color:"#aaa"};var r=this.nuevaEscalaPreescolar[a];return{emoji:o[a],texto:r.desempeno||"Sin descripci칩n",color:(null===(e=this.colorPorIndice)||void 0===e?void 0:e[a])||"#555"}},descriptorDesdeLetraFlexible:function(t,n,i,e,o){var a,r,s,l,d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),u=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i];if(!d||!u)return"";if("S"===u.pd||"S"===u.concep)return u.inclusion||"";var c=(null===(l=u.periodos)||void 0===l?void 0:l[e])||"",v=this.valorNumericoDesdeLetra(c,o);if(null===v)return"";var h=this.conceptoDesdeValor(v);if(!h)return"";var p=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===h.id_concepto_valorativo}));return(null===p||void 0===p?void 0:p.descriptor)||""},promedioAreaPorPeriodo:function(t,n,i){var e=this,o=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),a=0,r=0;return o.forEach((function(o){var s,l,d,u,c,v=o.asignatura,h=o.porcentaje,p=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d?void 0:d[v],f=(null===p||void 0===p||null===(u=p.periodos)||void 0===u?void 0:u[i])||"",m=null===(c=e.escalaPreescolar)||void 0===c?void 0:c[f];void 0!==m&&(a+=m*(h/100),r+=h)})),r>0?this.redondear(a).toFixed(1):""},promedioAreaPorAsignaturas:function(t,n){var i=this,e=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),o=0,a=0;return e.forEach((function(e){var r,s,l,d=e.asignatura,u=e.porcentaje,c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[d];if(c){var v=Object.values(c.periodos||{}),h=v.map((function(t){var n;return null===(n=i.escalaPreescolar)||void 0===n?void 0:n[t]})).filter((function(t){return void 0!==t}));if(h.length>0){var p=h.reduce((function(t,n){return t+n}),0)/h.length;o+=p*(u/100),a+=u}}})),a>0?o.toFixed(2):""},promedioAsignaturaPreescolar:function(t){var n=this,i=Object.values(t.periodos||{}),e=i.map((function(t){return n.valorNumericoDesdeLetra(t)})).filter((function(t){return null!==t}));if(!e.length)return"";var o=e.reduce((function(t,n){return t+n}),0)/e.length;return o.toFixed(2)},notaFinalAreaPreescolar:function(t,n){var i=this,e=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),o=0,a=0;return e.forEach((function(e){var r,s,l,d,u=e.asignatura,c=e.porcentaje,v=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[u];if(v){var h=(null===(d=v.periodos)||void 0===d?void 0:d[i.periodoActual])||"",p=i.valorNumericoDesdeLetra(h);null!==p&&(o+=p*(c/100),a+=c)}})),a>0?o.toFixed(2):""},promedioGeneralPreescolar:function(t){var n=this,i=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))),e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalAreaPreescolar(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(2):""},puestoEstudiantePreescolar:function(t){for(var n=this,i=Object.entries(this.estudiantesNotas).map((function(t){var i=Object(v["a"])(t,2),e=i[0],o=i[1];return{nombre:e,promedio:parseFloat(n.promedioGeneralPreescolar(o))}})).sort((function(t,n){return n.promedio-t.promedio})),e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:i[o].puesto=e,e++;var a=i.find((function(n){return n.nombre===t}));return(null===a||void 0===a?void 0:a.puesto)||""},getEmojiPromedio:function(t){return t<3.5?"游":t<4?"游뗵":t<4.6?"游땕":"游땏"},nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i];return!(!r||!r.periodos)},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},desempeno:function(t,n,i){if(99==this.orden)return"bd226a20-fc82-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion?"J"==t?"BAJO":"B"==t?"B츼SICO":"S"==t?"SOBRESALIENTE":"E"==t?"EXCELENTE":"":"J"==t?"Bajo":"B"==t?"B치sico":"S"==t?"Sobresaliente":"E"==t?"Excelente":"";var e=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),o=(null===e||void 0===e?void 0:e.idTipoEspecialidad)||1,a=parseFloat(t);if(isNaN(a))return"";var r=2===o?this.umbralesT[0]:this.umbralesA[0],s=2===o?this.umbralesT[1]:this.umbralesA[1],l=2===o?this.umbralesT[2]:this.umbralesA[2],d=2===o?this.umbralesT[3]:this.umbralesA[3];return a<r?"Bajo":a<s?"B치sico":a<l?"Alto":a<=d?"Superior":""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},calcularPromedioGeneralPorAreasFinales:function(t){var n=this,i="";i=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalArea(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(3):"0.000"},generarRankingCurso:function(){var t=this,n=[];Object.entries(this.estudiantesNotas).forEach((function(i){var e=Object(v["a"])(i,2),o=e[0],a=e[1],r=parseFloat(t.calcularPromedioGeneralPorAreasFinales(a));isNaN(r)||n.push({nombre:o,promedio:r})})),n.sort((function(t,n){return n.promedio-t.promedio}));for(var i=1,e=0;e<n.length;e++)e>0&&n[e].promedio===n[e-1].promedio?n[e].puesto=n[e-1].puesto:n[e].puesto=i,i++;return n},puestoEstudiante:function(t){var n=this.generarRankingCurso(),i=n.find((function(n){return n.nombre===t}));return(null===i||void 0===i?void 0:i.puesto)||""},ausencias:function(t,n,i,e){var o,a,r,s;return(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||""},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+a.ausencias(t,n,o,i)}),"")},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,p=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c||null===(v=c.definitivas)||void 0===v?void 0:v[e];return 99==h&&0==this.tipoValComp?p:"number"===typeof p&&p>0?p.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=this,c=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.orden,v=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d?void 0:d[i];if(!v)return"";var h=0,p=0,f=["J","B","A","S"];if(99==c&&0==this.tipoValComp){var m=function(t){var n=v.periodos[t],i=f.findIndex((function(t){return t===n}));h+=u.umbralesA[i],p++};for(var b in v.periodos)m(b);var g=p>0?this.redondear(h/p).toFixed(1):0;return g<=this.umbralesA[0]?f[0]:g<=this.umbralesA[1]?f[1]:g<=this.umbralesA[2]?f[2]:g<=this.umbralesA[3]?f[3]:g}for(var A in v.periodos){var x=v.periodos[A];"number"===typeof x&&(h+=x,p++)}return p>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodoComportamiento:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!p.length)return"";var f=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[p])||void 0===l?void 0:l.orden;if(99==f&&0==this.tipoValComp)return(null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[p])||void 0===v||null===(h=v.periodos)||void 0===h?void 0:h[i])||"";var m=p.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return m>0?this.redondear(m).toFixed(1):""},intensidadHorariaAsignatura:function(t,n){var i=this.listaAreasAsignaturas.find((function(i){return i.area===t&&i.asignatura===n}));return(null===i||void 0===i?void 0:i.intensidadHoraria)||0},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(t,i){return t+o.intensidadHorariaAsignatura(n,i)}),0)},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=(i.definitiva,i.recuperacion,i.definitivacompor),d=i.definitivapree,u=i.fechaR,c=i.inclusion,v=i.observaciones,h=i.pd,p=i.concep,f=i.ausJ,m=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var b=n[e];if(b.areas[a]||(b.areas[a]={asignaturas:{}}),!b.areas[a].asignaturas[r]){var g=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));b.areas[a].asignaturas[r]={intensidadHoraria:(null===g||void 0===g?void 0:g.ih)||0,orden:(null===g||void 0===g?void 0:g.orden)||0,porcentaje:(null===g||void 0===g?void 0:g.porcentaje)||100,docente:(null===g||void 0===g?void 0:g.docente)||"",periodos:{},definitivas:{},recuperaciones:{},definitiva:null,recuperacion:null,definitivacompor:null,definitivapree:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var A=b.areas[a].asignaturas[r];99==A.orden&&0==t.tipoValComp?(A.periodos[s]=l,A.definitivas[s]=l,A.recuperaciones[s]="",A.definitiva=l,A.recuperacion="",A.fechaR=u,A.inclusion=c,A.observaciones=v,A.pd=h,A.concep=p):(A.periodos[s]=d,A.definitivas[s]=d,A.recuperaciones[s]="",A.definitiva=d,A.recuperacion="",A.fechaR=u,A.inclusion=c,A.observaciones=v,A.pd=h,A.concep=p),A.ausJ+=f||0,A.ausS+=m||0,b.ausJ+=f||0,b.ausS+=m||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion}},Q=K,W=Object(m["a"])(Q,Z,X,!1,null,"7c9af53e",null),tt=W.exports,nt=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},it=[],et={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String},data:function(){return{escudo:null,asignatur:null,datosSeccion:{},orden:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>BOLETIN DE EVALUACIONES POR PERIODO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="6">Desempe침o en el Periodo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n                <th>EvP</th>\n                <th>Rec</th>\n                <th>Def</th>\n                <th>Desemp</th>\n                <th>AJ</th>\n                <th>AS</th>\n              </tr>\n            </thead>\n            <tbody>\n              ").concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:20%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        ");return i+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return e.map((function(t){var e=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),o=e.map((function(e){i.orden=e.orden;var o=e.asignatura;i.asignatur=o;var a=e.nombreAsignatura,r=98!==i.orden?e.ih:"",s=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,o,e):"","</td>")})).join(""),l=98!==i.orden?i.promedioAsignatura(n,t,o):"",d=98!==i.orden?i.definitivaPeriodo(n,t,o,i.periodoActual):"",u=98!==i.orden?i.recuperacion(n,t,o,i.periodoActual):"",c=98!==i.orden?i.notaFinal(n,t,o,i.periodoActual):"",v=98!==i.orden?i.desempeno(c,t,o):"",h=98!==i.orden?i.ausencias(n,t,o,"ausJ"):"",p=98!==i.orden?i.ausencias(n,t,o,"ausS"):"",f=null!=e.docente?e.docente:"";return'\n            <tr>\n              <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(f,"</i></td>\n              <td>").concat(r,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n              <td>").concat(p,'</td>\n            </tr>\n            <tr><td colspan="11" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual),"</td></tr>\n          ")})).join(""),a=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),r=98!==i.orden?i.promedioArea(n,t):"",s=98!==i.orden&&99!=i.orden?i.notaFinalArea(n,t):99===i.orden?i.definitivaPeriodo(n,t,i.asignatur,i.periodoActual):"",l=98!==i.orden?i.desempeno(s,t,i.asignatur):"",d=98!==i.orden?i.ausenciasArea(n,t,"ausJ"):"",u=98!==i.orden?i.ausenciasArea(n,t,"ausS"):"",c=98!==i.orden?i.intensidadHorariaArea(n,t):"";return'\n          <tr class="fila-area">\n            <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n            <td>").concat(c,"</td>\n            ").concat(a,"\n            <td>").concat(r,"</td>\n            <td></td><td></td>\n            <td>").concat(s,"</td>\n            <td>").concat(l,"</td>\n            <td>").concat(d,"</td>\n            <td>").concat(u,"</td>\n          </tr>\n          ").concat(o,"\n        ")})).join("")},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e){var o,a,r,s=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r?void 0:r[i],l=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!s||!l)return"";if("S"===s.pd)return s.inclusion||"";var d=parseFloat(this.notaFinal(t,n,i,e));if(isNaN(d))return"";var u=l.idTipoEspecialidad,c=2===u?this.umbralesT[0]:this.umbralesA[0],v=2===u?this.umbralesT[1]:this.umbralesA[1],h=2===u?this.umbralesT[2]:this.umbralesA[2],p=2===u?this.umbralesT[3]:this.umbralesA[3],f=null;f=d<c?1:d<v?2:d<h?3:d<=p?4:999;var m=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===l.idAsignaturaCurso&&t.id_concepto_valorativo===f}));return(null===m||void 0===m?void 0:m.descriptor)||""},desempeno:function(t,n,i){var e=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),o=(null===e||void 0===e?void 0:e.idTipoEspecialidad)||1,a=parseFloat(t);if(isNaN(a))return"";var r=2===o?this.umbralesT[0]:this.umbralesA[0],s=2===o?this.umbralesT[1]:this.umbralesA[1],l=2===o?this.umbralesT[2]:this.umbralesA[2],d=2===o?this.umbralesT[3]:this.umbralesA[3];return a<r?"Bajo":a<s?"B치sico":a<l?"Alto":a<=d?"Superior":""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},calcularPromedioGeneralPorAreasFinales:function(t){var n=this,i="";i=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalArea(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(3):"0.000"},generarRankingCurso:function(){var t=this,n=[];Object.entries(this.estudiantesNotas).forEach((function(i){var e=Object(v["a"])(i,2),o=e[0],a=e[1],r=parseFloat(t.calcularPromedioGeneralPorAreasFinales(a));isNaN(r)||n.push({nombre:o,promedio:r})})),n.sort((function(t,n){return n.promedio-t.promedio}));for(var i=1,e=0;e<n.length;e++)e>0&&n[e].promedio===n[e-1].promedio?n[e].puesto=n[e-1].puesto:n[e].puesto=i,i++;return n},puestoEstudiante:function(t){var n=this.generarRankingCurso(),i=n.find((function(n){return n.nombre===t}));return(null===i||void 0===i?void 0:i.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,p=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c||null===(v=c.definitivas)||void 0===v?void 0:v[e];return 99==h&&0==this.tipoValComp?p:"number"===typeof p&&p>0?p.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=this,c=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.orden,v=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d?void 0:d[i];if(!v)return"";var h=0,p=0;if(99==c&&0==this.tipoValComp){var f=function(t){var n=v.periodos[t],i=u.letrasCompor.findIndex((function(t){return t===n}));h+=u.umbralesA[i],p++};for(var m in v.periodos)f(m);var b=p>0?this.redondear(h/p).toFixed(1):0;return b<=this.umbralesA[0]?this.letrasCompor[0]:b<=this.umbralesA[1]?this.letrasCompor[1]:b<=this.umbralesA[2]?this.letrasCompor[2]:b<=this.umbralesA[3]?this.letrasCompor[3]:b}for(var g in v.periodos){var A=v.periodos[g];"number"===typeof A&&(h+=A,p++)}return p>0?this.redondear(h/p).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!p.length)return"";var f=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[p])||void 0===l?void 0:l.orden;if(99==f&&0==this.tipoValComp)return(null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[p])||void 0===v||null===(h=v.periodos)||void 0===h?void 0:h[i])||"";var m=p.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return m>0?this.redondear(m).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||""},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+a.ausencias(t,n,o,i)}),"")},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden;return 99==A&&0==this.tipoValComp?(null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c||null===(v=c.periodos)||void 0===v?void 0:v[e])||"":(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[i])||void 0===m||null===(b=m.periodos)||void 0===b||null===(g=b[e])||void 0===g?void 0:g.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return"ESTUDIANTE RETIRADO. | Motivo del Retiro: "+(null===a||void 0===a?void 0:a.motivo)+" - "+(null===a||void 0===a?void 0:a.obsRetiro)+" | Fecha de Retiro: "+(null===a||void 0===a?void 0:a.fechaRetiro)||!1},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.definitivacompor,c=i.fechaR,v=i.inclusion,h=i.observaciones,p=i.pd,f=i.ausJ,m=i.ausS,b=i.obsRetiro,g=i.motivo,A=i.fechaRetiro;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var x=n[e];if(x.areas[a]||(x.areas[a]={asignaturas:{}}),!x.areas[a].asignaturas[r]){var _=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));x.areas[a].asignaturas[r]={intensidadHoraria:(null===_||void 0===_?void 0:_.ih)||0,orden:(null===_||void 0===_?void 0:_.orden)||0,porcentaje:(null===_||void 0===_?void 0:_.porcentaje)||100,docente:(null===_||void 0===_?void 0:_.docente)||"",periodos:{},definitivas:{},recuperaciones:{},definitiva:null,recuperacion:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,ausJ:0,ausS:0,obsRetiro:"",motivo:"",fechaRetiro:""}}var C=x.areas[a].asignaturas[r];99==C.orden&&0==t.tipoValComp?(C.periodos[s]=u,C.definitivas[s]=u,C.recuperaciones[s]="",C.definitiva=u,C.recuperacion="",C.fechaR=c,C.inclusion=v,C.observaciones=h,C.pd=p,C.obsRetiro=b,C.motivo=g,C.fechaRetiro=A):(C.periodos[s]=d>l?d:l,C.definitivas[s]=l,C.recuperaciones[s]=d,C.definitiva=l,C.recuperacion=d,C.fechaR=c,C.inclusion=v,C.observaciones=h,C.pd=p,C.obsRetiro=b,C.motivo=g,C.fechaRetiro=A),C.ausJ+=f||0,C.ausS+=m||0,x.ausJ+=f||0,x.ausS+=m||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},ot=et,at=Object(m["a"])(ot,nt,it,!1,null,"b21d1ad8",null),rt=at.exports,st=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},lt=[],dt={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,escalaPreescolar:Object,nuevaEscalaPreescolar:Array,firmasBoletin:String},data:function(){return{escudo:null,asignatur:null}},methods:{generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n        </head>\n        <body>\n          ".concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>BOLETIN DE EVALUACIONES POR PERIODO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,"</th>\n              </tr>\n            </thead>\n          </table>\n          ").concat(this.generarHTMLBoletinPreescolar(n),'\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        ");return i+this.firmasBoletin},generarHTMLBoletinPreescolar:function(t){var n=this,i=this.periodosVisibles,e=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))),o=function(t){var i=n.listaAreasAsignaturas.find((function(n){return n.area===t}));return(null===i||void 0===i?void 0:i.nombreArea)||t},a='\n        <style>\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n          .fila-insuficiente { background-color: #fdecea; }\n          .fila-bueno        { background-color: #fff9db; }\n          .fila-aceptable    { background-color: #eaf4fc; }\n          .fila-sobresaliente{ background-color: #eafaf1; }\n          .resumen-final     { margin-top: 2rem; font-size: 15px; }\n        </style>\n        <table class="tabla-boletin">\n          <thead>\n            <tr>\n              <th rowspan="2">츼rea / Asignatura</th>\n              <th rowspan="2">IH</th>\n              <th colspan="'.concat(this.periodosVisibles.length+1,'">Historial</th>\n              <th colspan="4">Desempe침o en el Periodo</th>\n            </tr>\n            <tr>\n              ').concat(i.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n              <th>Prom</th>\n              <th>EvalPer</th>\n              <th>Desempe침o</th>\n              <th>AusJ</th>\n              <th>AusS</th>\n            </tr>\n          </thead>\n          <tbody>\n      ");return e.forEach((function(e){var r=n.listaAreasAsignaturas.filter((function(t){return t.area===e})),s=n.periodosVisibles.map((function(i){return"<td>".concat(99!==n.orden?n.letraDesdeValor(n.promedioAreaPorPeriodo(t,e,i)):n.promedioAreaPorPeriodoComportamiento(t,e,i),"</td>")})).join(""),l=n.datosDesempenoPorLetra(n.letraDesdeValor(n.promedioAreaPorPeriodo(t,e,n.periodoActual)));a+='\n          <tr class="fila-area">\n            <td style="text-align: left"><strong>'.concat(o(e),"</strong></td>\n            <td></td>\n            ").concat(s,"\n            <td>").concat(n.letraDesdeValor(n.promedioAreaPorAsignaturas(t,e)),"</td>\n            <td></td>\n            <td>").concat(l.texto," ").concat(l.emoji,"</td>\n            <td></td>\n            <td></td>\n          </tr>\n        "),r.forEach((function(o){var r,s,l,d,u=o.asignatura,c=o.ih,v=(o.orden,o.nombreAsignatura),h=o.docente,p=null===(r=t.areas)||void 0===r||null===(s=r[e])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[u];if(p){var f=n.letraDesdeValor(n.promedioAsignaturaPreescolar(p)),m=(null===(d=p.periodos)||void 0===d?void 0:d[n.periodoActual])||"",b=n.datosDesempenoPorLetra(m);a+='\n            <tr>\n              <td style="text-align: left"><strong>'.concat(v,'</strong> <br> <i style="font-size: 10px;">').concat(h,"</i></td>\n              <td>").concat(c,"</td>\n              ").concat(i.map((function(t){var n;return"<td>".concat((null===(n=p.periodos)||void 0===n?void 0:n[t])||"","</td>")})).join(""),"\n              <td>").concat(f,"</td>\n              <td>").concat(m,"</td>\n              <td>").concat(b.texto," </td>\n              <td>").concat(p.ausJ||0,"</td>\n              <td>").concat(p.ausS||0,"</td>\n            </tr>\n          "),a+='<tr><td colspan="9" class="descriptor" style="text-align: left">'.concat(n.descriptorDesdeLetraFlexible(t,e,u,n.periodoActual),"</td></tr>")}}))})),a+='\n          </tbody>\n        </table>\n        <table class="tabla-boletin">\n          <thead>\n            <tr>\n              <th style="width:20%; text-align: left">Aus.Justificadas: <strong>'.concat(t.ausJ,'</strong></th>\n              <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(t.ausJ,"</strong></th>\n            </tr>\n          </thead>\n        </table>\n      "),a},valorNumericoDesdeLetra:function(t){var n=this.nuevaEscalaPreescolar.find((function(n){return n.letra===t}));return(null===n||void 0===n?void 0:n.umbral)||null},conceptoDesdeValor:function(t){for(var n=0;n<this.nuevaEscalaPreescolar.length;n++){var i=this.nuevaEscalaPreescolar[n],e=this.nuevaEscalaPreescolar[n+1];if(!e||t<e.umbral)return{id_concepto_valorativo:n+1,letra:i.letra,texto:i.desempeno}}return null},letraDesdeValor:function(t){var n=this.conceptoDesdeValor(t);return(null===n||void 0===n?void 0:n.letra)||""},datosDesempenoPorLetra:function(t){var n,i=["游","游뗵","游땕","游땏"],e=this.nuevaEscalaPreescolar.findIndex((function(n){return n.letra===t}));if(-1===e)return{emoji:"",texto:"",color:"#aaa"};var o=this.nuevaEscalaPreescolar[e];return{emoji:i[e],texto:o.desempeno||"Sin descripci칩n",color:(null===(n=this.colorPorIndice)||void 0===n?void 0:n[e])||"#555"}},descriptorDesdeLetraFlexible:function(t,n,i,e){var o,a,r,s,l=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r?void 0:r[i];if(!l||!d)return"";if("S"===d.pd)return d.inclusion||"";var u=(null===(s=d.periodos)||void 0===s?void 0:s[e])||"",c=this.valorNumericoDesdeLetra(u);if(null===c)return"";var v=this.conceptoDesdeValor(c);if(!v)return"";var h=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===l.idAsignaturaCurso&&t.id_concepto_valorativo===v.id_concepto_valorativo}));return(null===h||void 0===h?void 0:h.descriptor)||""},promedioAreaPorPeriodo:function(t,n,i){var e=this,o=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),a=0,r=0;return o.forEach((function(o){var s,l,d,u,c,v=o.asignatura,h=o.porcentaje,p=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d?void 0:d[v],f=(null===p||void 0===p||null===(u=p.periodos)||void 0===u?void 0:u[i])||"",m=null===(c=e.escalaPreescolar)||void 0===c?void 0:c[f];void 0!==m&&(a+=m*(h/100),r+=h)})),r>0?this.redondear(a).toFixed(1):""},promedioAreaPorAsignaturas:function(t,n){var i=this,e=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),o=0,a=0;return e.forEach((function(e){var r,s,l,d=e.asignatura,u=e.porcentaje,c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[d];if(c){var v=Object.values(c.periodos||{}),h=v.map((function(t){var n;return null===(n=i.escalaPreescolar)||void 0===n?void 0:n[t]})).filter((function(t){return void 0!==t}));if(h.length>0){var p=h.reduce((function(t,n){return t+n}),0)/h.length;o+=p*(u/100),a+=u}}})),a>0?o.toFixed(2):""},promedioAsignaturaPreescolar:function(t){var n=this,i=Object.values(t.periodos||{}),e=i.map((function(t){return n.valorNumericoDesdeLetra(t)})).filter((function(t){return null!==t}));if(!e.length)return"";var o=e.reduce((function(t,n){return t+n}),0)/e.length;return o.toFixed(2)},notaFinalAreaPreescolar:function(t,n){var i=this,e=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),o=0,a=0;return e.forEach((function(e){var r,s,l,d,u=e.asignatura,c=e.porcentaje,v=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[u];if(v){var h=(null===(d=v.periodos)||void 0===d?void 0:d[i.periodoActual])||"",p=i.valorNumericoDesdeLetra(h);null!==p&&(o+=p*(c/100),a+=c)}})),a>0?o.toFixed(2):""},promedioGeneralPreescolar:function(t){var n=this,i=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))),e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalAreaPreescolar(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(2):""},puestoEstudiantePreescolar:function(t){for(var n=this,i=Object.entries(this.estudiantesNotas).map((function(t){var i=Object(v["a"])(t,2),e=i[0],o=i[1];return{nombre:e,promedio:parseFloat(n.promedioGeneralPreescolar(o))}})).sort((function(t,n){return n.promedio-t.promedio})),e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:i[o].puesto=e,e++;var a=i.find((function(n){return n.nombre===t}));return(null===a||void 0===a?void 0:a.puesto)||""},getEmojiPromedio:function(t){return t<3.5?"游":t<4?"游뗵":t<4.6?"游땕":"游땏"},nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i];return!(!r||!r.periodos)},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},desempeno:function(t,n,i){var e=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),o=(null===e||void 0===e?void 0:e.idTipoEspecialidad)||1,a=parseFloat(t);if(isNaN(a))return"";var r=2===o?this.umbralesT[0]:this.umbralesA[0],s=2===o?this.umbralesT[1]:this.umbralesA[1],l=2===o?this.umbralesT[2]:this.umbralesA[2],d=2===o?this.umbralesT[3]:this.umbralesA[3];return a<r?"Bajo":a<s?"B치sico":a<l?"Alto":a<=d?"Superior":""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},calcularPromedioGeneralPorAreasFinales:function(t){var n=this,i="";i=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalArea(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(3):"0.000"},generarRankingCurso:function(){var t=this,n=[];Object.entries(this.estudiantesNotas).forEach((function(i){var e=Object(v["a"])(i,2),o=e[0],a=e[1],r=parseFloat(t.calcularPromedioGeneralPorAreasFinales(a));isNaN(r)||n.push({nombre:o,promedio:r})})),n.sort((function(t,n){return n.promedio-t.promedio}));for(var i=1,e=0;e<n.length;e++)e>0&&n[e].promedio===n[e-1].promedio?n[e].puesto=n[e-1].puesto:n[e].puesto=i,i++;return n},puestoEstudiante:function(t){var n=this.generarRankingCurso(),i=n.find((function(n){return n.nombre===t}));return(null===i||void 0===i?void 0:i.puesto)||""},ausencias:function(t,n,i,e){var o,a,r,s;return(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||""},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+a.ausencias(t,n,o,i)}),"")},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,p=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c||null===(v=c.definitivas)||void 0===v?void 0:v[e];return 99==h&&0==this.tipoValComp?p:"number"===typeof p&&p>0?p.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=this,c=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.orden,v=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d?void 0:d[i];if(!v)return"";var h=0,p=0,f=["J","B","A","S"];if(99==c&&0==this.tipoValComp){var m=function(t){var n=v.periodos[t],i=f.findIndex((function(t){return t===n}));h+=u.umbralesA[i],p++};for(var b in v.periodos)m(b);var g=p>0?this.redondear(h/p).toFixed(1):0;return g<=this.umbralesA[0]?f[0]:g<=this.umbralesA[1]?f[1]:g<=this.umbralesA[2]?f[2]:g<=this.umbralesA[3]?f[3]:g}for(var A in v.periodos){var x=v.periodos[A];"number"===typeof x&&(h+=x,p++)}return p>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodoComportamiento:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!p.length)return"";var f=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[p])||void 0===l?void 0:l.orden;if(99==f&&0==this.tipoValComp)return(null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[p])||void 0===v||null===(h=v.periodos)||void 0===h?void 0:h[i])||"";var m=p.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return m>0?this.redondear(m).toFixed(1):""},intensidadHorariaAsignatura:function(t,n){var i=this.listaAreasAsignaturas.find((function(i){return i.area===t&&i.asignatura===n}));return(null===i||void 0===i?void 0:i.intensidadHoraria)||0},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(t,i){return t+o.intensidadHorariaAsignatura(n,i)}),0)},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=(i.definitiva,i.recuperacion,i.definitivacompor),d=i.definitivapree,u=i.fechaR,c=i.inclusion,v=i.observaciones,h=i.pd,p=i.ausJ,f=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var m=n[e];if(m.areas[a]||(m.areas[a]={asignaturas:{}}),!m.areas[a].asignaturas[r]){var b=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));m.areas[a].asignaturas[r]={intensidadHoraria:(null===b||void 0===b?void 0:b.ih)||0,orden:(null===b||void 0===b?void 0:b.orden)||0,porcentaje:(null===b||void 0===b?void 0:b.porcentaje)||100,docente:(null===b||void 0===b?void 0:b.docente)||"",periodos:{},definitivas:{},recuperaciones:{},definitiva:null,recuperacion:null,definitivacompor:null,definitivapree:null,fechaR:null,inclusion:null,observaciones:null,pd:null,ausJ:0,ausS:0}}var g=m.areas[a].asignaturas[r];99==g.orden&&0==t.tipoValComp?(g.periodos[s]=l,g.definitivas[s]=l,g.recuperaciones[s]="",g.definitiva=l,g.recuperacion="",g.fechaR=u,g.inclusion=c,g.observaciones=v,g.pd=h):(g.periodos[s]=d,g.definitivas[s]=d,g.recuperaciones[s]="",g.definitiva=d,g.recuperacion="",g.fechaR=u,g.inclusion=c,g.observaciones=v,g.pd=h),g.ausJ+=p||0,g.ausS+=f||0,m.ausJ+=p||0,m.ausS+=f||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion}},ut=dt,ct=Object(m["a"])(ut,st,lt,!1,null,"e395aefa",null),vt=ct.exports,ht=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},pt=[],ft={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String},data:function(){return{escudo:null,asignatur:null,datosSeccion:{},orden:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>BOLETIN DE EVALUACIONES POR PERIODO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="6">Desempe침o en el Periodo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n                <th>EvP</th>\n                <th>Rec</th>\n                <th>Def</th>\n                <th>Desemp</th>\n                <th>AJ</th>\n                <th>AS</th>\n              </tr>\n            </thead>\n            <tbody>\n              ").concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:20%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        ");return i+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return e.map((function(t){var e=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),o=e.map((function(e){i.orden=e.orden;var o=e.asignatura;i.asignatur=o;var a=e.nombreAsignatura,r=98!==i.orden?e.ih:"",s=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,o,e):"","</td>")})).join(""),l=98!==i.orden?i.promedioAsignatura(n,t,o):"",d=98!==i.orden?i.definitivaPeriodo(n,t,o,i.periodoActual):"",u=98!==i.orden?i.recuperacion(n,t,o,i.periodoActual):"",c=98!==i.orden?i.notaFinal(n,t,o,i.periodoActual):"",v=98!==i.orden?i.desempeno(c,t,o):"",h=98!==i.orden?i.ausencias(n,t,o,"ausJ"):"",p=98!==i.orden?i.ausencias(n,t,o,"ausS"):"",f=null!=e.docente?e.docente:"";return'\n            <tr>\n              <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(f,"</i></td>\n              <td>").concat(r,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n              <td>").concat(p,'</td>\n            </tr>\n            <tr><td colspan="11" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual),"</td></tr>\n          ")})).join(""),a=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),r=98!==i.orden?i.promedioArea(n,t):"",s=98!==i.orden&&99!=i.orden?i.notaFinalArea(n,t):99===i.orden?i.definitivaPeriodo(n,t,i.asignatur,i.periodoActual):"",l=98!==i.orden?i.desempeno(s,t,i.asignatur):"",d=98!==i.orden?i.ausenciasArea(n,t,"ausJ"):"",u=98!==i.orden?i.ausenciasArea(n,t,"ausS"):"",c=98!==i.orden?i.intensidadHorariaArea(n,t):"";return'\n          <tr class="fila-area">\n            <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n            <td>").concat(c,"</td>\n            ").concat(a,"\n            <td>").concat(r,"</td>\n            <td></td><td></td>\n            <td>").concat(s,"</td>\n            <td>").concat(l,"</td>\n            <td>").concat(d,"</td>\n            <td>").concat(u,"</td>\n          </tr>\n          ").concat(o,"\n        ")})).join("")},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e){var o,a,r,s=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r?void 0:r[i],l=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!s||!l)return"";if("S"===s.pd)return s.inclusion||"";var d=parseFloat(this.notaFinal(t,n,i,e));if(isNaN(d))return"";var u=l.idTipoEspecialidad,c=2===u?this.umbralesT[0]:this.umbralesA[0],v=2===u?this.umbralesT[1]:this.umbralesA[1],h=2===u?this.umbralesT[2]:this.umbralesA[2],p=2===u?this.umbralesT[3]:this.umbralesA[3],f=null;f=d<c?1:d<v?2:d<h?3:d<=p?4:999;var m=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===l.idAsignaturaCurso&&t.id_concepto_valorativo===f}));return(null===m||void 0===m?void 0:m.descriptor)||""},desempeno:function(t,n,i){var e=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),o=(null===e||void 0===e?void 0:e.idTipoEspecialidad)||1,a=parseFloat(t);if(isNaN(a))return"";var r=2===o?this.umbralesT[0]:this.umbralesA[0],s=2===o?this.umbralesT[1]:this.umbralesA[1],l=2===o?this.umbralesT[2]:this.umbralesA[2],d=2===o?this.umbralesT[3]:this.umbralesA[3];return a<r?"Bajo":a<s?"B치sico":a<l?"Alto":a<=d?"Superior":""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},calcularPromedioGeneralPorAreasFinales:function(t){var n=this,i="";i=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalArea(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(3):"0.000"},generarRankingCurso:function(){var t=this,n=[];Object.entries(this.estudiantesNotas).forEach((function(i){var e=Object(v["a"])(i,2),o=e[0],a=e[1],r=parseFloat(t.calcularPromedioGeneralPorAreasFinales(a));isNaN(r)||n.push({nombre:o,promedio:r})})),n.sort((function(t,n){return n.promedio-t.promedio}));for(var i=1,e=0;e<n.length;e++)e>0&&n[e].promedio===n[e-1].promedio?n[e].puesto=n[e-1].puesto:n[e].puesto=i,i++;return n},puestoEstudiante:function(t){var n=this.generarRankingCurso(),i=n.find((function(n){return n.nombre===t}));return(null===i||void 0===i?void 0:i.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,p=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c||null===(v=c.definitivas)||void 0===v?void 0:v[e];return 99==h&&0==this.tipoValComp?p:"number"===typeof p&&p>0?p.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=this,c=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.orden,v=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d?void 0:d[i];if(!v)return"";var h=0,p=0;if(99==c&&0==this.tipoValComp){var f=function(t){var n=v.periodos[t],i=u.letrasCompor.findIndex((function(t){return t===n}));h+=u.umbralesA[i],p++};for(var m in v.periodos)f(m);var b=p>0?this.redondear(h/p).toFixed(1):0;return b<=this.umbralesA[0]?this.letrasCompor[0]:b<=this.umbralesA[1]?this.letrasCompor[1]:b<=this.umbralesA[2]?this.letrasCompor[2]:b<=this.umbralesA[3]?this.letrasCompor[3]:b}for(var g in v.periodos){var A=v.periodos[g];"number"===typeof A&&(h+=A,p++)}return p>0?this.redondear(h/p).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!p.length)return"";var f=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[p])||void 0===l?void 0:l.orden;if(99==f&&0==this.tipoValComp)return(null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[p])||void 0===v||null===(h=v.periodos)||void 0===h?void 0:h[i])||"";var m=p.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return m>0?this.redondear(m).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||""},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+a.ausencias(t,n,o,i)}),"")},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden;return 99==A&&0==this.tipoValComp?(null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c||null===(v=c.periodos)||void 0===v?void 0:v[e])||"":(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[i])||void 0===m||null===(b=m.periodos)||void 0===b||null===(g=b[e])||void 0===g?void 0:g.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return"ESTUDIANTE UBICADO/REUBICADO. | Acto Administrativo: "+(null===a||void 0===a?void 0:a.obs_final)+" | Fecha Registro: "+(null===a||void 0===a?void 0:a.fechaReubica)||!1},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.definitivacompor,c=i.fechaR,v=i.inclusion,h=i.observaciones,p=i.pd,f=i.ausJ,m=i.ausS,b=i.obs_final,g=i.fechaReubica;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var A=n[e];if(A.areas[a]||(A.areas[a]={asignaturas:{}}),!A.areas[a].asignaturas[r]){var x=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));A.areas[a].asignaturas[r]={intensidadHoraria:(null===x||void 0===x?void 0:x.ih)||0,orden:(null===x||void 0===x?void 0:x.orden)||0,porcentaje:(null===x||void 0===x?void 0:x.porcentaje)||100,docente:(null===x||void 0===x?void 0:x.docente)||"",periodos:{},definitivas:{},recuperaciones:{},definitiva:null,recuperacion:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,ausJ:0,ausS:0,obs_final:"",fechaReubica:""}}var _=A.areas[a].asignaturas[r];99==_.orden&&0==t.tipoValComp?(_.periodos[s]=u,_.definitivas[s]=u,_.recuperaciones[s]="",_.definitiva=u,_.recuperacion="",_.fechaR=c,_.inclusion=v,_.observaciones=h,_.pd=p,_.obsRetiro=obsRetiro,_.motivo=motivo,_.fechaRetiro=fechaRetiro):(_.periodos[s]=d>l?d:l,_.definitivas[s]=l,_.recuperaciones[s]=d,_.definitiva=l,_.recuperacion=d,_.fechaR=c,_.inclusion=v,_.observaciones=h,_.pd=p,_.obs_final=b,_.fechaReubica=g),_.ausJ+=f||0,_.ausS+=m||0,A.ausJ+=f||0,A.ausS+=m||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},mt=ft,bt=Object(m["a"])(mt,ht,pt,!1,null,"beba74f0",null),gt=bt.exports,At=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},xt=[],_t={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,escalaPreescolar:Object,nuevaEscalaPreescolar:Array,firmasBoletin:String},data:function(){return{escudo:null,asignatur:null}},methods:{generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n        </head>\n        <body>\n          ".concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>BOLETIN DE EVALUACIONES POR PERIODO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,"</th>\n              </tr>\n            </thead>\n          </table>\n          ").concat(this.generarHTMLBoletinPreescolar(n),'\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        ");return i+this.firmasBoletin},generarHTMLBoletinPreescolar:function(t){var n=this,i=this.periodosVisibles,e=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))),o=function(t){var i=n.listaAreasAsignaturas.find((function(n){return n.area===t}));return(null===i||void 0===i?void 0:i.nombreArea)||t},a='\n        <style>\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n          .fila-insuficiente { background-color: #fdecea; }\n          .fila-bueno        { background-color: #fff9db; }\n          .fila-aceptable    { background-color: #eaf4fc; }\n          .fila-sobresaliente{ background-color: #eafaf1; }\n          .resumen-final     { margin-top: 2rem; font-size: 15px; }\n        </style>\n        <table class="tabla-boletin">\n          <thead>\n            <tr>\n              <th rowspan="2">츼rea / Asignatura</th>\n              <th rowspan="2">IH</th>\n              <th colspan="'.concat(this.periodosVisibles.length+1,'">Historial</th>\n              <th colspan="4">Desempe침o en el Periodo</th>\n            </tr>\n            <tr>\n              ').concat(i.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n              <th>Prom</th>\n              <th>EvalPer</th>\n              <th>Desempe침o</th>\n              <th>AusJ</th>\n              <th>AusS</th>\n            </tr>\n          </thead>\n          <tbody>\n      ");return e.forEach((function(e){var r=n.listaAreasAsignaturas.filter((function(t){return t.area===e})),s=n.periodosVisibles.map((function(i){return"<td>".concat(99!==n.orden?n.letraDesdeValor(n.promedioAreaPorPeriodo(t,e,i)):n.promedioAreaPorPeriodoComportamiento(t,e,i),"</td>")})).join(""),l=n.datosDesempenoPorLetra(n.letraDesdeValor(n.promedioAreaPorPeriodo(t,e,n.periodoActual)));a+='\n          <tr class="fila-area">\n            <td style="text-align: left"><strong>'.concat(o(e),"</strong></td>\n            <td></td>\n            ").concat(s,"\n            <td>").concat(n.letraDesdeValor(n.promedioAreaPorAsignaturas(t,e)),"</td>\n            <td></td>\n            <td>").concat(l.texto," ").concat(l.emoji,"</td>\n            <td></td>\n            <td></td>\n          </tr>\n        "),r.forEach((function(o){var r,s,l,d,u=o.asignatura,c=o.ih,v=(o.orden,o.nombreAsignatura),h=o.docente,p=null===(r=t.areas)||void 0===r||null===(s=r[e])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[u];if(p){var f=n.letraDesdeValor(n.promedioAsignaturaPreescolar(p)),m=(null===(d=p.periodos)||void 0===d?void 0:d[n.periodoActual])||"",b=n.datosDesempenoPorLetra(m);a+='\n            <tr>\n              <td style="text-align: left"><strong>'.concat(v,'</strong> <br> <i style="font-size: 10px;">').concat(h,"</i></td>\n              <td>").concat(c,"</td>\n              ").concat(i.map((function(t){var n;return"<td>".concat((null===(n=p.periodos)||void 0===n?void 0:n[t])||"","</td>")})).join(""),"\n              <td>").concat(f,"</td>\n              <td>").concat(m,"</td>\n              <td>").concat(b.texto," </td>\n              <td>").concat(p.ausJ||0,"</td>\n              <td>").concat(p.ausS||0,"</td>\n            </tr>\n          "),a+='<tr><td colspan="9" class="descriptor" style="text-align: left">'.concat(n.descriptorDesdeLetraFlexible(t,e,u,n.periodoActual),"</td></tr>")}}))})),a+='\n          </tbody>\n        </table>\n        <table class="tabla-boletin">\n          <thead>\n            <tr>\n              <th style="width:20%; text-align: left">Aus.Justificadas: <strong>'.concat(t.ausJ,'</strong></th>\n              <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(t.ausJ,"</strong></th>\n            </tr>\n          </thead>\n        </table>\n      "),a},valorNumericoDesdeLetra:function(t){var n=this.nuevaEscalaPreescolar.find((function(n){return n.letra===t}));return(null===n||void 0===n?void 0:n.umbral)||null},conceptoDesdeValor:function(t){for(var n=0;n<this.nuevaEscalaPreescolar.length;n++){var i=this.nuevaEscalaPreescolar[n],e=this.nuevaEscalaPreescolar[n+1];if(!e||t<e.umbral)return{id_concepto_valorativo:n+1,letra:i.letra,texto:i.desempeno}}return null},letraDesdeValor:function(t){var n=this.conceptoDesdeValor(t);return(null===n||void 0===n?void 0:n.letra)||""},datosDesempenoPorLetra:function(t){var n,i=["游","游뗵","游땕","游땏"],e=this.nuevaEscalaPreescolar.findIndex((function(n){return n.letra===t}));if(-1===e)return{emoji:"",texto:"",color:"#aaa"};var o=this.nuevaEscalaPreescolar[e];return{emoji:i[e],texto:o.desempeno||"Sin descripci칩n",color:(null===(n=this.colorPorIndice)||void 0===n?void 0:n[e])||"#555"}},descriptorDesdeLetraFlexible:function(t,n,i,e){var o,a,r,s,l=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r?void 0:r[i];if(!l||!d)return"";if("S"===d.pd)return d.inclusion||"";var u=(null===(s=d.periodos)||void 0===s?void 0:s[e])||"",c=this.valorNumericoDesdeLetra(u);if(null===c)return"";var v=this.conceptoDesdeValor(c);if(!v)return"";var h=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===l.idAsignaturaCurso&&t.id_concepto_valorativo===v.id_concepto_valorativo}));return(null===h||void 0===h?void 0:h.descriptor)||""},promedioAreaPorPeriodo:function(t,n,i){var e=this,o=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),a=0,r=0;return o.forEach((function(o){var s,l,d,u,c,v=o.asignatura,h=o.porcentaje,p=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d?void 0:d[v],f=(null===p||void 0===p||null===(u=p.periodos)||void 0===u?void 0:u[i])||"",m=null===(c=e.escalaPreescolar)||void 0===c?void 0:c[f];void 0!==m&&(a+=m*(h/100),r+=h)})),r>0?this.redondear(a).toFixed(1):""},promedioAreaPorAsignaturas:function(t,n){var i=this,e=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),o=0,a=0;return e.forEach((function(e){var r,s,l,d=e.asignatura,u=e.porcentaje,c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[d];if(c){var v=Object.values(c.periodos||{}),h=v.map((function(t){var n;return null===(n=i.escalaPreescolar)||void 0===n?void 0:n[t]})).filter((function(t){return void 0!==t}));if(h.length>0){var p=h.reduce((function(t,n){return t+n}),0)/h.length;o+=p*(u/100),a+=u}}})),a>0?o.toFixed(2):""},promedioAsignaturaPreescolar:function(t){var n=this,i=Object.values(t.periodos||{}),e=i.map((function(t){return n.valorNumericoDesdeLetra(t)})).filter((function(t){return null!==t}));if(!e.length)return"";var o=e.reduce((function(t,n){return t+n}),0)/e.length;return o.toFixed(2)},notaFinalAreaPreescolar:function(t,n){var i=this,e=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),o=0,a=0;return e.forEach((function(e){var r,s,l,d,u=e.asignatura,c=e.porcentaje,v=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[u];if(v){var h=(null===(d=v.periodos)||void 0===d?void 0:d[i.periodoActual])||"",p=i.valorNumericoDesdeLetra(h);null!==p&&(o+=p*(c/100),a+=c)}})),a>0?o.toFixed(2):""},promedioGeneralPreescolar:function(t){var n=this,i=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))),e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalAreaPreescolar(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(2):""},puestoEstudiantePreescolar:function(t){for(var n=this,i=Object.entries(this.estudiantesNotas).map((function(t){var i=Object(v["a"])(t,2),e=i[0],o=i[1];return{nombre:e,promedio:parseFloat(n.promedioGeneralPreescolar(o))}})).sort((function(t,n){return n.promedio-t.promedio})),e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:i[o].puesto=e,e++;var a=i.find((function(n){return n.nombre===t}));return(null===a||void 0===a?void 0:a.puesto)||""},getEmojiPromedio:function(t){return t<3.5?"游":t<4?"游뗵":t<4.6?"游땕":"游땏"},nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i];return!(!r||!r.periodos)},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},desempeno:function(t,n,i){var e=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),o=(null===e||void 0===e?void 0:e.idTipoEspecialidad)||1,a=parseFloat(t);if(isNaN(a))return"";var r=2===o?this.umbralesT[0]:this.umbralesA[0],s=2===o?this.umbralesT[1]:this.umbralesA[1],l=2===o?this.umbralesT[2]:this.umbralesA[2],d=2===o?this.umbralesT[3]:this.umbralesA[3];return a<r?"Bajo":a<s?"B치sico":a<l?"Alto":a<=d?"Superior":""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},calcularPromedioGeneralPorAreasFinales:function(t){var n=this,i="";i=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalArea(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(3):"0.000"},generarRankingCurso:function(){var t=this,n=[];Object.entries(this.estudiantesNotas).forEach((function(i){var e=Object(v["a"])(i,2),o=e[0],a=e[1],r=parseFloat(t.calcularPromedioGeneralPorAreasFinales(a));isNaN(r)||n.push({nombre:o,promedio:r})})),n.sort((function(t,n){return n.promedio-t.promedio}));for(var i=1,e=0;e<n.length;e++)e>0&&n[e].promedio===n[e-1].promedio?n[e].puesto=n[e-1].puesto:n[e].puesto=i,i++;return n},puestoEstudiante:function(t){var n=this.generarRankingCurso(),i=n.find((function(n){return n.nombre===t}));return(null===i||void 0===i?void 0:i.puesto)||""},ausencias:function(t,n,i,e){var o,a,r,s;return(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||""},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+a.ausencias(t,n,o,i)}),"")},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,p=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c||null===(v=c.definitivas)||void 0===v?void 0:v[e];return 99==h&&0==this.tipoValComp?p:"number"===typeof p&&p>0?p.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=this,c=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.orden,v=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d?void 0:d[i];if(!v)return"";var h=0,p=0,f=["J","B","A","S"];if(99==c&&0==this.tipoValComp){var m=function(t){var n=v.periodos[t],i=f.findIndex((function(t){return t===n}));h+=u.umbralesA[i],p++};for(var b in v.periodos)m(b);var g=p>0?this.redondear(h/p).toFixed(1):0;return g<=this.umbralesA[0]?f[0]:g<=this.umbralesA[1]?f[1]:g<=this.umbralesA[2]?f[2]:g<=this.umbralesA[3]?f[3]:g}for(var A in v.periodos){var x=v.periodos[A];"number"===typeof x&&(h+=x,p++)}return p>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodoComportamiento:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!p.length)return"";var f=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[p])||void 0===l?void 0:l.orden;if(99==f&&0==this.tipoValComp)return(null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[p])||void 0===v||null===(h=v.periodos)||void 0===h?void 0:h[i])||"";var m=p.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return m>0?this.redondear(m).toFixed(1):""},intensidadHorariaAsignatura:function(t,n){var i=this.listaAreasAsignaturas.find((function(i){return i.area===t&&i.asignatura===n}));return(null===i||void 0===i?void 0:i.intensidadHoraria)||0},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(t,i){return t+o.intensidadHorariaAsignatura(n,i)}),0)},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=(i.definitiva,i.recuperacion,i.definitivacompor),d=i.definitivapree,u=i.fechaR,c=i.inclusion,v=i.observaciones,h=i.pd,p=i.ausJ,f=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var m=n[e];if(m.areas[a]||(m.areas[a]={asignaturas:{}}),!m.areas[a].asignaturas[r]){var b=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));m.areas[a].asignaturas[r]={intensidadHoraria:(null===b||void 0===b?void 0:b.ih)||0,orden:(null===b||void 0===b?void 0:b.orden)||0,porcentaje:(null===b||void 0===b?void 0:b.porcentaje)||100,docente:(null===b||void 0===b?void 0:b.docente)||"",periodos:{},definitivas:{},recuperaciones:{},definitiva:null,recuperacion:null,definitivacompor:null,definitivapree:null,fechaR:null,inclusion:null,observaciones:null,pd:null,ausJ:0,ausS:0}}var g=m.areas[a].asignaturas[r];99==g.orden&&0==t.tipoValComp?(g.periodos[s]=l,g.definitivas[s]=l,g.recuperaciones[s]="",g.definitiva=l,g.recuperacion="",g.fechaR=u,g.inclusion=c,g.observaciones=v,g.pd=h):(g.periodos[s]=d,g.definitivas[s]=d,g.recuperaciones[s]="",g.definitiva=d,g.recuperacion="",g.fechaR=u,g.inclusion=c,g.observaciones=v,g.pd=h),g.ausJ+=p||0,g.ausS+=f||0,m.ausJ+=p||0,m.ausS+=f||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion}},Ct=_t,St=Object(m["a"])(Ct,At,xt,!1,null,"1de50f4b",null),yt=St.exports,Ft=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF - Promocionados")])])},Pt=[],Nt={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String},data:function(){return{escudo:null,asignatur:null,datosSeccion:{},orden:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>BOLETIN DE EVALUACIONES POR PERIODO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="6">Desempe침o en el Periodo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n                <th>EvP</th>\n                <th>Rec</th>\n                <th>Def</th>\n                <th>Desemp</th>\n                <th>AJ</th>\n                <th>AS</th>\n              </tr>\n            </thead>\n            <tbody>\n              ").concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:20%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        ");return i+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return e.map((function(t){var e=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),o=e.map((function(e){i.orden=e.orden;var o=e.asignatura;i.asignatur=o;var a=e.nombreAsignatura,r=98!==i.orden?e.ih:"",s=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,o,e):"","</td>")})).join(""),l=98!==i.orden?i.promedioAsignatura(n,t,o):"",d=98!==i.orden?i.definitivaPeriodo(n,t,o,i.periodoActual):"",u=98!==i.orden?i.recuperacion(n,t,o,i.periodoActual):"",c=98!==i.orden?i.notaFinal(n,t,o,i.periodoActual):"",v=98!==i.orden?i.desempeno(c,t,o):"",h=98!==i.orden?i.ausencias(n,t,o,"ausJ"):"",p=98!==i.orden?i.ausencias(n,t,o,"ausS"):"",f=null!=e.docente?e.docente:"";return'\n            <tr>\n              <td style="text-align: left"><strong>'.concat(a,'</strong> <br> <i style="font-size: 10px;">').concat(f,"</i></td>\n              <td>").concat(r,"</td>\n              ").concat(s,"\n              <td>").concat(l,"</td>\n              <td>").concat(d,"</td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n              <td>").concat(p,'</td>\n            </tr>\n            <tr><td colspan="11" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,o,i.periodoActual),"</td></tr>\n          ")})).join(""),a=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),r=98!==i.orden?i.promedioArea(n,t):"",s=98!==i.orden&&99!=i.orden?i.notaFinalArea(n,t):99===i.orden?i.definitivaPeriodo(n,t,i.asignatur,i.periodoActual):"",l=98!==i.orden?i.desempeno(s,t,i.asignatur):"",d=98!==i.orden?i.ausenciasArea(n,t,"ausJ"):"",u=98!==i.orden?i.ausenciasArea(n,t,"ausS"):"",c=98!==i.orden?i.intensidadHorariaArea(n,t):"";return'\n          <tr class="fila-area">\n            <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n            <td>").concat(c,"</td>\n            ").concat(a,"\n            <td>").concat(r,"</td>\n            <td></td><td></td>\n            <td>").concat(s,"</td>\n            <td>").concat(l,"</td>\n            <td>").concat(d,"</td>\n            <td>").concat(u,"</td>\n          </tr>\n          ").concat(o,"\n        ")})).join("")},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e){var o,a,r,s=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r?void 0:r[i],l=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!s||!l)return"";if("S"===s.pd)return s.inclusion||"";var d=parseFloat(this.notaFinal(t,n,i,e));if(isNaN(d))return"";var u=l.idTipoEspecialidad,c=2===u?this.umbralesT[0]:this.umbralesA[0],v=2===u?this.umbralesT[1]:this.umbralesA[1],h=2===u?this.umbralesT[2]:this.umbralesA[2],p=2===u?this.umbralesT[3]:this.umbralesA[3],f=null;f=d<c?1:d<v?2:d<h?3:d<=p?4:999;var m=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===l.idAsignaturaCurso&&t.id_concepto_valorativo===f}));return(null===m||void 0===m?void 0:m.descriptor)||""},desempeno:function(t,n,i){var e=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),o=(null===e||void 0===e?void 0:e.idTipoEspecialidad)||1,a=parseFloat(t);if(isNaN(a))return"";var r=2===o?this.umbralesT[0]:this.umbralesA[0],s=2===o?this.umbralesT[1]:this.umbralesA[1],l=2===o?this.umbralesT[2]:this.umbralesA[2],d=2===o?this.umbralesT[3]:this.umbralesA[3];return a<r?"Bajo":a<s?"B치sico":a<l?"Alto":a<=d?"Superior":""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},calcularPromedioGeneralPorAreasFinales:function(t){var n=this,i="";i=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalArea(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(3):"0.000"},generarRankingCurso:function(){var t=this,n=[];Object.entries(this.estudiantesNotas).forEach((function(i){var e=Object(v["a"])(i,2),o=e[0],a=e[1],r=parseFloat(t.calcularPromedioGeneralPorAreasFinales(a));isNaN(r)||n.push({nombre:o,promedio:r})})),n.sort((function(t,n){return n.promedio-t.promedio}));for(var i=1,e=0;e<n.length;e++)e>0&&n[e].promedio===n[e-1].promedio?n[e].puesto=n[e-1].puesto:n[e].puesto=i,i++;return n},puestoEstudiante:function(t){var n=this.generarRankingCurso(),i=n.find((function(n){return n.nombre===t}));return(null===i||void 0===i?void 0:i.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,p=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c||null===(v=c.definitivas)||void 0===v?void 0:v[e];return 99==h&&0==this.tipoValComp?p:"number"===typeof p&&p>0?p.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=this,c=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.orden,v=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d?void 0:d[i];if(!v)return"";var h=0,p=0;if(99==c&&0==this.tipoValComp){var f=function(t){var n=v.periodos[t],i=u.letrasCompor.findIndex((function(t){return t===n}));h+=u.umbralesA[i],p++};for(var m in v.periodos)f(m);var b=p>0?this.redondear(h/p).toFixed(1):0;return b<=this.umbralesA[0]?this.letrasCompor[0]:b<=this.umbralesA[1]?this.letrasCompor[1]:b<=this.umbralesA[2]?this.letrasCompor[2]:b<=this.umbralesA[3]?this.letrasCompor[3]:b}for(var g in v.periodos){var A=v.periodos[g];"number"===typeof A&&(h+=A,p++)}return p>0?this.redondear(h/p).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!p.length)return"";var f=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[p])||void 0===l?void 0:l.orden;if(99==f&&0==this.tipoValComp)return(null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[p])||void 0===v||null===(h=v.periodos)||void 0===h?void 0:h[i])||"";var m=p.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return m>0?this.redondear(m).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||""},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+a.ausencias(t,n,o,i)}),"")},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden;return 99==A&&0==this.tipoValComp?(null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c||null===(v=c.periodos)||void 0===v?void 0:v[e])||"":(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[i])||void 0===m||null===(b=m.periodos)||void 0===b||null===(g=b[e])||void 0===g?void 0:g.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return"ESTUDIANTE PROMOCIONADO ANTICIPADAMENTE. | Acto Administrativo: "+(null===a||void 0===a?void 0:a.obs_final)||!1},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.definitivacompor,c=i.fechaR,v=i.inclusion,h=i.observaciones,p=i.pd,f=i.ausJ,m=i.ausS,b=i.obs_final,g=i.fechaPromo,A=i.obsRetiro,x=i.motivo,_=i.fechaRetiro;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var C=n[e];if(C.areas[a]||(C.areas[a]={asignaturas:{}}),!C.areas[a].asignaturas[r]){var S=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));C.areas[a].asignaturas[r]={intensidadHoraria:(null===S||void 0===S?void 0:S.ih)||0,orden:(null===S||void 0===S?void 0:S.orden)||0,porcentaje:(null===S||void 0===S?void 0:S.porcentaje)||100,docente:(null===S||void 0===S?void 0:S.docente)||"",periodos:{},definitivas:{},recuperaciones:{},definitiva:null,recuperacion:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,ausJ:0,ausS:0,obs_final:"",fechaPromo:""}}var y=C.areas[a].asignaturas[r];99==y.orden&&0==t.tipoValComp?(y.periodos[s]=u,y.definitivas[s]=u,y.recuperaciones[s]="",y.definitiva=u,y.recuperacion="",y.fechaR=c,y.inclusion=v,y.observaciones=h,y.pd=p,y.obsRetiro=A,y.motivo=x,y.fechaRetiro=_):(y.periodos[s]=d>l?d:l,y.definitivas[s]=l,y.recuperaciones[s]=d,y.definitiva=l,y.recuperacion=d,y.fechaR=c,y.inclusion=v,y.observaciones=h,y.pd=p,y.obs_final=b,y.fechaPromo=g),y.ausJ+=f||0,y.ausS+=m||0,C.ausJ+=f||0,C.ausS+=m||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},Et=Nt,Dt=Object(m["a"])(Et,Ft,Pt,!1,null,"34cf500e",null),Bt=Dt.exports,jt=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},It=[],Ot={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,escalaPreescolar:Object,nuevaEscalaPreescolar:Array,firmasBoletin:String},data:function(){return{escudo:null,asignatur:null}},methods:{generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n        </head>\n        <body>\n          ".concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>BOLETIN DE EVALUACIONES POR PERIODO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,"</th>\n              </tr>\n            </thead>\n          </table>\n          ").concat(this.generarHTMLBoletinPreescolar(n),'\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        ");return i+this.firmasBoletin},generarHTMLBoletinPreescolar:function(t){var n=this,i=this.periodosVisibles,e=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))),o=function(t){var i=n.listaAreasAsignaturas.find((function(n){return n.area===t}));return(null===i||void 0===i?void 0:i.nombreArea)||t},a='\n        <style>\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n          .fila-insuficiente { background-color: #fdecea; }\n          .fila-bueno        { background-color: #fff9db; }\n          .fila-aceptable    { background-color: #eaf4fc; }\n          .fila-sobresaliente{ background-color: #eafaf1; }\n          .resumen-final     { margin-top: 2rem; font-size: 15px; }\n        </style>\n        <table class="tabla-boletin">\n          <thead>\n            <tr>\n              <th rowspan="2">츼rea / Asignatura</th>\n              <th rowspan="2">IH</th>\n              <th colspan="'.concat(this.periodosVisibles.length+1,'">Historial</th>\n              <th colspan="4">Desempe침o en el Periodo</th>\n            </tr>\n            <tr>\n              ').concat(i.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n              <th>Prom</th>\n              <th>EvalPer</th>\n              <th>Desempe침o</th>\n              <th>AusJ</th>\n              <th>AusS</th>\n            </tr>\n          </thead>\n          <tbody>\n      ");return e.forEach((function(e){var r=n.listaAreasAsignaturas.filter((function(t){return t.area===e})),s=n.periodosVisibles.map((function(i){return"<td>".concat(99!==n.orden?n.letraDesdeValor(n.promedioAreaPorPeriodo(t,e,i)):n.promedioAreaPorPeriodoComportamiento(t,e,i),"</td>")})).join(""),l=n.datosDesempenoPorLetra(n.letraDesdeValor(n.promedioAreaPorPeriodo(t,e,n.periodoActual)));a+='\n          <tr class="fila-area">\n            <td style="text-align: left"><strong>'.concat(o(e),"</strong></td>\n            <td></td>\n            ").concat(s,"\n            <td>").concat(n.letraDesdeValor(n.promedioAreaPorAsignaturas(t,e)),"</td>\n            <td></td>\n            <td>").concat(l.texto," ").concat(l.emoji,"</td>\n            <td></td>\n            <td></td>\n          </tr>\n        "),r.forEach((function(o){var r,s,l,d,u=o.asignatura,c=o.ih,v=(o.orden,o.nombreAsignatura),h=o.docente,p=null===(r=t.areas)||void 0===r||null===(s=r[e])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[u];if(p){var f=n.letraDesdeValor(n.promedioAsignaturaPreescolar(p)),m=(null===(d=p.periodos)||void 0===d?void 0:d[n.periodoActual])||"",b=n.datosDesempenoPorLetra(m);a+='\n            <tr>\n              <td style="text-align: left"><strong>'.concat(v,'</strong> <br> <i style="font-size: 10px;">').concat(h,"</i></td>\n              <td>").concat(c,"</td>\n              ").concat(i.map((function(t){var n;return"<td>".concat((null===(n=p.periodos)||void 0===n?void 0:n[t])||"","</td>")})).join(""),"\n              <td>").concat(f,"</td>\n              <td>").concat(m,"</td>\n              <td>").concat(b.texto," </td>\n              <td>").concat(p.ausJ||0,"</td>\n              <td>").concat(p.ausS||0,"</td>\n            </tr>\n          "),a+='<tr><td colspan="9" class="descriptor" style="text-align: left">'.concat(n.descriptorDesdeLetraFlexible(t,e,u,n.periodoActual),"</td></tr>")}}))})),a+='\n          </tbody>\n        </table>\n        <table class="tabla-boletin">\n          <thead>\n            <tr>\n              <th style="width:20%; text-align: left">Aus.Justificadas: <strong>'.concat(t.ausJ,'</strong></th>\n              <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(t.ausJ,"</strong></th>\n            </tr>\n          </thead>\n        </table>\n      "),a},valorNumericoDesdeLetra:function(t){var n=this.nuevaEscalaPreescolar.find((function(n){return n.letra===t}));return(null===n||void 0===n?void 0:n.umbral)||null},conceptoDesdeValor:function(t){for(var n=0;n<this.nuevaEscalaPreescolar.length;n++){var i=this.nuevaEscalaPreescolar[n],e=this.nuevaEscalaPreescolar[n+1];if(!e||t<e.umbral)return{id_concepto_valorativo:n+1,letra:i.letra,texto:i.desempeno}}return null},letraDesdeValor:function(t){var n=this.conceptoDesdeValor(t);return(null===n||void 0===n?void 0:n.letra)||""},datosDesempenoPorLetra:function(t){var n,i=["游","游뗵","游땕","游땏"],e=this.nuevaEscalaPreescolar.findIndex((function(n){return n.letra===t}));if(-1===e)return{emoji:"",texto:"",color:"#aaa"};var o=this.nuevaEscalaPreescolar[e];return{emoji:i[e],texto:o.desempeno||"Sin descripci칩n",color:(null===(n=this.colorPorIndice)||void 0===n?void 0:n[e])||"#555"}},descriptorDesdeLetraFlexible:function(t,n,i,e){var o,a,r,s,l=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r?void 0:r[i];if(!l||!d)return"";if("S"===d.pd)return d.inclusion||"";var u=(null===(s=d.periodos)||void 0===s?void 0:s[e])||"",c=this.valorNumericoDesdeLetra(u);if(null===c)return"";var v=this.conceptoDesdeValor(c);if(!v)return"";var h=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===l.idAsignaturaCurso&&t.id_concepto_valorativo===v.id_concepto_valorativo}));return(null===h||void 0===h?void 0:h.descriptor)||""},promedioAreaPorPeriodo:function(t,n,i){var e=this,o=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),a=0,r=0;return o.forEach((function(o){var s,l,d,u,c,v=o.asignatura,h=o.porcentaje,p=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d?void 0:d[v],f=(null===p||void 0===p||null===(u=p.periodos)||void 0===u?void 0:u[i])||"",m=null===(c=e.escalaPreescolar)||void 0===c?void 0:c[f];void 0!==m&&(a+=m*(h/100),r+=h)})),r>0?this.redondear(a).toFixed(1):""},promedioAreaPorAsignaturas:function(t,n){var i=this,e=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),o=0,a=0;return e.forEach((function(e){var r,s,l,d=e.asignatura,u=e.porcentaje,c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[d];if(c){var v=Object.values(c.periodos||{}),h=v.map((function(t){var n;return null===(n=i.escalaPreescolar)||void 0===n?void 0:n[t]})).filter((function(t){return void 0!==t}));if(h.length>0){var p=h.reduce((function(t,n){return t+n}),0)/h.length;o+=p*(u/100),a+=u}}})),a>0?o.toFixed(2):""},promedioAsignaturaPreescolar:function(t){var n=this,i=Object.values(t.periodos||{}),e=i.map((function(t){return n.valorNumericoDesdeLetra(t)})).filter((function(t){return null!==t}));if(!e.length)return"";var o=e.reduce((function(t,n){return t+n}),0)/e.length;return o.toFixed(2)},notaFinalAreaPreescolar:function(t,n){var i=this,e=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),o=0,a=0;return e.forEach((function(e){var r,s,l,d,u=e.asignatura,c=e.porcentaje,v=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[u];if(v){var h=(null===(d=v.periodos)||void 0===d?void 0:d[i.periodoActual])||"",p=i.valorNumericoDesdeLetra(h);null!==p&&(o+=p*(c/100),a+=c)}})),a>0?o.toFixed(2):""},promedioGeneralPreescolar:function(t){var n=this,i=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))),e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalAreaPreescolar(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(2):""},puestoEstudiantePreescolar:function(t){for(var n=this,i=Object.entries(this.estudiantesNotas).map((function(t){var i=Object(v["a"])(t,2),e=i[0],o=i[1];return{nombre:e,promedio:parseFloat(n.promedioGeneralPreescolar(o))}})).sort((function(t,n){return n.promedio-t.promedio})),e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:i[o].puesto=e,e++;var a=i.find((function(n){return n.nombre===t}));return(null===a||void 0===a?void 0:a.puesto)||""},getEmojiPromedio:function(t){return t<3.5?"游":t<4?"游뗵":t<4.6?"游땕":"游땏"},nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i];return!(!r||!r.periodos)},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},desempeno:function(t,n,i){var e=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),o=(null===e||void 0===e?void 0:e.idTipoEspecialidad)||1,a=parseFloat(t);if(isNaN(a))return"";var r=2===o?this.umbralesT[0]:this.umbralesA[0],s=2===o?this.umbralesT[1]:this.umbralesA[1],l=2===o?this.umbralesT[2]:this.umbralesA[2],d=2===o?this.umbralesT[3]:this.umbralesA[3];return a<r?"Bajo":a<s?"B치sico":a<l?"Alto":a<=d?"Superior":""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},calcularPromedioGeneralPorAreasFinales:function(t){var n=this,i="";i=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalArea(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(3):"0.000"},generarRankingCurso:function(){var t=this,n=[];Object.entries(this.estudiantesNotas).forEach((function(i){var e=Object(v["a"])(i,2),o=e[0],a=e[1],r=parseFloat(t.calcularPromedioGeneralPorAreasFinales(a));isNaN(r)||n.push({nombre:o,promedio:r})})),n.sort((function(t,n){return n.promedio-t.promedio}));for(var i=1,e=0;e<n.length;e++)e>0&&n[e].promedio===n[e-1].promedio?n[e].puesto=n[e-1].puesto:n[e].puesto=i,i++;return n},puestoEstudiante:function(t){var n=this.generarRankingCurso(),i=n.find((function(n){return n.nombre===t}));return(null===i||void 0===i?void 0:i.puesto)||""},ausencias:function(t,n,i,e){var o,a,r,s;return(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||""},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+a.ausencias(t,n,o,i)}),"")},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,p=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c||null===(v=c.definitivas)||void 0===v?void 0:v[e];return 99==h&&0==this.tipoValComp?p:"number"===typeof p&&p>0?p.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=this,c=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.orden,v=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d?void 0:d[i];if(!v)return"";var h=0,p=0,f=["J","B","A","S"];if(99==c&&0==this.tipoValComp){var m=function(t){var n=v.periodos[t],i=f.findIndex((function(t){return t===n}));h+=u.umbralesA[i],p++};for(var b in v.periodos)m(b);var g=p>0?this.redondear(h/p).toFixed(1):0;return g<=this.umbralesA[0]?f[0]:g<=this.umbralesA[1]?f[1]:g<=this.umbralesA[2]?f[2]:g<=this.umbralesA[3]?f[3]:g}for(var A in v.periodos){var x=v.periodos[A];"number"===typeof x&&(h+=x,p++)}return p>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodoComportamiento:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!p.length)return"";var f=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[p])||void 0===l?void 0:l.orden;if(99==f&&0==this.tipoValComp)return(null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[p])||void 0===v||null===(h=v.periodos)||void 0===h?void 0:h[i])||"";var m=p.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return m>0?this.redondear(m).toFixed(1):""},intensidadHorariaAsignatura:function(t,n){var i=this.listaAreasAsignaturas.find((function(i){return i.area===t&&i.asignatura===n}));return(null===i||void 0===i?void 0:i.intensidadHoraria)||0},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(t,i){return t+o.intensidadHorariaAsignatura(n,i)}),0)},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=(i.definitiva,i.recuperacion,i.definitivacompor),d=i.definitivapree,u=i.fechaR,c=i.inclusion,v=i.observaciones,h=i.pd,p=i.ausJ,f=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var m=n[e];if(m.areas[a]||(m.areas[a]={asignaturas:{}}),!m.areas[a].asignaturas[r]){var b=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));m.areas[a].asignaturas[r]={intensidadHoraria:(null===b||void 0===b?void 0:b.ih)||0,orden:(null===b||void 0===b?void 0:b.orden)||0,porcentaje:(null===b||void 0===b?void 0:b.porcentaje)||100,docente:(null===b||void 0===b?void 0:b.docente)||"",periodos:{},definitivas:{},recuperaciones:{},definitiva:null,recuperacion:null,definitivacompor:null,definitivapree:null,fechaR:null,inclusion:null,observaciones:null,pd:null,ausJ:0,ausS:0}}var g=m.areas[a].asignaturas[r];99==g.orden&&0==t.tipoValComp?(g.periodos[s]=l,g.definitivas[s]=l,g.recuperaciones[s]="",g.definitiva=l,g.recuperacion="",g.fechaR=u,g.inclusion=c,g.observaciones=v,g.pd=h):(g.periodos[s]=d,g.definitivas[s]=d,g.recuperaciones[s]="",g.definitiva=d,g.recuperacion="",g.fechaR=u,g.inclusion=c,g.observaciones=v,g.pd=h),g.ausJ+=p||0,g.ausS+=f||0,m.ausJ+=p||0,m.ausS+=f||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion}},Tt=Ot,Vt=Object(m["a"])(Tt,jt,It,!1,null,"48acbfcd",null),wt=Vt.exports,Rt=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},Jt=[],kt={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,escalaPreescolar:Object,nuevaEscalaPreescolar:Array,firmasBoletin:String},data:function(){return{escudo:null,asignatur:null,orden:null}},methods:{generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n        </head>\n        <body>\n          ".concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>INFORME VALORATIVO DEFINITIVO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,"</th>\n              </tr>\n            </thead>\n          </table>\n          ").concat(this.generarHTMLBoletinPreescolar(n),'\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        ");return i+this.firmasBoletin},generarHTMLBoletinPreescolar:function(t){var n=this,i=this.periodosVisibles,e=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))),o=function(t){var i=n.listaAreasAsignaturas.find((function(n){return n.area===t}));return(null===i||void 0===i?void 0:i.nombreArea)||t},a='\n        <style>\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n          .fila-insuficiente { background-color: #fdecea; }\n          .fila-bueno        { background-color: #fff9db; }\n          .fila-aceptable    { background-color: #eaf4fc; }\n          .fila-sobresaliente{ background-color: #eafaf1; }\n          .resumen-final     { margin-top: 2rem; font-size: 15px; }\n        </style>\n        <table class="tabla-boletin">\n          <thead>\n            <tr>\n              <th rowspan="2">츼rea / Asignatura</th>\n              <th rowspan="2">IH</th>\n              <th colspan="'.concat(this.periodosVisibles.length+1,'">Historial</th>\n              <th colspan="4">Desempe침o Definitivo</th>\n            </tr>\n            <tr>\n              ').concat(i.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n              <th>Definitiva</th>\n              <th>Desempe침o</th>\n              <th>AusJ</th>\n              <th>AusS</th>\n            </tr>\n          </thead>\n          <tbody>\n      ");return e.forEach((function(e){var r=n.listaAreasAsignaturas.filter((function(t){return t.area===e})),s=n.periodosVisibles.map((function(t){return"<td></td>"})).join("");a+='\n          <tr class="fila-area">\n            <td style="text-align: left"><strong>'.concat(o(e),"</strong></td>\n            <td></td>\n            ").concat(s,"\n            <td></td>\n            <td></td> \n            <td></td>\n            <td></td>\n          </tr>\n        "),r.forEach((function(o){var r,s,l,d,u=o.asignatura,c=o.ih,v=o.orden,h=o.nombreAsignatura,p=o.docente;n.orden=v;var f=null===(r=t.areas)||void 0===r||null===(s=r[e])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[u];if(f){var m=n.letraDesdeValor(n.promedioAsignaturaPreescolar(f,v),v),b=(null===(d=f.periodos)||void 0===d||d[n.periodoActual],n.datosDesempenoPorLetra(m,v));a+='\n            <tr>\n              <td style="text-align: left"><strong>'.concat(h,'</strong> <br> <i style="font-size: 10px;">').concat(p,"</i></td>\n              <td>").concat(c,"</td>\n              ").concat(i.map((function(t){var n,i;return"<td>".concat(98===v?"":0!=(null===(n=f.periodos)||void 0===n?void 0:n[t])?null===(i=f.periodos)||void 0===i?void 0:i[t]:"","</td>")})).join(""),"\n              <td>").concat(98===v?"":m,"</td>\n              <td>").concat(98===v?"":b.texto," </td>\n              <td>").concat(f.ausJ||0,"</td>\n              <td>").concat(f.ausS||0,"</td>\n            </tr>\n          "),a+='<tr><td colspan="10" class="descriptor" style="text-align: left">'.concat(n.descriptorDesdeLetraFlexible(t,e,u,n.periodoActual,v),"</td></tr>")}}))})),a+='\n          </tbody>\n        </table>\n        <table class="tabla-boletin">\n          <thead>\n            <tr>\n              <th style="width:40%; text-align: left"><strong>APROB칍 EL GRADO</strong></th>\n              <th style="width:30%; text-align: left">Aus.Justificadas: <strong>'.concat(t.ausJ,'</strong></th>\n              <th style="width:30%; text-align: left">Aus.SinJustificar: <strong>').concat(t.ausJ,"</strong></th>\n            </tr>\n          </thead>\n        </table>\n      "),a},valorNumericoDesdeLetra:function(t,n){if(99!=n){var i=this.nuevaEscalaPreescolar.find((function(n){return n.letra===t}));return(null===i||void 0===i?void 0:i.umbral)||null}if("bd226a20-fc82-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){if("J"==t)return 2;if("B"==t)return 3;if("S"==t)return 4;if("E"==t)return 5}else if("f5529ba0-fcb3-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){if("I"==t)return 2;if("A"==t)return 3;if("S"==t)return 4;if("E"==t)return 5}else{if("J"==t)return 2;if("B"==t)return 3;if("A"==t)return 4;if("S"==t)return 5}},conceptoDesdeValor:function(t,n){if(99==n)return"bd226a20-fc82-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion?t<3?{id_concepto_valorativo:1,letra:"J",texto:"BAJO"}:t<4?{id_concepto_valorativo:2,letra:"B",texto:"B츼SICO"}:t<5?{id_concepto_valorativo:3,letra:"S",texto:"SOBRESALIENTE"}:5==t?{id_concepto_valorativo:4,letra:"E",texto:"EXCELENTE"}:"":"f5529ba0-fcb3-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion?t<3?{id_concepto_valorativo:1,letra:"I",texto:"INSUFICIENTE"}:t<4?{id_concepto_valorativo:2,letra:"A",texto:"ACEPTABLE"}:t<5?{id_concepto_valorativo:3,letra:"S",texto:"SOBRESALIENTE"}:5==t?{id_concepto_valorativo:4,letra:"E",texto:"EXCELENTE"}:"":t<3?{id_concepto_valorativo:1,letra:"J",texto:"BAJO"}:t<4?{id_concepto_valorativo:2,letra:"B",texto:"B츼SICO"}:t<5?{id_concepto_valorativo:3,letra:"S",texto:"SOBRESALIENTE"}:5==t?{id_concepto_valorativo:4,letra:"E",texto:"EXCELENTE"}:"";for(var i=0;i<this.nuevaEscalaPreescolar.length;i++){var e=this.nuevaEscalaPreescolar[i],o=this.nuevaEscalaPreescolar[i+1];if(!o||t<o.umbral)return{id_concepto_valorativo:i+1,letra:e.letra,texto:e.desempeno}}return null},letraDesdeValor:function(t,n){var i=this.conceptoDesdeValor(t,n);return(null===i||void 0===i?void 0:i.letra)||""},datosDesempenoPorLetra:function(t,n){var i="";if(99==n)return"bd226a20-fc82-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion?"J"==t?i="BAJO":"B"==t?i="B츼SICO":"S"==t?i="SOBRESALIENTE":"E"==t&&(i="EXCELENTE"):"f5529ba0-fcb3-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion?"I"==t?i="INSUFICIENTE":"A"==t?i="ACEPTABLE":"S"==t?i="SOBRESALIENTE":"E"==t&&(i="EXCELENTE"):i="",{emoji:"",texto:i,color:"#555"};var e,o=["游","游뗵","游땕","游땏"],a=this.nuevaEscalaPreescolar.findIndex((function(n){return n.letra===t}));if(-1===a)return{emoji:"",texto:"",color:"#aaa"};var r=this.nuevaEscalaPreescolar[a];return{emoji:o[a],texto:r.desempeno||"Sin descripci칩n",color:(null===(e=this.colorPorIndice)||void 0===e?void 0:e[a])||"#555"}},descriptorDesdeLetraFlexible:function(t,n,i,e,o){var a,r,s,l,d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),u=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i];if(!d||!u)return"";if("S"===u.pd||"S"===u.concep)return u.inclusion||"";var c=(null===(l=u.periodos)||void 0===l?void 0:l[e])||"",v=this.valorNumericoDesdeLetra(c,o);if(null===v)return"";var h=this.conceptoDesdeValor(v,o);if(!h)return"";var p=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===h.id_concepto_valorativo}));return(null===p||void 0===p?void 0:p.descriptor)||"*"},promedioAreaPorPeriodo:function(t,n,i){var e=this,o=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),a=0,r=0;return o.forEach((function(o){var s,l,d,u,c,v=o.asignatura,h=o.porcentaje,p=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d?void 0:d[v],f=(null===p||void 0===p||null===(u=p.periodos)||void 0===u?void 0:u[i])||"",m=null===(c=e.escalaPreescolar)||void 0===c?void 0:c[f];void 0!==m&&(a+=m*(h/100),r+=h)})),r>0?this.redondear(a).toFixed(1):""},promedioAreaPorAsignaturas:function(t,n){var i=this,e=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),o=0,a=0;return e.forEach((function(e){var r,s,l,d=e.asignatura,u=e.porcentaje,c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[d];if(c){var v=Object.values(c.periodos||{}),h=v.map((function(t){var n;return null===(n=i.escalaPreescolar)||void 0===n?void 0:n[t]})).filter((function(t){return void 0!==t}));if(h.length>0){var p=h.reduce((function(t,n){return t+n}),0)/h.length;o+=p*(u/100),a+=u}}})),a>0?o.toFixed(2):""},promedioAsignaturaPreescolar:function(t,n){var i=Object.values(t.periodos||{}),e=this.valorNumericoDesdeLetra(i[4],n);return e},notaFinalAreaPreescolar:function(t,n){var i=this,e=this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden})),o=0,a=0;return e.forEach((function(e){var r,s,l,d,u=e.asignatura,c=e.porcentaje,v=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[u];if(v){var h=(null===(d=v.periodos)||void 0===d?void 0:d[i.periodoActual])||"",p=i.valorNumericoDesdeLetra(h);null!==p&&(o+=p*(c/100),a+=c)}})),a>0?o.toFixed(2):""},promedioGeneralPreescolar:function(t){var n=this,i=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))),e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalAreaPreescolar(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(2):""},puestoEstudiantePreescolar:function(t){for(var n=this,i=Object.entries(this.estudiantesNotas).map((function(t){var i=Object(v["a"])(t,2),e=i[0],o=i[1];return{nombre:e,promedio:parseFloat(n.promedioGeneralPreescolar(o))}})).sort((function(t,n){return n.promedio-t.promedio})),e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:i[o].puesto=e,e++;var a=i.find((function(n){return n.nombre===t}));return(null===a||void 0===a?void 0:a.puesto)||""},getEmojiPromedio:function(t){return t<3.5?"游":t<4?"游뗵":t<4.6?"游땕":"游땏"},nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i];return!(!r||!r.periodos)},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},desempeno:function(t,n,i){if(99==this.orden)return"bd226a20-fc82-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion?"J"==t?"BAJO":"B"==t?"B츼SICO":"S"==t?"SOBRESALIENTE":"E"==t?"EXCELENTE":"":"J"==t?"Bajo":"B"==t?"B치sico":"S"==t?"Sobresaliente":"E"==t?"Excelente":"";var e=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i})),o=(null===e||void 0===e?void 0:e.idTipoEspecialidad)||1,a=parseFloat(t);if(isNaN(a))return"";var r=2===o?this.umbralesT[0]:this.umbralesA[0],s=2===o?this.umbralesT[1]:this.umbralesA[1],l=2===o?this.umbralesT[2]:this.umbralesA[2],d=2===o?this.umbralesT[3]:this.umbralesA[3];return a<r?"Bajo":a<s?"B치sico":a<l?"Alto":a<=d?"Superior":""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},calcularPromedioGeneralPorAreasFinales:function(t){var n=this,i="";i=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var e=0,o=0;return i.forEach((function(i){var a=parseFloat(n.notaFinalArea(t,i));isNaN(a)||(e+=a,o++)})),o>0?(e/o).toFixed(3):"0.000"},generarRankingCurso:function(){var t=this,n=[];Object.entries(this.estudiantesNotas).forEach((function(i){var e=Object(v["a"])(i,2),o=e[0],a=e[1],r=parseFloat(t.calcularPromedioGeneralPorAreasFinales(a));isNaN(r)||n.push({nombre:o,promedio:r})})),n.sort((function(t,n){return n.promedio-t.promedio}));for(var i=1,e=0;e<n.length;e++)e>0&&n[e].promedio===n[e-1].promedio?n[e].puesto=n[e-1].puesto:n[e].puesto=i,i++;return n},puestoEstudiante:function(t){var n=this.generarRankingCurso(),i=n.find((function(n){return n.nombre===t}));return(null===i||void 0===i?void 0:i.puesto)||""},ausencias:function(t,n,i,e){var o,a,r,s;return(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||""},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+a.ausencias(t,n,o,i)}),"")},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,p=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c||null===(v=c.definitivas)||void 0===v?void 0:v[e];return 99==h&&0==this.tipoValComp?p:"number"===typeof p&&p>0?p.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=this,c=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.orden,v=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d?void 0:d[i];if(!v)return"";var h=0,p=0,f=["J","B","A","S"];if(99==c&&0==this.tipoValComp){var m=function(t){var n=v.periodos[t],i=f.findIndex((function(t){return t===n}));h+=u.umbralesA[i],p++};for(var b in v.periodos)m(b);var g=p>0?this.redondear(h/p).toFixed(1):0;return g<=this.umbralesA[0]?f[0]:g<=this.umbralesA[1]?f[1]:g<=this.umbralesA[2]?f[2]:g<=this.umbralesA[3]?f[3]:g}for(var A in v.periodos){var x=v.periodos[A];"number"===typeof x&&(h+=x,p++)}return p>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodoComportamiento:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!p.length)return"";var f=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[p])||void 0===l?void 0:l.orden;if(99==f&&0==this.tipoValComp)return(null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[p])||void 0===v||null===(h=v.periodos)||void 0===h?void 0:h[i])||"";var m=p.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return m>0?this.redondear(m).toFixed(1):""},intensidadHorariaAsignatura:function(t,n){var i=this.listaAreasAsignaturas.find((function(i){return i.area===t&&i.asignatura===n}));return(null===i||void 0===i?void 0:i.intensidadHoraria)||0},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(t,i){return t+o.intensidadHorariaAsignatura(n,i)}),0)},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=(i.definitiva,i.recuperacion,i.definitivacompor),d=i.definitivapree,u=i.fechaR,c=i.inclusion,v=i.observaciones,h=i.pd,p=i.concep,f=i.ausJ,m=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var b=n[e];if(b.areas[a]||(b.areas[a]={asignaturas:{}}),!b.areas[a].asignaturas[r]){var g=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));b.areas[a].asignaturas[r]={intensidadHoraria:(null===g||void 0===g?void 0:g.ih)||0,orden:(null===g||void 0===g?void 0:g.orden)||0,porcentaje:(null===g||void 0===g?void 0:g.porcentaje)||100,docente:(null===g||void 0===g?void 0:g.docente)||"",periodos:{},definitivas:{},recuperaciones:{},definitiva:null,recuperacion:null,definitivacompor:null,definitivapree:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var A=b.areas[a].asignaturas[r];99==A.orden&&0==t.tipoValComp?(A.periodos[s]=l,A.definitivas[s]=l,A.recuperaciones[s]="",A.definitiva=l,A.recuperacion="",A.fechaR=u,A.inclusion=c,A.observaciones=v,A.pd=h,A.concep=p):(A.periodos[s]=d,A.definitivas[s]=d,A.recuperaciones[s]="",A.definitiva=d,A.recuperacion="",A.fechaR=u,A.inclusion=c,A.observaciones=v,A.pd=h,A.concep=p),A.ausJ+=f||0,A.ausS+=m||0,b.ausJ+=f||0,b.ausS+=m||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion}},Ht=kt,$t=Object(m["a"])(Ht,Rt,Jt,!1,null,"136a4ad6",null),Lt=$t.exports,Mt=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},Gt=[],Ut={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String,listaHabilitaciones:Array},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0,tipoArea:1,perdioPorHabilitacion:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i=t.idMatricula;this.perdioPorHabilitacion=0;var e='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>INFORME VALORATIVO DEFINITIVO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o Definitivo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?e+="\n                  <th>Fecha</th>\n                  <th>Acta</th>\n                  <th>Supera</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ":e+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",e+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:30%; text-align: left">').concat(this.estadosFinalesEstudiante(n,i),'</th>\n                <th style="width:15%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n,i),'</strong></th>\n                <th style="width:15%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre,i),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),e+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=t.idMatricula,o=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return o.map((function(t){var o=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),a=o.map((function(o){i.orden=o.orden;var a=o.asignatura;i.asignatur=a;var r=o.idTipoEspecialidad;i.tipoArea=o.idTipoArea;var s=o.nombreAsignatura,l=98!==i.orden?o.ih:"",d=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,a,e):"","</td>")})).join(""),u=(98==i.orden||i.criterio1Periodo(n,t,a,i.periodoActual)>0&&i.criterio1Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio2Periodo(n,t,a,i.periodoActual)>0&&i.criterio2Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio3Periodo(n,t,a,i.periodoActual)>0&&i.criterio3Periodo(n,t,a,i.periodoActual),98!==i.orden?i.promedioAsignatura(n,t,a):""),c=(98!==i.orden&&i.definitivaPeriodo(n,t,a,i.periodoActual),98!==i.orden&&i.recuperacion(n,t,a,i.periodoActual),98!==i.orden?i.notaFinal(n,t,a,i.periodoActual):""),v=i.ausencias(n,t,a,"ausJ"),h=i.ausencias(n,t,a,"ausS"),p=98==i.orden?"":v>0?v:"",f=98==i.orden?"":h>0?h:"",m=null!=o.docente?o.docente:"",b=o.idAsignaturaCurso,g=i.mostrarHabilitacion(e,b),A=2===r?i.umbralesT[0]:i.umbralesA[0];g.habilitacion>0&&g.habilitacion<A&&(i.perdioPorHabilitacion=1);var x=98!==i.orden?i.desempeno(g.habilitacion>u?g.habilitacion:u,t,r,i.orden):"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td>").concat(g.fecha,"</td>\n                <td>").concat(g.acta,"</td>\n                <td>").concat(g.habilitacion,"</td>\n                <td>").concat(g.habilitacion>u?g.habilitacion:u,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="12" class="descriptor" style="text-align: left"></td></tr>\n            '):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td></td>\n                <td></td>\n                <td>").concat(c,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,a,5,i.orden),"</td></tr>\n            ")})).join(""),r=i.ausenciasArea(n,t,"ausJ"),s=i.ausenciasArea(n,t,"ausS"),l=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),d=98!==i.orden?i.promedioArea(n,t):"",u=98!==i.orden&&99!=i.orden?i.promedioFinalArea(n,t,e):99===i.orden?i.promedioArea(n,t):"",c=98!==i.orden?i.desempenoArea(u,t,i.tipoArea,i.orden):"",v=98==i.orden?"":r>0?r:"",h=98==i.orden?"":s>0?s:"",p=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          ")})).join("")},mostrarHabilitacion:function(t,n){var i=this.listaHabilitaciones.find((function(i){return i.id_matricula===t&&i.id_asignatura_curso===n}));if(void 0!==i){var e=i.habilitacion>0?i.habilitacion.toFixed(1):"",o=null!==i.fecha&&""!==i.fecha?i.fecha.substr(0,10):"",a=null!=i.acta?i.acta:"";return{habilitacion:e,acta:a,fecha:o}}return{habilitacion:"",acta:"",fecha:""}},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i,e){if(99==e)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"B"==t?"Bueno":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},desempenoArea:function(t,n,i,e){if(99==e)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"B"==t?"Bueno":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},calcularPromedioGeneralPorAreasFinales:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=parseFloat(i.promedioArea(t,e,n));isNaN(r)||(o+=r,a++)})),a>0?(o/a).toFixed(3):"0.000"},estadosFinalesEstudiante:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0;return e.forEach((function(e){var a=i.listaAreasAsignaturas.find((function(t){return t.area===e})),r=null===a||void 0===a?void 0:a.idTipoArea,s=parseFloat(i.promedioFinalArea(t,e,n));isNaN(s)||(1===r?s<i.umbralesA[0]&&o++:s<i.umbralesT[0]&&o++)})),1==this.perdioPorHabilitacion&&(o=100),0==o?"EL ESTUDIANTE APROB칍 EL GRADO":"ESTUDIANTE REPROBADO"},generarRankingCurso:function(t){var n=this,i=[];Object.entries(this.estudiantesNotas).forEach((function(e){var o=Object(v["a"])(e,2),a=o[0],r=o[1],s=parseFloat(n.calcularPromedioGeneralPorAreasFinales(r,t));isNaN(s)||i.push({nombre:a,promedio:s})})),i.sort((function(t,n){return n.promedio-t.promedio}));for(var e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:(i[o].puesto=e,e++);return i},puestoEstudiante:function(t,n){var i=this.generarRankingCurso(n),e=i.find((function(n){return n.nombre===t}));return(null===e||void 0===e?void 0:e.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3.5:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var S=[20,20,30,30];if(12==m){for(var y=0,F=1;F<=4;F++){var P,N=null!==(P=b.periodos[F])&&void 0!==P?P:0;N>0&&(g+=N,y++)}return 0===g?"":(g/=y,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var E=1;E<=4;E++){var D,B=null!==(D=b.periodos[E])&&void 0!==D?D:0;g+=B*S[E-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var j=[20,35,35,0];if(55==m){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=b.periodos[O])&&void 0!==T?T:0;V>0&&(g+=V,I++)}return 0===g?"":(g/=I,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=b.periodos[w])&&void 0!==R?R:0;g+=J*j[w-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var k,H=null!==(k=b.periodos[5])&&void 0!==k?k:0;return H>0?H.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var $,L=null!==($=b.periodos[5])&&void 0!==$?$:0;return L>0?L.toFixed(1):""}for(var M=0,G=1;G<=4;G++){var U,z=null!==(U=b.periodos[G])&&void 0!==U?U:0;z>0&&(g+=z,M++)}if(0===g)return"";var Y=g/M;return this.redondear(Y).toFixed(1)>0?this.redondear(Y).toFixed(1):""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},promedioAsignaturaDefinitivo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=this,x=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===x)return"";var _=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,C=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p?void 0:p[i],S=null===(f=t.areas)||void 0===f||null===(m=f[n])||void 0===m||null===(b=m.asignaturas)||void 0===b||null===(g=b[i])||void 0===g?void 0:g.idAsignaturaCurso,y=this.mostrarHabilitacion(e,S),F=y.habilitacion>0?y.habilitacion:0;if(!C)return"";var P=0,N=0;if(99==_&&0==this.tipoValComp){var E=function(t){var n=C.periodos[t],i=A.letrasCompor.findIndex((function(t){return t===n}));P+=A.umbralesA[i],N++};for(var D in C.periodos)E(D);var B=N>0?this.redondear(P/N).toFixed(1):0;return B<=this.umbralesA[0]?this.letrasCompor[0]:B<=this.umbralesA[1]?this.letrasCompor[1]:B<=this.umbralesA[2]?this.letrasCompor[2]:B<=this.umbralesA[3]?this.letrasCompor[3]:B}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var j=[20,20,30,30];if(12==_){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=C.periodos[O])&&void 0!==T?T:0;V>0&&(P+=V,I++)}return 0===P?"":(P/=I,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=C.periodos[w])&&void 0!==R?R:0;P+=J*j[w-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var k=[20,35,35,0];if(55==_){for(var H=0,$=1;$<=4;$++){var L,M=null!==(L=C.periodos[$])&&void 0!==L?L:0;M>0&&(P+=M,H++)}return 0===P?"":(P/=H,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var G=1;G<=4;G++){var U,z=null!==(U=C.periodos[G])&&void 0!==U?U:0;P+=z*k[G-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Y,q=null!==(Y=C.periodos[5])&&void 0!==Y?Y:0;return q>0?q.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Z,X=null!==(Z=C.periodos[5])&&void 0!==Z?Z:0;return X>0?X.toFixed(1):""}for(var K=0,Q=1;Q<=4;Q++){var W,tt=null!==(W=C.periodos[Q])&&void 0!==W?W:0;tt>0&&(P+=tt,K++)}if(0===P)return"";var nt=P/K;return this.redondear(nt).toFixed(1)>0?F>this.redondear(nt).toFixed(1)?F:this.redondear(nt).toFixed(1):""},promedioFinalArea:function(t,n,i){var e,o,a,r,s,l,d=this,u=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!u.length)return"";var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.orden,v=u.reduce((function(t){return t}));if(99==c&&0==this.tipoValComp)return this.promedioAsignaturaDefinitivo(t,n,v,i);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var h=u.reduce((function(e,o){var a,r,s,l;return e+parseFloat(d.promedioAsignaturaDefinitivo(t,n,o,i)*(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l?void 0:l.porcentaje)/100)}),0);return h>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S,y,F,P,N,E,D=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===D)return"";var B=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==B&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))>0?null===(S=t.areas)||void 0===S||null===(y=S[n])||void 0===y||null===(F=y.asignaturas)||void 0===F||null===(P=F[i])||void 0===P||null===(N=P.periodos)||void 0===N||null===(E=N[e])||void 0===E?void 0:E.toFixed(1):""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={idAsignaturaCurso:null===C||void 0===C?void 0:C.idAsignaturaCurso,intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.letrasCompor=["J","B","A","S"],this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.colDesem=7,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},zt=Ut,Yt=Object(m["a"])(zt,Mt,Gt,!1,null,"feef22a6",null),qt=Yt.exports,Zt=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},Xt=[],Kt={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String,listaHabilitaciones:Array},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0,tipoArea:1,perdioPorHabilitacion:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i=t.idMatricula;this.perdioPorHabilitacion=0;var e='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>INFORME VALORATIVO DEFINITIVO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o Definitivo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?e+="\n                  <th>Fecha</th>\n                  <th>Acta</th>\n                  <th>Supera</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ":e+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",e+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:30%; text-align: left">').concat(this.estadosFinalesEstudiante(n,i),'</th>\n                <th style="width:15%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n,i),'</strong></th>\n                <th style="width:15%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre,i),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),e+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=t.idMatricula,o=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return o.map((function(t){var o=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),a=o.map((function(o){i.orden=o.orden;var a=o.asignatura;i.asignatur=a;var r=o.idTipoEspecialidad;i.tipoArea=o.idTipoArea;var s=o.nombreAsignatura,l=98!==i.orden?o.ih:"",d=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,a,e):"","</td>")})).join(""),u=(98==i.orden||i.criterio1Periodo(n,t,a,i.periodoActual)>0&&i.criterio1Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio2Periodo(n,t,a,i.periodoActual)>0&&i.criterio2Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio3Periodo(n,t,a,i.periodoActual)>0&&i.criterio3Periodo(n,t,a,i.periodoActual),98!==i.orden?i.promedioAsignatura(n,t,a):""),c=(98!==i.orden&&i.definitivaPeriodo(n,t,a,i.periodoActual),98!==i.orden&&i.recuperacion(n,t,a,i.periodoActual),98!==i.orden?i.notaFinal(n,t,a,i.periodoActual):""),v=i.ausencias(n,t,a,"ausJ"),h=i.ausencias(n,t,a,"ausS"),p=98==i.orden?"":v>0?v:"",f=98==i.orden?"":h>0?h:"",m=null!=o.docente?o.docente:"",b=o.idAsignaturaCurso,g=i.mostrarHabilitacion(e,b),A=2===r?i.umbralesT[0]:i.umbralesA[0];g.habilitacion>0&&g.habilitacion<A&&(i.perdioPorHabilitacion=1);var x=98!==i.orden?i.desempeno(g.habilitacion>u?g.habilitacion:u,t,r,i.orden):"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td>").concat(g.fecha,"</td>\n                <td>").concat(g.acta,"</td>\n                <td>").concat(g.habilitacion,"</td>\n                <td>").concat(g.habilitacion>u?g.habilitacion:u,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="12" class="descriptor" style="text-align: left"></td></tr>\n            '):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td></td>\n                <td></td>\n                <td>").concat(c,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,a,5,i.orden),"</td></tr>\n            ")})).join(""),r=i.ausenciasArea(n,t,"ausJ"),s=i.ausenciasArea(n,t,"ausS"),l=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),d=98!==i.orden?i.promedioArea(n,t):"",u=98!==i.orden&&99!=i.orden?i.promedioFinalArea(n,t,e):99===i.orden?i.promedioArea(n,t):"",c=98!==i.orden?i.desempenoArea(u,t,i.tipoArea,i.orden):"",v=98==i.orden?"":r>0?r:"",h=98==i.orden?"":s>0?s:"",p=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          ")})).join("")},mostrarHabilitacion:function(t,n){var i=this.listaHabilitaciones.find((function(i){return i.id_matricula===t&&i.id_asignatura_curso===n}));if(void 0!==i){var e=i.habilitacion>0?i.habilitacion.toFixed(1):"",o=null!==i.fecha&&""!==i.fecha?i.fecha.substr(0,10):"",a=null!=i.acta?i.acta:"";return{habilitacion:e,acta:a,fecha:o}}return{habilitacion:"",acta:"",fecha:""}},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i,e){if(99==e)return"J"==t?"Bajo":"B"==t?"B치sico":"A"==t?"Alto":"S"==t?"Superior":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},desempenoArea:function(t,n,i,e){if(99==e)return"J"==t?"Bajo":"B"==t?"B치sico":"A"==t?"Alto":"S"==t?"Superior":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},calcularPromedioGeneralPorAreasFinales:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=parseFloat(i.promedioArea(t,e,n));isNaN(r)||(o+=r,a++)})),a>0?(o/a).toFixed(3):"0.000"},estadosFinalesEstudiante:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0;return e.forEach((function(e){var a=i.listaAreasAsignaturas.find((function(t){return t.area===e})),r=null===a||void 0===a?void 0:a.idTipoArea,s=parseFloat(i.promedioFinalArea(t,e,n));isNaN(s)||(1===r?s<i.umbralesA[0]&&o++:s<i.umbralesT[0]&&o++)})),1==this.perdioPorHabilitacion&&(o=100),0==o?"PROMOVIDO AL SIGUIENTE GRADO":"REPROBADO, NO PROMOVIDO AL SIGUIENTE GRADO"},generarRankingCurso:function(t){var n=this,i=[];Object.entries(this.estudiantesNotas).forEach((function(e){var o=Object(v["a"])(e,2),a=o[0],r=o[1],s=parseFloat(n.calcularPromedioGeneralPorAreasFinales(r,t));isNaN(s)||i.push({nombre:a,promedio:s})})),i.sort((function(t,n){return n.promedio-t.promedio}));for(var e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:(i[o].puesto=e,e++);return i},puestoEstudiante:function(t,n){var i=this.generarRankingCurso(n),e=i.find((function(n){return n.nombre===t}));return(null===e||void 0===e?void 0:e.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3.5:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var S=[20,20,30,30];if(12==m){for(var y=0,F=1;F<=4;F++){var P,N=null!==(P=b.periodos[F])&&void 0!==P?P:0;N>0&&(g+=N,y++)}return 0===g?"":(g/=y,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var E=1;E<=4;E++){var D,B=null!==(D=b.periodos[E])&&void 0!==D?D:0;g+=B*S[E-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var j=[20,35,35,0];if(55==m){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=b.periodos[O])&&void 0!==T?T:0;V>0&&(g+=V,I++)}return 0===g?"":(g/=I,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=b.periodos[w])&&void 0!==R?R:0;g+=J*j[w-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var k,H=null!==(k=b.periodos[5])&&void 0!==k?k:0;return H>0?H.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var $,L=null!==($=b.periodos[5])&&void 0!==$?$:0;return L>0?L.toFixed(1):""}for(var M=0,G=1;G<=4;G++){var U,z=null!==(U=b.periodos[G])&&void 0!==U?U:0;z>0&&(g+=z,M++)}if(0===g)return"";var Y=g/M;return this.redondear(Y).toFixed(1)>0?this.redondear(Y).toFixed(1):""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},promedioAsignaturaDefinitivo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=this,x=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===x)return"";var _=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,C=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p?void 0:p[i],S=null===(f=t.areas)||void 0===f||null===(m=f[n])||void 0===m||null===(b=m.asignaturas)||void 0===b||null===(g=b[i])||void 0===g?void 0:g.idAsignaturaCurso,y=this.mostrarHabilitacion(e,S),F=y.habilitacion>0?y.habilitacion:0;if(!C)return"";var P=0,N=0;if(99==_&&0==this.tipoValComp){var E=function(t){var n=C.periodos[t],i=A.letrasCompor.findIndex((function(t){return t===n}));P+=A.umbralesA[i],N++};for(var D in C.periodos)E(D);var B=N>0?this.redondear(P/N).toFixed(1):0;return B<=this.umbralesA[0]?this.letrasCompor[0]:B<=this.umbralesA[1]?this.letrasCompor[1]:B<=this.umbralesA[2]?this.letrasCompor[2]:B<=this.umbralesA[3]?this.letrasCompor[3]:B}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var j=[20,20,30,30];if(12==_){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=C.periodos[O])&&void 0!==T?T:0;V>0&&(P+=V,I++)}return 0===P?"":(P/=I,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=C.periodos[w])&&void 0!==R?R:0;P+=J*j[w-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var k=[20,35,35,0];if(55==_){for(var H=0,$=1;$<=4;$++){var L,M=null!==(L=C.periodos[$])&&void 0!==L?L:0;M>0&&(P+=M,H++)}return 0===P?"":(P/=H,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var G=1;G<=4;G++){var U,z=null!==(U=C.periodos[G])&&void 0!==U?U:0;P+=z*k[G-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Y,q=null!==(Y=C.periodos[5])&&void 0!==Y?Y:0;return q>0?q.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Z,X=null!==(Z=C.periodos[5])&&void 0!==Z?Z:0;return X>0?X.toFixed(1):""}for(var K=0,Q=1;Q<=4;Q++){var W,tt=null!==(W=C.periodos[Q])&&void 0!==W?W:0;tt>0&&(P+=tt,K++)}if(0===P)return"";var nt=P/K;return this.redondear(nt).toFixed(1)>0?F>this.redondear(nt).toFixed(1)?F:this.redondear(nt).toFixed(1):""},promedioFinalArea:function(t,n,i){var e,o,a,r,s,l,d=this,u=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!u.length)return"";var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.orden,v=u.reduce((function(t){return t}));if(99==c&&0==this.tipoValComp)return this.promedioAsignaturaDefinitivo(t,n,v,i);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var h=u.reduce((function(e,o){var a,r,s,l;return e+parseFloat(d.promedioAsignaturaDefinitivo(t,n,o,i)*(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l?void 0:l.porcentaje)/100)}),0);return h>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S,y,F,P,N,E,D=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===D)return"";var B=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==B&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))>0?null===(S=t.areas)||void 0===S||null===(y=S[n])||void 0===y||null===(F=y.asignaturas)||void 0===F||null===(P=F[i])||void 0===P||null===(N=P.periodos)||void 0===N||null===(E=N[e])||void 0===E?void 0:E.toFixed(1):""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={idAsignaturaCurso:null===C||void 0===C?void 0:C.idAsignaturaCurso,intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.letrasCompor=["J","B","A","S"],this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.colDesem=7,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},Qt=Kt,Wt=Object(m["a"])(Qt,Zt,Xt,!1,null,"32c02d21",null),tn=Wt.exports,nn=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},en=[],on={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String,listaHabilitaciones:Array},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0,tipoArea:1,perdioPorHabilitacion:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i=t.idMatricula;this.perdioPorHabilitacion=0;var e='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>INFORME VALORATIVO DEFINITIVO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o Definitivo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?e+="\n                  <th>Fecha</th>\n                  <th>Acta</th>\n                  <th>Supera</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ":e+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",e+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:30%; text-align: left">').concat(this.estadosFinalesEstudiante(n,i),'</th>\n                <th style="width:15%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n,i),'</strong></th>\n                <th style="width:15%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre,i),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),e+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=t.idMatricula,o=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return o.map((function(t){var o=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),a=o.map((function(o){i.orden=o.orden;var a=o.asignatura;i.asignatur=a;var r=o.idTipoEspecialidad;i.tipoArea=o.idTipoArea;var s=o.nombreAsignatura,l=98!==i.orden?o.ih:"",d=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,a,e):"","</td>")})).join(""),u=(98==i.orden||i.criterio1Periodo(n,t,a,i.periodoActual)>0&&i.criterio1Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio2Periodo(n,t,a,i.periodoActual)>0&&i.criterio2Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio3Periodo(n,t,a,i.periodoActual)>0&&i.criterio3Periodo(n,t,a,i.periodoActual),98!==i.orden?i.promedioAsignatura(n,t,a):""),c=(98!==i.orden&&i.definitivaPeriodo(n,t,a,i.periodoActual),98!==i.orden&&i.recuperacion(n,t,a,i.periodoActual),98!==i.orden?i.notaFinal(n,t,a,i.periodoActual):""),v=i.ausencias(n,t,a,"ausJ"),h=i.ausencias(n,t,a,"ausS"),p=98==i.orden?"":v>0?v:"",f=98==i.orden?"":h>0?h:"",m=null!=o.docente?o.docente:"",b=o.idAsignaturaCurso,g=i.mostrarHabilitacion(e,b),A=2===r?i.umbralesT[0]:i.umbralesA[0];g.habilitacion>0&&g.habilitacion<A&&(i.perdioPorHabilitacion=1);var x=98!==i.orden?i.desempeno(g.habilitacion>u?g.habilitacion:u,t,r,i.orden):"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td>").concat(g.fecha,"</td>\n                <td>").concat(g.acta,"</td>\n                <td>").concat(g.habilitacion,"</td>\n                <td>").concat(g.habilitacion>u?g.habilitacion:u,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="12" class="descriptor" style="text-align: left"></td></tr>\n            '):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td></td>\n                <td></td>\n                <td>").concat(c,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,a,5,i.orden),"</td></tr>\n            ")})).join(""),r=i.ausenciasArea(n,t,"ausJ"),s=i.ausenciasArea(n,t,"ausS"),l=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),d=98!==i.orden?i.promedioArea(n,t):"",u=98!==i.orden&&99!=i.orden?i.promedioFinalArea(n,t,e):99===i.orden?i.promedioArea(n,t):"",c=98!==i.orden?i.desempenoArea(u,t,i.tipoArea,i.orden):"",v=98==i.orden?"":r>0?r:"",h=98==i.orden?"":s>0?s:"",p=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          ")})).join("")},mostrarHabilitacion:function(t,n){var i=this.listaHabilitaciones.find((function(i){return i.id_matricula===t&&i.id_asignatura_curso===n}));if(void 0!==i){var e=i.habilitacion>0?i.habilitacion.toFixed(1):"",o=null!==i.fecha&&""!==i.fecha?i.fecha.substr(0,10):"",a=null!=i.acta?i.acta:"";return{habilitacion:e,acta:a,fecha:o}}return{habilitacion:"",acta:"",fecha:""}},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i,e){var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},desempenoArea:function(t,n,i,e){var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},calcularPromedioGeneralPorAreasFinales:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=parseFloat(i.promedioArea(t,e,n));isNaN(r)||(o+=r,a++)})),a>0?(o/a).toFixed(3):"0.000"},estadosFinalesEstudiante:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0;return e.forEach((function(e){var a=i.listaAreasAsignaturas.find((function(t){return t.area===e})),r=null===a||void 0===a?void 0:a.idTipoArea,s=parseFloat(i.promedioFinalArea(t,e,n));isNaN(s)||(1===r?s<i.umbralesA[0]&&o++:s<i.umbralesT[0]&&o++)})),1==this.perdioPorHabilitacion&&(o=100),0==o?"APROB칍 EL GRADO":"ESTUDIANTE REPROBADO"},generarRankingCurso:function(t){var n=this,i=[];Object.entries(this.estudiantesNotas).forEach((function(e){var o=Object(v["a"])(e,2),a=o[0],r=o[1],s=parseFloat(n.calcularPromedioGeneralPorAreasFinales(r,t));isNaN(s)||i.push({nombre:a,promedio:s})})),i.sort((function(t,n){return n.promedio-t.promedio}));for(var e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:(i[o].puesto=e,e++);return i},puestoEstudiante:function(t,n){var i=this.generarRankingCurso(n),e=i.find((function(n){return n.nombre===t}));return(null===e||void 0===e?void 0:e.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3.5:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var S=[20,20,30,30];if(12==m){for(var y=0,F=1;F<=4;F++){var P,N=null!==(P=b.periodos[F])&&void 0!==P?P:0;N>0&&(g+=N,y++)}return 0===g?"":(g/=y,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var E=1;E<=4;E++){var D,B=null!==(D=b.periodos[E])&&void 0!==D?D:0;g+=B*S[E-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var j=[20,35,35,0];if(55==m){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=b.periodos[O])&&void 0!==T?T:0;V>0&&(g+=V,I++)}return 0===g?"":(g/=I,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=b.periodos[w])&&void 0!==R?R:0;g+=J*j[w-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var k,H=null!==(k=b.periodos[5])&&void 0!==k?k:0;return H>0?H.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var $,L=null!==($=b.periodos[5])&&void 0!==$?$:0;return L>0?L.toFixed(1):""}for(var M=1;M<=4;M++){var G,U=null!==(G=b.periodos[M])&&void 0!==G?G:0;U>0&&(g+=U)}if(0===g)return"";var z=g/4;return this.redondear(z).toFixed(1)>0?this.redondear(z).toFixed(1):""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},promedioAsignaturaDefinitivo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=this,x=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===x)return"";var _=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,C=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p?void 0:p[i],S=null===(f=t.areas)||void 0===f||null===(m=f[n])||void 0===m||null===(b=m.asignaturas)||void 0===b||null===(g=b[i])||void 0===g?void 0:g.idAsignaturaCurso,y=this.mostrarHabilitacion(e,S),F=y.habilitacion>0?y.habilitacion:0;if(!C)return"";var P=0,N=0;if(99==_&&0==this.tipoValComp){var E=function(t){var n=C.periodos[t],i=A.letrasCompor.findIndex((function(t){return t===n}));P+=A.umbralesA[i],N++};for(var D in C.periodos)E(D);var B=N>0?this.redondear(P/N).toFixed(1):0;return B<=this.umbralesA[0]?this.letrasCompor[0]:B<=this.umbralesA[1]?this.letrasCompor[1]:B<=this.umbralesA[2]?this.letrasCompor[2]:B<=this.umbralesA[3]?this.letrasCompor[3]:B}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var j=[20,20,30,30];if(12==_){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=C.periodos[O])&&void 0!==T?T:0;V>0&&(P+=V,I++)}return 0===P?"":(P/=I,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=C.periodos[w])&&void 0!==R?R:0;P+=J*j[w-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var k=[20,35,35,0];if(55==_){for(var H=0,$=1;$<=4;$++){var L,M=null!==(L=C.periodos[$])&&void 0!==L?L:0;M>0&&(P+=M,H++)}return 0===P?"":(P/=H,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var G=1;G<=4;G++){var U,z=null!==(U=C.periodos[G])&&void 0!==U?U:0;P+=z*k[G-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Y,q=null!==(Y=C.periodos[5])&&void 0!==Y?Y:0;return q>0?q.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Z,X=null!==(Z=C.periodos[5])&&void 0!==Z?Z:0;return X>0?X.toFixed(1):""}for(var K=1;K<=4;K++){var Q,W=null!==(Q=C.periodos[K])&&void 0!==Q?Q:0;W>0&&(P+=W)}if(0===P)return"";var tt=P/4;return this.redondear(tt).toFixed(1)>0?F>this.redondear(tt).toFixed(1)?F:this.redondear(tt).toFixed(1):""},promedioFinalArea:function(t,n,i){var e,o,a,r,s,l,d=this,u=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!u.length)return"";var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.orden,v=u.reduce((function(t){return t}));if(99==c&&0==this.tipoValComp)return this.promedioAsignaturaDefinitivo(t,n,v,i);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var h=u.reduce((function(e,o){var a,r,s,l;return e+parseFloat(d.promedioAsignaturaDefinitivo(t,n,o,i)*(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l?void 0:l.porcentaje)/100)}),0);return h>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S,y,F,P,N,E,D=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===D)return"";var B=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==B&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))>0?null===(S=t.areas)||void 0===S||null===(y=S[n])||void 0===y||null===(F=y.asignaturas)||void 0===F||null===(P=F[i])||void 0===P||null===(N=P.periodos)||void 0===N||null===(E=N[e])||void 0===E?void 0:E.toFixed(1):""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={idAsignaturaCurso:null===C||void 0===C?void 0:C.idAsignaturaCurso,intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.letrasCompor=["J","B","A","S"],this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.colDesem=7,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},an=on,rn=Object(m["a"])(an,nn,en,!1,null,"4689ee92",null),sn=rn.exports,ln=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},dn=[],un={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String,listaHabilitaciones:Array},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0,tipoArea:1,perdioPorHabilitacion:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i=t.idMatricula;this.perdioPorHabilitacion=0;var e='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>INFORME VALORATIVO DEFINITIVO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o Definitivo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?e+="\n                  <th>Fecha</th>\n                  <th>Acta</th>\n                  <th>Supera</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ":e+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",e+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:30%; text-align: left">').concat(this.estadosFinalesEstudiante(n,i),'</th>\n                <th style="width:15%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n,i),'</strong></th>\n                <th style="width:15%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre,i),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),e+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=t.idMatricula,o=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return o.map((function(t){var o=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),a=o.map((function(o){i.orden=o.orden;var a=o.asignatura;i.asignatur=a;var r=o.idTipoEspecialidad;i.tipoArea=o.idTipoArea;var s=o.nombreAsignatura,l=98!==i.orden?o.ih:"",d=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,a,e):"","</td>")})).join(""),u=(98==i.orden||i.criterio1Periodo(n,t,a,i.periodoActual)>0&&i.criterio1Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio2Periodo(n,t,a,i.periodoActual)>0&&i.criterio2Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio3Periodo(n,t,a,i.periodoActual)>0&&i.criterio3Periodo(n,t,a,i.periodoActual),98!==i.orden?i.promedioAsignatura(n,t,a):""),c=(98!==i.orden&&i.definitivaPeriodo(n,t,a,i.periodoActual),98!==i.orden&&i.recuperacion(n,t,a,i.periodoActual),98!==i.orden?i.notaFinal(n,t,a,i.periodoActual):""),v=i.ausencias(n,t,a,"ausJ"),h=i.ausencias(n,t,a,"ausS"),p=98==i.orden?"":v>0?v:"",f=98==i.orden?"":h>0?h:"",m=null!=o.docente?o.docente:"",b=o.idAsignaturaCurso,g=i.mostrarHabilitacion(e,b),A=2===r?i.umbralesT[0]:i.umbralesA[0];g.habilitacion>0&&g.habilitacion<A&&(i.perdioPorHabilitacion=1);var x=98!==i.orden?i.desempeno(g.habilitacion>u?g.habilitacion:u,t,r,i.orden):"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td>").concat(g.fecha,"</td>\n                <td>").concat(g.acta,"</td>\n                <td>").concat(g.habilitacion,"</td>\n                <td>").concat(g.habilitacion>u?g.habilitacion:u,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="12" class="descriptor" style="text-align: left"></td></tr>\n            '):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td></td>\n                <td></td>\n                <td>").concat(c,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,a,5,i.orden),"</td></tr>\n            ")})).join(""),r=i.ausenciasArea(n,t,"ausJ"),s=i.ausenciasArea(n,t,"ausS"),l=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),d=98!==i.orden?i.promedioArea(n,t):"",u=98!==i.orden&&99!=i.orden?i.promedioFinalArea(n,t,e):99===i.orden?i.promedioArea(n,t):"",c=98!==i.orden?i.desempenoArea(u,t,i.tipoArea,i.orden):"",v=98==i.orden?"":r>0?r:"",h=98==i.orden?"":s>0?s:"",p=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          ")})).join("")},mostrarHabilitacion:function(t,n){var i=this.listaHabilitaciones.find((function(i){return i.id_matricula===t&&i.id_asignatura_curso===n}));if(void 0!==i){var e=i.habilitacion>0?i.habilitacion.toFixed(1):"",o=null!==i.fecha&&""!==i.fecha?i.fecha.substr(0,10):"",a=null!=i.acta?i.acta:"";return{habilitacion:e,acta:a,fecha:o}}return{habilitacion:"",acta:"",fecha:""}},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i,e){if(99==e)return"J"==t?"Bajo":"B"==t?"B치sico":"S"==t?"Sobresaliente":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},desempenoArea:function(t,n,i,e){if(99==e)return"J"==t?"Bajo":"B"==t?"B치sico":"S"==t?"Sobresaliente":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},calcularPromedioGeneralPorAreasFinales:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=parseFloat(i.promedioArea(t,e,n));isNaN(r)||(o+=r,a++)})),a>0?(o/a).toFixed(3):"0.000"},estadosFinalesEstudiante:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0;return e.forEach((function(e){var a=i.listaAreasAsignaturas.find((function(t){return t.area===e})),r=null===a||void 0===a?void 0:a.idTipoArea,s=parseFloat(i.promedioFinalArea(t,e,n));isNaN(s)||(1===r?s<i.umbralesA[0]&&o++:s<i.umbralesT[0]&&o++)})),1==this.perdioPorHabilitacion&&(o=100),0==o?"EL ESTUDIANTE APROB칍 EL GRADO":"ESTUDIANTE REPROBADO"},generarRankingCurso:function(t){var n=this,i=[];Object.entries(this.estudiantesNotas).forEach((function(e){var o=Object(v["a"])(e,2),a=o[0],r=o[1],s=parseFloat(n.calcularPromedioGeneralPorAreasFinales(r,t));isNaN(s)||i.push({nombre:a,promedio:s})})),i.sort((function(t,n){return n.promedio-t.promedio}));for(var e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:(i[o].puesto=e,e++);return i},puestoEstudiante:function(t,n){var i=this.generarRankingCurso(n),e=i.find((function(n){return n.nombre===t}));return(null===e||void 0===e?void 0:e.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3.5:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var S=[20,20,30,30];if(12==m){for(var y=0,F=1;F<=4;F++){var P,N=null!==(P=b.periodos[F])&&void 0!==P?P:0;N>0&&(g+=N,y++)}return 0===g?"":(g/=y,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var E=1;E<=4;E++){var D,B=null!==(D=b.periodos[E])&&void 0!==D?D:0;g+=B*S[E-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var j=[20,35,35,0];if(55==m){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=b.periodos[O])&&void 0!==T?T:0;V>0&&(g+=V,I++)}return 0===g?"":(g/=I,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=b.periodos[w])&&void 0!==R?R:0;g+=J*j[w-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var k,H=null!==(k=b.periodos[5])&&void 0!==k?k:0;return H>0?H.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var $,L=null!==($=b.periodos[5])&&void 0!==$?$:0;return L>0?L.toFixed(1):""}for(var M=0,G=1;G<=4;G++){var U,z=null!==(U=b.periodos[G])&&void 0!==U?U:0;z>0&&(g+=z,M++)}if(0===g)return"";var Y=g/M;return this.redondear(Y).toFixed(1)>0?this.redondear(Y).toFixed(1):""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},promedioAsignaturaDefinitivo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=this,x=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===x)return"";var _=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,C=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p?void 0:p[i],S=null===(f=t.areas)||void 0===f||null===(m=f[n])||void 0===m||null===(b=m.asignaturas)||void 0===b||null===(g=b[i])||void 0===g?void 0:g.idAsignaturaCurso,y=this.mostrarHabilitacion(e,S),F=y.habilitacion>0?y.habilitacion:0;if(!C)return"";var P=0,N=0;if(99==_&&0==this.tipoValComp){var E=function(t){var n=C.periodos[t],i=A.letrasCompor.findIndex((function(t){return t===n}));P+=A.umbralesA[i],N++};for(var D in C.periodos)E(D);var B=N>0?this.redondear(P/N).toFixed(1):0;return B<=this.umbralesA[0]?this.letrasCompor[0]:B<=this.umbralesA[1]?this.letrasCompor[1]:B<=this.umbralesA[2]?this.letrasCompor[2]:B<=this.umbralesA[3]?this.letrasCompor[3]:B}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var j=[20,20,30,30];if(12==_){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=C.periodos[O])&&void 0!==T?T:0;V>0&&(P+=V,I++)}return 0===P?"":(P/=I,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=C.periodos[w])&&void 0!==R?R:0;P+=J*j[w-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var k=[20,35,35,0];if(55==_){for(var H=0,$=1;$<=4;$++){var L,M=null!==(L=C.periodos[$])&&void 0!==L?L:0;M>0&&(P+=M,H++)}return 0===P?"":(P/=H,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var G=1;G<=4;G++){var U,z=null!==(U=C.periodos[G])&&void 0!==U?U:0;P+=z*k[G-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Y,q=null!==(Y=C.periodos[5])&&void 0!==Y?Y:0;return q>0?q.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Z,X=null!==(Z=C.periodos[5])&&void 0!==Z?Z:0;return X>0?X.toFixed(1):""}for(var K=0,Q=1;Q<=4;Q++){var W,tt=null!==(W=C.periodos[Q])&&void 0!==W?W:0;tt>0&&(P+=tt,K++)}if(0===P)return"";var nt=P/K;return this.redondear(nt).toFixed(1)>0?F>this.redondear(nt).toFixed(1)?F:this.redondear(nt).toFixed(1):""},promedioFinalArea:function(t,n,i){var e,o,a,r,s,l,d=this,u=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!u.length)return"";var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.orden,v=u.reduce((function(t){return t}));if(99==c&&0==this.tipoValComp)return this.promedioAsignaturaDefinitivo(t,n,v,i);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var h=u.reduce((function(e,o){var a,r,s,l;return e+parseFloat(d.promedioAsignaturaDefinitivo(t,n,o,i)*(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l?void 0:l.porcentaje)/100)}),0);return h>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S,y,F,P,N,E,D=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===D)return"";var B=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==B&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))>0?null===(S=t.areas)||void 0===S||null===(y=S[n])||void 0===y||null===(F=y.asignaturas)||void 0===F||null===(P=F[i])||void 0===P||null===(N=P.periodos)||void 0===N||null===(E=N[e])||void 0===E?void 0:E.toFixed(1):""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={idAsignaturaCurso:null===C||void 0===C?void 0:C.idAsignaturaCurso,intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.letrasCompor=["J","B","A","S"],this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.colDesem=7,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},cn=un,vn=Object(m["a"])(cn,ln,dn,!1,null,"e49db972",null),hn=vn.exports,pn=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},fn=[],mn={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String,listaHabilitaciones:Array,idGrado:String},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0,tipoArea:1,perdioPorHabilitacion:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||90!=c&&(!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0})))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i=t.idMatricula;this.perdioPorHabilitacion=0;var e="-";e="01"==this.idGrado||"02"==this.idGrado||"03"==this.idGrado?"J: BAJO | B: BASICO | A: ALTO | S: SUPERIOR":"BAJO ["+this.datosSeccion.minBaj.toFixed(1)+" : "+this.datosSeccion.maxBaj.toFixed(1)+"] | B츼SICO ["+this.datosSeccion.minBas.toFixed(1)+" : "+this.datosSeccion.maxBas.toFixed(1)+"] | ALTO ["+this.datosSeccion.minAlt.toFixed(1)+" : "+this.datosSeccion.maxAlt.toFixed(1)+"] | SUPERIOR ["+this.datosSeccion.minSup.toFixed(1)+" : "+this.datosSeccion.maxSup.toFixed(1)+"]";var o='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>INFORME VALORATIVO DEFINITIVO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o Definitivo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?o+="\n                  <th>Fecha</th>\n                  <th>Acta</th>\n                  <th>Supera</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ":o+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",o+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:30%; text-align: left">').concat(this.estadosFinalesEstudiante(n,i),'</th>\n                <th style="width:15%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n,i),'</strong></th>\n                <th style="width:15%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre,i),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: ').concat(e,'</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),o+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=t.idMatricula,o=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return o.map((function(t){var o=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),a=o.map((function(o){i.orden=o.orden;var a=o.asignatura;i.asignatur=a;var r=o.idTipoEspecialidad;i.tipoArea=o.idTipoArea;var s=o.nombreAsignatura,l=98!==i.orden?o.ih:"",d=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,a,e):"","</td>")})).join(""),u=(98==i.orden||i.criterio1Periodo(n,t,a,i.periodoActual)>0&&i.criterio1Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio2Periodo(n,t,a,i.periodoActual)>0&&i.criterio2Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio3Periodo(n,t,a,i.periodoActual)>0&&i.criterio3Periodo(n,t,a,i.periodoActual),98!==i.orden?i.promedioAsignatura(n,t,a):""),c=(98!==i.orden&&i.definitivaPeriodo(n,t,a,i.periodoActual),98!==i.orden&&i.recuperacion(n,t,a,i.periodoActual),98!==i.orden?i.notaFinal(n,t,a,i.periodoActual):""),v=i.ausencias(n,t,a,"ausJ"),h=i.ausencias(n,t,a,"ausS"),p=98==i.orden?"":v>0?v:"",f=98==i.orden?"":h>0?h:"",m=null!=o.docente?o.docente:"",b=o.idAsignaturaCurso,g=i.mostrarHabilitacion(e,b),A=2===r?i.umbralesT[0]:i.umbralesA[0];g.habilitacion>0&&g.habilitacion<A&&(i.perdioPorHabilitacion=1);var x=98!==i.orden?i.desempeno(g.habilitacion>u?g.habilitacion:u,t,r,i.orden):"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td>").concat(g.fecha,"</td>\n                <td>").concat(g.acta,"</td>\n                <td>").concat(g.habilitacion,"</td>\n                <td>").concat(g.habilitacion>u?g.habilitacion:u,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="12" class="descriptor" style="text-align: left"></td></tr>\n            '):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td></td>\n                <td></td>\n                <td>").concat(c,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,a,5,i.orden),"</td></tr>\n            ")})).join(""),r=i.ausenciasArea(n,t,"ausJ"),s=i.ausenciasArea(n,t,"ausS"),l=i.periodosVisibles.map((function(e){return"<td>".concat("01"==i.idGrado||"02"==i.idGrado||"03"==i.idGrado?"":98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),d="01"==i.idGrado||"02"==i.idGrado||"03"==i.idGrado?"":98!==i.orden?i.promedioArea(n,t):"",u=98!==i.orden&&99!=i.orden?i.promedioFinalArea(n,t,e):99===i.orden?i.promedioArea(n,t):"",c=98!==i.orden?i.desempenoArea(u,t,i.tipoArea,i.orden):"",v=98==i.orden?"":r>0?r:"",h=98==i.orden?"":s>0?s:"",p=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat("01"==i.idGrado||"02"==i.idGrado||"03"==i.idGrado?"":u,"</td>\n              <td>").concat("01"==i.idGrado||"02"==i.idGrado||"03"==i.idGrado?"":c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          ")})).join("")},mostrarHabilitacion:function(t,n){var i=this.listaHabilitaciones.find((function(i){return i.id_matricula===t&&i.id_asignatura_curso===n}));if(void 0!==i){var e=i.habilitacion>0?i.habilitacion.toFixed(1):"",o=null!==i.fecha&&""!==i.fecha?i.fecha.substr(0,10):"",a=null!=i.acta?i.acta:"";return{habilitacion:e,acta:a,fecha:o}}return{habilitacion:"",acta:"",fecha:""}},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i,e){if(99==e)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"S"==t?"Sobresaliente":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},desempenoArea:function(t,n,i,e){if(99==e)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"S"==t?"Sobresaliente":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},calcularPromedioGeneralPorAreasFinales:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden&&90!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden&&90!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=parseFloat(i.promedioArea(t,e,n));isNaN(r)||(o+=r,a++)})),a>0?(o/a).toFixed(3):"0.000"},estadosFinalesEstudiante:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden&&90!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden&&90!==t.orden})).map((function(t){return t.area}))));var o=0;return e.forEach((function(e){var a=i.listaAreasAsignaturas.find((function(t){return t.area===e})),r=null===a||void 0===a?void 0:a.idTipoArea,s=parseFloat(i.promedioFinalArea(t,e,n));isNaN(s)||(1===r?s<i.umbralesA[0]&&o++:s<i.umbralesT[0]&&o++)})),1==this.perdioPorHabilitacion&&(o=100),0==o?"EL ESTUDIANTE APROB칍 EL GRADO":"ESTUDIANTE REPROBADO"},generarRankingCurso:function(t){var n=this,i=[];Object.entries(this.estudiantesNotas).forEach((function(e){var o=Object(v["a"])(e,2),a=o[0],r=o[1],s=parseFloat(n.calcularPromedioGeneralPorAreasFinales(r,t));isNaN(s)||i.push({nombre:a,promedio:s})})),i.sort((function(t,n){return n.promedio-t.promedio}));for(var e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:(i[o].puesto=e,e++);return i},puestoEstudiante:function(t,n){var i=this.generarRankingCurso(n),e=i.find((function(n){return n.nombre===t}));return(null===e||void 0===e?void 0:e.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3.5:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i],g=[30,35,35,0];if(!b)return"";var A=0,x=0;if(99==m&&0==this.tipoValComp){var _=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));A+=p.umbralesA[i],x++};for(var C in b.periodos)_(C);var S=x>0?this.redondear(A/x).toFixed(1):0;return S<=this.umbralesA[0]?this.letrasCompor[0]:S<=this.umbralesA[1]?this.letrasCompor[1]:S<=this.umbralesA[2]?this.letrasCompor[2]:S<=this.umbralesA[3]?this.letrasCompor[3]:S}if(55==m){for(var y=0,F=1;F<=4;F++){var P,N=null!==(P=b.periodos[F])&&void 0!==P?P:0;N>0&&(A+=N,y++)}return 0===A?"":(A/=y,this.redondear(A).toFixed(1)>0?this.redondear(A).toFixed(1):"")}for(var E=0,D=1;D<=4;D++){var B,j=null!==(B=b.periodos[D])&&void 0!==B?B:0;E+=j*g[D-1]/100}if("01"==this.idGrado||"02"==this.idGrado||"03"==this.idGrado){var I=this.redondear(E).toFixed(1)>0?this.redondear(E).toFixed(1):"",O=""==I?"":I<this.umbralesA[0]?"J":I<this.umbralesA[1]?"B":I<this.umbralesA[2]?"A":I<this.umbralesA[3]?"S":"";return O}return this.redondear(E).toFixed(1)>0?this.redondear(E).toFixed(1):""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},promedioAsignaturaDefinitivo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=this,x=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===x)return"";var _=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,C=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p?void 0:p[i],S=null===(f=t.areas)||void 0===f||null===(m=f[n])||void 0===m||null===(b=m.asignaturas)||void 0===b||null===(g=b[i])||void 0===g?void 0:g.idAsignaturaCurso,y=this.mostrarHabilitacion(e,S),F=y.habilitacion>0?y.habilitacion:0;if(!C)return"";var P=0,N=0;if(99==_&&0==this.tipoValComp){var E=function(t){var n=C.periodos[t],i=A.letrasCompor.findIndex((function(t){return t===n}));P+=A.umbralesA[i],N++};for(var D in C.periodos)E(D);var B=N>0?this.redondear(P/N).toFixed(1):0;return B<=this.umbralesA[0]?this.letrasCompor[0]:B<=this.umbralesA[1]?this.letrasCompor[1]:B<=this.umbralesA[2]?this.letrasCompor[2]:B<=this.umbralesA[3]?this.letrasCompor[3]:B}var j=[30,35,35,0];if(55==_){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=C.periodos[O])&&void 0!==T?T:0;V>0&&(P+=V,I++)}return 0===P?"":(P/=I,this.redondear(P).toFixed(1)>0?F>this.redondear(P).toFixed(1)?F:this.redondear(P).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=C.periodos[w])&&void 0!==R?R:0;P+=J*j[w-1]/100}return this.redondear(P).toFixed(1)>0?F>this.redondear(P).toFixed(1)?F:this.redondear(P).toFixed(1):""},promedioFinalArea:function(t,n,i){var e,o,a,r,s,l,d=this,u=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!u.length)return"";var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.orden,v=u.reduce((function(t){return t}));if(99==c&&0==this.tipoValComp)return this.promedioAsignaturaDefinitivo(t,n,v,i);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var h=u.reduce((function(e,o){var a,r,s,l;return e+parseFloat(d.promedioAsignaturaDefinitivo(t,n,o,i)*(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l?void 0:l.porcentaje)/100)}),0);return h>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g,A,x,_,C,S,y,F,P,N,E,D,B=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;if(99==B&&0==this.tipoValComp)return(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"";if("01"==this.idGrado||"02"==this.idGrado||"03"==this.idGrado){var j,I,O,T,V,w,R,J,k,H,$,L,M=(null===(j=t.areas)||void 0===j||null===(I=j[n])||void 0===I||null===(O=I.asignaturas)||void 0===O||null===(T=O[i])||void 0===T||null===(V=T.periodos)||void 0===V||null===(w=V[e])||void 0===w?void 0:w.toFixed(1))>0?null===(R=t.areas)||void 0===R||null===(J=R[n])||void 0===J||null===(k=J.asignaturas)||void 0===k||null===(H=k[i])||void 0===H||null===($=H.periodos)||void 0===$||null===(L=$[e])||void 0===L?void 0:L.toFixed(1):"",G=""==M?"":M<this.umbralesA[0]?"J":M<this.umbralesA[1]?"B":M<this.umbralesA[2]?"A":M<this.umbralesA[3]?"S":"";return G}return(null===(g=t.areas)||void 0===g||null===(A=g[n])||void 0===A||null===(x=A.asignaturas)||void 0===x||null===(_=x[i])||void 0===_||null===(C=_.periodos)||void 0===C||null===(S=C[e])||void 0===S?void 0:S.toFixed(1))>0?null===(y=t.areas)||void 0===y||null===(F=y[n])||void 0===F||null===(P=F.asignaturas)||void 0===P||null===(N=P[i])||void 0===N||null===(E=N.periodos)||void 0===E||null===(D=E[e])||void 0===D?void 0:D.toFixed(1):""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={idAsignaturaCurso:null===C||void 0===C?void 0:C.idAsignaturaCurso,intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.letrasCompor=["J","B","A","S"],this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.colDesem=7,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},bn=mn,gn=Object(m["a"])(bn,pn,fn,!1,null,"58369b10",null),An=gn.exports,xn=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},_n=[],Cn={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String,listaHabilitaciones:Array},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0,tipoArea:1,perdioPorHabilitacion:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i=t.idMatricula;this.perdioPorHabilitacion=0;var e='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>INFORME VALORATIVO DEFINITIVO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o Definitivo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?e+="\n                  <th>Fecha</th>\n                  <th>Acta</th>\n                  <th>Supera</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ":e+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",e+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:30%; text-align: left">').concat(this.estadosFinalesEstudiante(n,i),'</th>\n                <th style="width:15%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n,i),'</strong></th>\n                <th style="width:15%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre,i),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),e+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=t.idMatricula,o=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return o.map((function(t){var o=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),a=o.map((function(o){i.orden=o.orden;var a=o.asignatura;i.asignatur=a;var r=o.idTipoEspecialidad;i.tipoArea=o.idTipoArea;var s=o.nombreAsignatura,l=98!==i.orden?o.ih:"",d=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,a,e):"","</td>")})).join(""),u=(98==i.orden||i.criterio1Periodo(n,t,a,i.periodoActual)>0&&i.criterio1Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio2Periodo(n,t,a,i.periodoActual)>0&&i.criterio2Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio3Periodo(n,t,a,i.periodoActual)>0&&i.criterio3Periodo(n,t,a,i.periodoActual),98!==i.orden?i.promedioAsignatura(n,t,a):""),c=(98!==i.orden&&i.definitivaPeriodo(n,t,a,i.periodoActual),98!==i.orden&&i.recuperacion(n,t,a,i.periodoActual),98!==i.orden?i.notaFinal(n,t,a,i.periodoActual):""),v=i.ausencias(n,t,a,"ausJ"),h=i.ausencias(n,t,a,"ausS"),p=98==i.orden?"":v>0?v:"",f=98==i.orden?"":h>0?h:"",m=null!=o.docente?o.docente:"",b=o.idAsignaturaCurso,g=i.mostrarHabilitacion(e,b),A=2===r?i.umbralesT[0]:i.umbralesA[0];g.habilitacion>0&&g.habilitacion<A&&(i.perdioPorHabilitacion=1);var x=98!==i.orden?i.desempeno(g.habilitacion>u?g.habilitacion:u,t,r,i.orden):"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td>").concat(g.fecha,"</td>\n                <td>").concat(g.acta,"</td>\n                <td>").concat(g.habilitacion,"</td>\n                <td>").concat(g.habilitacion>u?g.habilitacion:u,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="12" class="descriptor" style="text-align: left"></td></tr>\n            '):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td></td>\n                <td></td>\n                <td>").concat(c,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,a,5,i.orden),"</td></tr>\n            ")})).join(""),r=i.ausenciasArea(n,t,"ausJ"),s=i.ausenciasArea(n,t,"ausS"),l=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),d=98!==i.orden?i.promedioArea(n,t):"",u=98!==i.orden&&99!=i.orden?i.promedioFinalArea(n,t,e):99===i.orden?i.promedioArea(n,t):"",c=98!==i.orden?i.desempenoArea(u,t,i.tipoArea,i.orden):"",v=98==i.orden?"":r>0?r:"",h=98==i.orden?"":s>0?s:"",p=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          ")})).join("")},mostrarHabilitacion:function(t,n){var i=this.listaHabilitaciones.find((function(i){return i.id_matricula===t&&i.id_asignatura_curso===n}));if(void 0!==i){var e=i.habilitacion>0?i.habilitacion.toFixed(1):"",o=null!==i.fecha&&""!==i.fecha?i.fecha.substr(0,10):"",a=null!=i.acta?i.acta:"";return{habilitacion:e,acta:a,fecha:o}}return{habilitacion:"",acta:"",fecha:""}},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i,e){if(99==e)return"I"==t?"Insuficiente":"B"==t?"Bueno":"S"==t?"Sobresaliente":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},desempenoArea:function(t,n,i,e){if(99==e)return"I"==t?"Insuficiente":"B"==t?"Bueno":"S"==t?"Sobresaliente":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},calcularPromedioGeneralPorAreasFinales:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=parseFloat(i.promedioArea(t,e,n));isNaN(r)||(o+=r,a++)})),a>0?(o/a).toFixed(3):"0.000"},estadosFinalesEstudiante:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=i.listaAreasAsignaturas.find((function(t){return t.area===e})),s=null===r||void 0===r?void 0:r.idTipoArea,l=parseFloat(i.promedioFinalArea(t,e,n));isNaN(l)||(a++,1===s?l<i.umbralesA[0]&&o++:l<i.umbralesT[0]&&o++)})),0!=a?1==this.$store.state.idSeccion?0==o?"APROB칍 EL GRADO":"REPROB칍":0==o?"APROB칍 EL SEMESTRE":"REPROB칍 EL SEMESTRE":"REPROB칍 (Sin Notas)"},generarRankingCurso:function(t){var n=this,i=[];Object.entries(this.estudiantesNotas).forEach((function(e){var o=Object(v["a"])(e,2),a=o[0],r=o[1],s=parseFloat(n.calcularPromedioGeneralPorAreasFinales(r,t));isNaN(s)||i.push({nombre:a,promedio:s})})),i.sort((function(t,n){return n.promedio-t.promedio}));for(var e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:(i[o].puesto=e,e++);return i},puestoEstudiante:function(t,n){var i=this.generarRankingCurso(n),e=i.find((function(n){return n.nombre===t}));return(null===e||void 0===e?void 0:e.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3.5:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var S=[20,20,30,30];if(12==m){for(var y=0,F=1;F<=4;F++){var P,N=null!==(P=b.periodos[F])&&void 0!==P?P:0;N>0&&(g+=N,y++)}return 0===g?"":(g/=y,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var E=1;E<=4;E++){var D,B=null!==(D=b.periodos[E])&&void 0!==D?D:0;g+=B*S[E-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var j=[20,35,35,0];if(55==m){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=b.periodos[O])&&void 0!==T?T:0;V>0&&(g+=V,I++)}return 0===g?"":(g/=I,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=b.periodos[w])&&void 0!==R?R:0;g+=J*j[w-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var k,H=null!==(k=b.periodos[5])&&void 0!==k?k:0;return H>0?H.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var $,L=null!==($=b.periodos[5])&&void 0!==$?$:0;return L>0?L.toFixed(1):""}if("17ee4f30-fc80-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){for(var M=1;M<=4;M++){var G,U=null!==(G=b.periodos[M])&&void 0!==G?G:0;U>0&&(g+=U)}if(0===g)return"";var z=1==this.$store.state.idSeccion?g/4:g;return this.redondear(z).toFixed(1)>0?this.redondear(z).toFixed(1):""}for(var Y=0,q=1;q<=4;q++){var Z,X=null!==(Z=b.periodos[q])&&void 0!==Z?Z:0;X>0&&(g+=X,Y++)}if(0===g)return"";var K=g/Y;return this.redondear(K).toFixed(1)>0?this.redondear(K).toFixed(1):""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},promedioAsignaturaDefinitivo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=this,x=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===x)return"";var _=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,C=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p?void 0:p[i],S=null===(f=t.areas)||void 0===f||null===(m=f[n])||void 0===m||null===(b=m.asignaturas)||void 0===b||null===(g=b[i])||void 0===g?void 0:g.idAsignaturaCurso,y=this.mostrarHabilitacion(e,S),F=y.habilitacion>0?y.habilitacion:0;if(!C)return"";var P=0,N=0;if(99==_&&0==this.tipoValComp){var E=function(t){var n=C.periodos[t],i=A.letrasCompor.findIndex((function(t){return t===n}));P+=A.umbralesA[i],N++};for(var D in C.periodos)E(D);var B=N>0?this.redondear(P/N).toFixed(1):0;return B<=this.umbralesA[0]?this.letrasCompor[0]:B<=this.umbralesA[1]?this.letrasCompor[1]:B<=this.umbralesA[2]?this.letrasCompor[2]:B<=this.umbralesA[3]?this.letrasCompor[3]:B}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var j=[20,20,30,30];if(12==_){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=C.periodos[O])&&void 0!==T?T:0;V>0&&(P+=V,I++)}return 0===P?"":(P/=I,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=C.periodos[w])&&void 0!==R?R:0;P+=J*j[w-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var k=[20,35,35,0];if(55==_){for(var H=0,$=1;$<=4;$++){var L,M=null!==(L=C.periodos[$])&&void 0!==L?L:0;M>0&&(P+=M,H++)}return 0===P?"":(P/=H,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var G=1;G<=4;G++){var U,z=null!==(U=C.periodos[G])&&void 0!==U?U:0;P+=z*k[G-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Y,q=null!==(Y=C.periodos[5])&&void 0!==Y?Y:0;return q>0?q.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Z,X=null!==(Z=C.periodos[5])&&void 0!==Z?Z:0;return X>0?X.toFixed(1):""}if("17ee4f30-fc80-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){for(var K=1;K<=4;K++){var Q,W=null!==(Q=C.periodos[K])&&void 0!==Q?Q:0;W>0&&(P+=W)}if(0===P)return"";var tt=1==this.$store.state.idSeccion?P/4:P;return this.redondear(tt).toFixed(1)>0?F>this.redondear(tt).toFixed(1)?F:this.redondear(tt).toFixed(1):""}for(var nt=0,it=1;it<=4;it++){var et,ot=null!==(et=C.periodos[it])&&void 0!==et?et:0;ot>0&&(P+=ot,nt++)}if(0===P)return"";var at=P/nt;return this.redondear(at).toFixed(1)>0?F>this.redondear(at).toFixed(1)?F:this.redondear(at).toFixed(1):""},promedioFinalArea:function(t,n,i){var e,o,a,r,s,l,d=this,u=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!u.length)return"";var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.orden,v=u.reduce((function(t){return t}));if(99==c&&0==this.tipoValComp)return this.promedioAsignaturaDefinitivo(t,n,v,i);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var h=u.reduce((function(e,o){var a,r,s,l;return e+parseFloat(d.promedioAsignaturaDefinitivo(t,n,o,i)*(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l?void 0:l.porcentaje)/100)}),0);return h>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S,y,F,P,N,E,D=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===D)return"";var B=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==B&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))>0?null===(S=t.areas)||void 0===S||null===(y=S[n])||void 0===y||null===(F=y.asignaturas)||void 0===F||null===(P=F[i])||void 0===P||null===(N=P.periodos)||void 0===N||null===(E=N[e])||void 0===E?void 0:E.toFixed(1):""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={idAsignaturaCurso:null===C||void 0===C?void 0:C.idAsignaturaCurso,intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.letrasCompor=["J","B","A","S"],this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.colDesem=7,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},Sn=Cn,yn=Object(m["a"])(Sn,xn,_n,!1,null,"bcc25988",null),Fn=yn.exports,Pn=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},Nn=[],En={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String,listaHabilitaciones:Array},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0,tipoArea:1,perdioPorHabilitacion:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i=t.idMatricula;this.perdioPorHabilitacion=0;var e='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>INFORME VALORATIVO DEFINITIVO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o Definitivo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?e+="\n                  <th>Fecha</th>\n                  <th>Acta</th>\n                  <th>Supera</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ":e+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",e+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:30%; text-align: left">').concat(this.estadosFinalesEstudiante(n,i),'</th>\n                <th style="width:15%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n,i),'</strong></th>\n                <th style="width:15%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre,i),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),e+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=t.idMatricula,o=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return o.map((function(t){var o=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),a=o.map((function(o){i.orden=o.orden;var a=o.asignatura;i.asignatur=a;var r=o.idTipoEspecialidad;i.tipoArea=o.idTipoArea;var s=o.nombreAsignatura,l=98!==i.orden?o.ih:"",d=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,a,e):"","</td>")})).join(""),u=(98==i.orden||i.criterio1Periodo(n,t,a,i.periodoActual)>0&&i.criterio1Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio2Periodo(n,t,a,i.periodoActual)>0&&i.criterio2Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio3Periodo(n,t,a,i.periodoActual)>0&&i.criterio3Periodo(n,t,a,i.periodoActual),98!==i.orden?i.promedioAsignatura(n,t,a):""),c=(98!==i.orden&&i.definitivaPeriodo(n,t,a,i.periodoActual),98!==i.orden&&i.recuperacion(n,t,a,i.periodoActual),98!==i.orden?i.notaFinal(n,t,a,i.periodoActual):""),v=i.ausencias(n,t,a,"ausJ"),h=i.ausencias(n,t,a,"ausS"),p=98==i.orden?"":v>0?v:"",f=98==i.orden?"":h>0?h:"",m=null!=o.docente?o.docente:"",b=o.idAsignaturaCurso,g=i.mostrarHabilitacion(e,b),A=2===r?i.umbralesT[0]:i.umbralesA[0];g.habilitacion>0&&g.habilitacion<A&&(i.perdioPorHabilitacion=1);var x=98!==i.orden?i.desempeno(g.habilitacion>u?g.habilitacion:u,t,r,i.orden):"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td>").concat(g.fecha,"</td>\n                <td>").concat(g.acta,"</td>\n                <td>").concat(g.habilitacion,"</td>\n                <td>").concat(g.habilitacion>u?g.habilitacion:u,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="12" class="descriptor" style="text-align: left"></td></tr>\n            '):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td></td>\n                <td></td>\n                <td>").concat(c,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,a,5,i.orden),"</td></tr>\n            ")})).join(""),r=i.ausenciasArea(n,t,"ausJ"),s=i.ausenciasArea(n,t,"ausS"),l=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),d=98!==i.orden?i.promedioArea(n,t):"",u=98!==i.orden&&99!=i.orden?i.promedioFinalArea(n,t,e):99===i.orden?i.promedioArea(n,t):"",c=98!==i.orden?i.desempenoArea(u,t,i.tipoArea,i.orden):"",v=98==i.orden?"":r>0?r:"",h=98==i.orden?"":s>0?s:"",p=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          ")})).join("")},mostrarHabilitacion:function(t,n){var i=this.listaHabilitaciones.find((function(i){return i.id_matricula===t&&i.id_asignatura_curso===n}));if(void 0!==i){var e=i.habilitacion>0?i.habilitacion.toFixed(1):"",o=null!==i.fecha&&""!==i.fecha?i.fecha.substr(0,10):"",a=null!=i.acta?i.acta:"";return{habilitacion:e,acta:a,fecha:o}}return{habilitacion:"",acta:"",fecha:""}},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i,e){if(99==e)return"A"==t?"Anormativo":"P"==t?"Persistente":"E"==t?"Emp치tico":"I"==t?"Integro":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},desempenoArea:function(t,n,i,e){if(99==e)return"A"==t?"Anormativo":"P"==t?"Persistente":"E"==t?"Emp치tico":"I"==t?"Integro":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},calcularPromedioGeneralPorAreasFinales:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=parseFloat(i.promedioArea(t,e,n));isNaN(r)||(o+=r,a++)})),a>0?(o/a).toFixed(3):"0.000"},estadosFinalesEstudiante:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden&&12!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden&&12!==t.orden})).map((function(t){return t.area}))));var o=0;return e.forEach((function(e){var a=i.listaAreasAsignaturas.find((function(t){return t.area===e})),r=null===a||void 0===a?void 0:a.idTipoArea,s=parseFloat(i.promedioFinalArea(t,e,n));isNaN(s)||(1===r?s<i.umbralesA[0]&&o++:s<i.umbralesT[0]&&o++)})),1==this.perdioPorHabilitacion&&(o=100),0==o?"EL ESTUDIANTE APROB칍 EL GRADO":"ESTUDIANTE REPROBADO"},generarRankingCurso:function(t){var n=this,i=[];Object.entries(this.estudiantesNotas).forEach((function(e){var o=Object(v["a"])(e,2),a=o[0],r=o[1],s=parseFloat(n.calcularPromedioGeneralPorAreasFinales(r,t));isNaN(s)||i.push({nombre:a,promedio:s})})),i.sort((function(t,n){return n.promedio-t.promedio}));for(var e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:(i[o].puesto=e,e++);return i},puestoEstudiante:function(t,n){var i=this.generarRankingCurso(n),e=i.find((function(n){return n.nombre===t}));return(null===e||void 0===e?void 0:e.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3.5:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}var S=[20,20,30,30];if(12==m){for(var y=0,F=1;F<=4;F++){var P,N=null!==(P=b.periodos[F])&&void 0!==P?P:0;N>0&&(g+=N,y++)}return 0===g?"":(g/=y,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var E=1;E<=4;E++){var D,B=null!==(D=b.periodos[E])&&void 0!==D?D:0;g+=B*S[E-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"*"},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},promedioAsignaturaDefinitivo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=this,x=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===x)return"";var _=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,C=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p?void 0:p[i],S=null===(f=t.areas)||void 0===f||null===(m=f[n])||void 0===m||null===(b=m.asignaturas)||void 0===b||null===(g=b[i])||void 0===g?void 0:g.idAsignaturaCurso,y=this.mostrarHabilitacion(e,S),F=y.habilitacion>0?y.habilitacion:0;if(!C)return"";var P=0,N=0;if(99==_&&0==this.tipoValComp){var E=function(t){var n=C.periodos[t],i=A.letrasCompor.findIndex((function(t){return t===n}));P+=A.umbralesA[i],N++};for(var D in C.periodos)E(D);var B=N>0?this.redondear(P/N).toFixed(1):0;return B<=this.umbralesA[0]?this.letrasCompor[0]:B<=this.umbralesA[1]?this.letrasCompor[1]:B<=this.umbralesA[2]?this.letrasCompor[2]:B<=this.umbralesA[3]?this.letrasCompor[3]:B}var j=[20,20,30,30];if(12==_){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=C.periodos[O])&&void 0!==T?T:0;V>0&&(P+=V,I++)}return 0===P?"":(P/=I,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=C.periodos[w])&&void 0!==R?R:0;P+=J*j[w-1]/100}return this.redondear(P).toFixed(1)>0?F>this.redondear(P).toFixed(1)?F:this.redondear(P).toFixed(1):"*"},promedioFinalArea:function(t,n,i){var e,o,a,r,s,l,d=this,u=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!u.length)return"";var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.orden,v=u.reduce((function(t){return t}));if(99==c&&0==this.tipoValComp)return this.promedioAsignaturaDefinitivo(t,n,v,i);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var h=u.reduce((function(e,o){var a,r,s,l;return e+parseFloat(d.promedioAsignaturaDefinitivo(t,n,o,i)*(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l?void 0:l.porcentaje)/100)}),0);return h>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S,y,F,P,N,E,D=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===D)return"";var B=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==B&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))>0?null===(S=t.areas)||void 0===S||null===(y=S[n])||void 0===y||null===(F=y.asignaturas)||void 0===F||null===(P=F[i])||void 0===P||null===(N=P.periodos)||void 0===N||null===(E=N[e])||void 0===E?void 0:E.toFixed(1):""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={idAsignaturaCurso:null===C||void 0===C?void 0:C.idAsignaturaCurso,intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.letrasCompor=["J","B","A","S"],this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.colDesem=7,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},Dn=En,Bn=Object(m["a"])(Dn,Pn,Nn,!1,null,"32909932",null),jn=Bn.exports,In=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},On=[],Tn={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String,listaHabilitaciones:Array},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0,tipoArea:1,perdioPorHabilitacion:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i=t.idMatricula;this.perdioPorHabilitacion=0;var e='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>INFORME VALORATIVO DEFINITIVO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o Definitivo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?e+="\n                  <th>Fecha</th>\n                  <th>Acta</th>\n                  <th>Supera</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ":e+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",e+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:30%; text-align: left">').concat(this.estadosFinalesEstudiante(n,i),'</th>\n                <th style="width:15%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n,i),'</strong></th>\n                <th style="width:15%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre,i),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),e+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=t.idMatricula,o=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return o.map((function(t){var o=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),a=o.map((function(o){i.orden=o.orden;var a=o.asignatura;i.asignatur=a;var r=o.idTipoEspecialidad;i.tipoArea=o.idTipoArea;var s=o.nombreAsignatura,l=98!==i.orden?o.ih:"",d=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,a,e):"","</td>")})).join(""),u=(98==i.orden||i.criterio1Periodo(n,t,a,i.periodoActual)>0&&i.criterio1Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio2Periodo(n,t,a,i.periodoActual)>0&&i.criterio2Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio3Periodo(n,t,a,i.periodoActual)>0&&i.criterio3Periodo(n,t,a,i.periodoActual),98!==i.orden?i.promedioAsignatura(n,t,a):""),c=(98!==i.orden&&i.definitivaPeriodo(n,t,a,i.periodoActual),98!==i.orden&&i.recuperacion(n,t,a,i.periodoActual),98!==i.orden?i.notaFinal(n,t,a,i.periodoActual):""),v=i.ausencias(n,t,a,"ausJ"),h=i.ausencias(n,t,a,"ausS"),p=98==i.orden?"":v>0?v:"",f=98==i.orden?"":h>0?h:"",m=null!=o.docente?o.docente:"",b=o.idAsignaturaCurso,g=i.mostrarHabilitacion(e,b),A=2===r?i.umbralesT[0]:i.umbralesA[0];g.habilitacion>0&&g.habilitacion<A&&(i.perdioPorHabilitacion=1);var x=98!==i.orden?i.desempeno(g.habilitacion>u?g.habilitacion:u,t,r,i.orden):"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td>").concat(g.fecha,"</td>\n                <td>").concat(g.acta,"</td>\n                <td>").concat(g.habilitacion,"</td>\n                <td>").concat(g.habilitacion>u?g.habilitacion:u,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="12" class="descriptor" style="text-align: left"></td></tr>\n            '):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td></td>\n                <td></td>\n                <td>").concat(c,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,a,5,i.orden),"</td></tr>\n            ")})).join(""),r=i.ausenciasArea(n,t,"ausJ"),s=i.ausenciasArea(n,t,"ausS"),l=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),d=98!==i.orden?i.promedioArea(n,t):"",u=98!==i.orden&&99!=i.orden?i.promedioFinalArea(n,t,e):99===i.orden?i.promedioArea(n,t):"",c=98!==i.orden?i.desempenoArea(u,t,i.tipoArea,i.orden):"",v=98==i.orden?"":r>0?r:"",h=98==i.orden?"":s>0?s:"",p=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          ")})).join("")},mostrarHabilitacion:function(t,n){var i=this.listaHabilitaciones.find((function(i){return i.id_matricula===t&&i.id_asignatura_curso===n}));if(void 0!==i){var e=i.habilitacion>0?i.habilitacion.toFixed(1):"",o=null!==i.fecha&&""!==i.fecha?i.fecha.substr(0,10):"",a=null!=i.acta?i.acta:"";return{habilitacion:e,acta:a,fecha:o}}return{habilitacion:"",acta:"",fecha:""}},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i,e){if(999==e)return"J"==t?"Bajo":"B"==t?"B치sico":"A"==t?"Alto":"S"==t?"Superior":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},desempenoArea:function(t,n,i,e){if(999==e)return"J"==t?"Bajo":"B"==t?"B치sico":"A"==t?"Alto":"S"==t?"Superior":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},calcularPromedioGeneralPorAreasFinales:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=parseFloat(i.promedioArea(t,e,n));isNaN(r)||(o+=r,a++)})),a>0?(o/a).toFixed(3):"0.000"},estadosFinalesEstudiante:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=i.listaAreasAsignaturas.find((function(t){return t.area===e})),s=null===r||void 0===r?void 0:r.idTipoArea,l=parseFloat(i.promedioFinalArea(t,e,n));isNaN(l)||(a++,1===s?l<i.umbralesA[0]&&o++:l<i.umbralesT[0]&&o++)})),0!=a?(1==this.perdioPorHabilitacion&&(o=100),1==this.$store.state.idSeccion?0==o?"APROB칍 EL GRADO":"REPROB칍":0==o?"APROB칍 EL SEMESTRE":"REPROB칍 EL SEMESTRE"):"REPROB칍 (Sin Notas)"},generarRankingCurso:function(t){var n=this,i=[];Object.entries(this.estudiantesNotas).forEach((function(e){var o=Object(v["a"])(e,2),a=o[0],r=o[1],s=parseFloat(n.calcularPromedioGeneralPorAreasFinales(r,t));isNaN(s)||i.push({nombre:a,promedio:s})})),i.sort((function(t,n){return n.promedio-t.promedio}));for(var e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:(i[o].puesto=e,e++);return i},puestoEstudiante:function(t,n){var i=this.generarRankingCurso(n),e=i.find((function(n){return n.nombre===t}));return(null===e||void 0===e?void 0:e.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3.5:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var S=[20,20,30,30];if(12==m){for(var y=0,F=1;F<=4;F++){var P,N=null!==(P=b.periodos[F])&&void 0!==P?P:0;N>0&&(g+=N,y++)}return 0===g?"":(g/=y,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var E=1;E<=4;E++){var D,B=null!==(D=b.periodos[E])&&void 0!==D?D:0;g+=B*S[E-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var j=[20,35,35,0];if(55==m){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=b.periodos[O])&&void 0!==T?T:0;V>0&&(g+=V,I++)}return 0===g?"":(g/=I,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=b.periodos[w])&&void 0!==R?R:0;g+=J*j[w-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var k,H=null!==(k=b.periodos[5])&&void 0!==k?k:0;return H>0?H.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var $,L=null!==($=b.periodos[5])&&void 0!==$?$:0;return L>0?L.toFixed(1):""}for(var M=0,G=1;G<=4;G++){var U,z=null!==(U=b.periodos[G])&&void 0!==U?U:0;z>0&&(g+=z,M++)}if(0===g)return"";var Y=g/M;return this.redondear(Y).toFixed(1)>0?this.redondear(Y).toFixed(1):""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},promedioAsignaturaDefinitivo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=this,x=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===x)return"";var _=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,C=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p?void 0:p[i],S=null===(f=t.areas)||void 0===f||null===(m=f[n])||void 0===m||null===(b=m.asignaturas)||void 0===b||null===(g=b[i])||void 0===g?void 0:g.idAsignaturaCurso,y=this.mostrarHabilitacion(e,S),F=y.habilitacion>0?y.habilitacion:0;if(!C)return"";var P=0,N=0;if(99==_&&0==this.tipoValComp){var E=function(t){var n=C.periodos[t],i=A.letrasCompor.findIndex((function(t){return t===n}));P+=A.umbralesA[i],N++};for(var D in C.periodos)E(D);var B=N>0?this.redondear(P/N).toFixed(1):0;return B<=this.umbralesA[0]?this.letrasCompor[0]:B<=this.umbralesA[1]?this.letrasCompor[1]:B<=this.umbralesA[2]?this.letrasCompor[2]:B<=this.umbralesA[3]?this.letrasCompor[3]:B}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var j=[20,20,30,30];if(12==_){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=C.periodos[O])&&void 0!==T?T:0;V>0&&(P+=V,I++)}return 0===P?"":(P/=I,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=C.periodos[w])&&void 0!==R?R:0;P+=J*j[w-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var k=[20,35,35,0];if(55==_){for(var H=0,$=1;$<=4;$++){var L,M=null!==(L=C.periodos[$])&&void 0!==L?L:0;M>0&&(P+=M,H++)}return 0===P?"":(P/=H,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var G=1;G<=4;G++){var U,z=null!==(U=C.periodos[G])&&void 0!==U?U:0;P+=z*k[G-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Y,q=null!==(Y=C.periodos[5])&&void 0!==Y?Y:0;return q>0?q.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Z,X=null!==(Z=C.periodos[5])&&void 0!==Z?Z:0;return X>0?X.toFixed(1):""}for(var K=0,Q=1;Q<=4;Q++){var W,tt=null!==(W=C.periodos[Q])&&void 0!==W?W:0;tt>0&&(P+=tt,K++)}if(0===P)return"";var nt=P/K;return this.redondear(nt).toFixed(1)>0?F>this.redondear(nt).toFixed(1)?F:this.redondear(nt).toFixed(1):""},promedioFinalArea:function(t,n,i){var e,o,a,r,s,l,d=this,u=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!u.length)return"";var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.orden,v=u.reduce((function(t){return t}));if(99==c&&0==this.tipoValComp)return this.promedioAsignaturaDefinitivo(t,n,v,i);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var h=u.reduce((function(e,o){var a,r,s,l;return e+parseFloat(d.promedioAsignaturaDefinitivo(t,n,o,i)*(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l?void 0:l.porcentaje)/100)}),0);return h>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S,y,F,P,N,E,D=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===D)return"";var B=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==B&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))>0?null===(S=t.areas)||void 0===S||null===(y=S[n])||void 0===y||null===(F=y.asignaturas)||void 0===F||null===(P=F[i])||void 0===P||null===(N=P.periodos)||void 0===N||null===(E=N[e])||void 0===E?void 0:E.toFixed(1):""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={idAsignaturaCurso:null===C||void 0===C?void 0:C.idAsignaturaCurso,intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.letrasCompor=["J","B","A","S"],this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.colDesem=7,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},Vn=Tn,wn=Object(m["a"])(Vn,In,On,!1,null,"00a51a6f",null),Rn=wn.exports,Jn=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},kn=[],Hn={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String,listaHabilitaciones:Array},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0,tipoArea:1,perdioPorHabilitacion:0,siHabilito:0,observaFinales:""}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i=t.idMatricula;this.perdioPorHabilitacion=0,this.siHabilito=0;var e='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>INFORME VALORATIVO DEFINITIVO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o Definitivo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?e+="\n                  <th>Fecha</th>\n                  <th>Acta</th>\n                  <th>Supera</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ":e+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",e+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:30%; text-align: left">').concat(null===this.observacionComision(t.obs_comision)?this.estadosFinalesEstudiante(n,i):"",'</th>\n                <th style="width:15%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n,i),'</strong></th>\n                <th style="width:15%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre,i),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"<br>").concat(null===this.observacionComision(t.obs_comision)?"":this.observacionComision(t.obs_comision),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),e+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=t.idMatricula,o=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return o.map((function(t){var o=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),a=o.map((function(o){i.orden=o.orden;var a=o.asignatura;i.asignatur=a;var r=o.idTipoEspecialidad;i.tipoArea=o.idTipoArea;var s=o.nombreAsignatura,l=98!==i.orden?o.ih:"",d=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,a,e):"","</td>")})).join(""),u=(98==i.orden||i.criterio1Periodo(n,t,a,i.periodoActual)>0&&i.criterio1Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio2Periodo(n,t,a,i.periodoActual)>0&&i.criterio2Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio3Periodo(n,t,a,i.periodoActual)>0&&i.criterio3Periodo(n,t,a,i.periodoActual),98!==i.orden?i.promedioAsignatura(n,t,a):""),c=(98!==i.orden&&i.definitivaPeriodo(n,t,a,i.periodoActual),98!==i.orden&&i.recuperacion(n,t,a,i.periodoActual),98!==i.orden&&i.notaFinal(n,t,a,i.periodoActual),i.ausencias(n,t,a,"ausJ")),v=i.ausencias(n,t,a,"ausS"),h=98==i.orden?"":c>0?c:"",p=98==i.orden?"":v>0?v:"",f=null!=o.docente?o.docente:"",m=o.idAsignaturaCurso,b=i.mostrarHabilitacion(e,m),g=2===r?i.umbralesT[0]:i.umbralesA[0];b.habilitacion>0&&b.habilitacion<g&&(i.perdioPorHabilitacion=1);var A=98!==i.orden?i.desempeno(b.habilitacion>u?b.habilitacion:u,t,r,i.orden):"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(f,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td>").concat(b.fecha,"</td>\n                <td>").concat(b.acta,"</td>\n                <td>").concat(b.habilitacion,"</td>\n                <td>").concat(u,"</td>\n                <td>").concat(A,"</td>\n                <td>").concat(h,"</td>\n                <td>").concat(p,'</td>\n              </tr>\n              <tr><td colspan="14" class="descriptor" style="text-align: left">').concat("*"+i.descriptorAsignatura(n,t,a,5,i.orden,u),"</td></tr>\n            "):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(f,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td></td>\n                <td></td>\n                <td>").concat(u,"</td>\n                <td>").concat(A,"</td>\n                <td>").concat(h,"</td>\n                <td>").concat(p,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,a,5,i.orden,u),"</td></tr>\n            ")})).join(""),r=i.ausenciasArea(n,t,"ausJ"),s=i.ausenciasArea(n,t,"ausS"),l=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),d=98!==i.orden?i.promedioArea(n,t):"",u=98!==i.orden&&99!=i.orden?i.promedioFinalArea(n,t,e):99===i.orden?i.promedioArea(n,t):"",c=98!==i.orden?i.desempenoArea(u,t,i.tipoArea,i.orden):"",v=98==i.orden?"":r>0?r:"",h=98==i.orden?"":s>0?s:"",p=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(d,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          ")})).join("")},mostrarHabilitacion:function(t,n){var i=this.listaHabilitaciones.find((function(i){return i.id_matricula===t&&i.id_asignatura_curso===n}));if(void 0!==i){this.siHabilito=1;var e=i.habilitacion>0?i.habilitacion.toFixed(1):"",o=null!==i.fecha&&""!==i.fecha?i.fecha.substr(0,10):"",a=null!=i.acta?i.acta:"";return{habilitacion:e,acta:a,fecha:o}}return{habilitacion:"",acta:"",fecha:""}},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o,a){var r,s,l,d=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l?void 0:l[i],u=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!d||!u)return"";if("S"===d.pd||"S"===d.concep)return d.inclusion||"";var c=0;if(c=99===o&&0==this.tipoValComp?"I"==a?2:"A"==a?3:"S"==a?4:"E"==a?5:2:98===o?5:a,isNaN(c))return"";var v=u.idTipoEspecialidad,h=2===v?this.umbralesT[0]:this.umbralesA[0],p=2===v?this.umbralesT[1]:this.umbralesA[1],f=2===v?this.umbralesT[2]:this.umbralesA[2],m=2===v?this.umbralesT[3]:this.umbralesA[3],b=null;b=c<h?1:c<p?2:c<f?3:c<=m?4:999;var g=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===u.idAsignaturaCurso&&t.id_concepto_valorativo===b}));return(null===g||void 0===g?void 0:g.descriptor)||""},desempeno:function(t,n,i,e){if(99==e)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"S"==t?"Sobresaliente":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},desempenoArea:function(t,n,i,e){if(99==e)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"S"==t?"Sobresaliente":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},calcularPromedioGeneralPorAreasFinales:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=parseFloat(i.promedioArea(t,e,n));isNaN(r)||(o+=r,a++)})),a>0?(o/a).toFixed(3):"0.000"},estadosFinalesEstudiante:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0;return e.forEach((function(e){var a=i.listaAreasAsignaturas.find((function(t){return t.area===e})),r=null===a||void 0===a?void 0:a.idTipoArea,s=parseFloat(i.promedioFinalArea(t,e,n));isNaN(s)||(1===r?s<i.umbralesA[0]&&o++:s<i.umbralesT[0]&&o++)})),1==this.perdioPorHabilitacion&&(o=100),1==this.siHabilito&&0==o?"PROMOVIDO":0==o?"APROB칍 EL GRADO":"REPROBADO"},generarRankingCurso:function(t){var n=this,i=[];Object.entries(this.estudiantesNotas).forEach((function(e){var o=Object(v["a"])(e,2),a=o[0],r=o[1],s=parseFloat(n.calcularPromedioGeneralPorAreasFinales(r,t));isNaN(s)||i.push({nombre:a,promedio:s})})),i.sort((function(t,n){return n.promedio-t.promedio}));for(var e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:(i[o].puesto=e,e++);return i},puestoEstudiante:function(t,n){var i=this.generarRankingCurso(n),e=i.find((function(n){return n.nombre===t}));return(null===e||void 0===e?void 0:e.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3.5:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===p)return"";var f=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,m=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!m)return"";var b=0;if(99==f&&0==this.tipoValComp)return m.periodos[5];if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var g=[20,20,30,30];if(12==f){for(var A=0,x=1;x<=4;x++){var _,C=null!==(_=m.periodos[x])&&void 0!==_?_:0;C>0&&(b+=C,A++)}return 0===b?"":(b/=A,this.redondear(b).toFixed(1)>0?this.redondear(b).toFixed(1):"")}for(var S=1;S<=4;S++){var y,F=null!==(y=m.periodos[S])&&void 0!==y?y:0;b+=F*g[S-1]/100}return this.redondear(b).toFixed(1)>0?this.redondear(b).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var P=[20,35,35,0];if(55==f){for(var N=0,E=1;E<=4;E++){var D,B=null!==(D=m.periodos[E])&&void 0!==D?D:0;B>0&&(b+=B,N++)}return 0===b?"":(b/=N,this.redondear(b).toFixed(1)>0?this.redondear(b).toFixed(1):"")}for(var j=1;j<=4;j++){var I,O=null!==(I=m.periodos[j])&&void 0!==I?I:0;b+=O*P[j-1]/100}return this.redondear(b).toFixed(1)>0?this.redondear(b).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var T,V=null!==(T=m.periodos[5])&&void 0!==T?T:0;return V>0?V.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var w,R=null!==(w=m.periodos[5])&&void 0!==w?w:0;return R>0?R.toFixed(1):""}for(var J=0,k=1;k<=4;k++){var H,$=null!==(H=m.periodos[k])&&void 0!==H?H:0;$>0&&(b+=$,J++)}if(0===b)return"";var L=b/J;return this.redondear(L).toFixed(1)>0?this.redondear(L).toFixed(1):""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},promedioAsignaturaDefinitivo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=this,x=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===x)return"";var _=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,C=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p?void 0:p[i],S=null===(f=t.areas)||void 0===f||null===(m=f[n])||void 0===m||null===(b=m.asignaturas)||void 0===b||null===(g=b[i])||void 0===g?void 0:g.idAsignaturaCurso,y=this.mostrarHabilitacion(e,S),F=y.habilitacion>0?y.habilitacion:0;if(!C)return"";var P=0,N=0;if(99==_&&0==this.tipoValComp){var E=function(t){var n=C.periodos[t],i=A.letrasCompor.findIndex((function(t){return t===n}));P+=A.umbralesA[i],N++};for(var D in C.periodos)E(D);var B=N>0?this.redondear(P/N).toFixed(1):0;return B<=this.umbralesA[0]?this.letrasCompor[0]:B<=this.umbralesA[1]?this.letrasCompor[1]:B<=this.umbralesA[2]?this.letrasCompor[2]:B<=this.umbralesA[3]?this.letrasCompor[3]:B}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var j=[20,20,30,30];if(12==_){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=C.periodos[O])&&void 0!==T?T:0;V>0&&(P+=V,I++)}return 0===P?"":(P/=I,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=C.periodos[w])&&void 0!==R?R:0;P+=J*j[w-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var k=[20,35,35,0];if(55==_){for(var H=0,$=1;$<=4;$++){var L,M=null!==(L=C.periodos[$])&&void 0!==L?L:0;M>0&&(P+=M,H++)}return 0===P?"":(P/=H,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var G=1;G<=4;G++){var U,z=null!==(U=C.periodos[G])&&void 0!==U?U:0;P+=z*k[G-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Y,q=null!==(Y=C.periodos[5])&&void 0!==Y?Y:0;return q>0?q.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Z,X=null!==(Z=C.periodos[5])&&void 0!==Z?Z:0;return X>0?X.toFixed(1):""}for(var K=0,Q=1;Q<=4;Q++){var W,tt=null!==(W=C.periodos[Q])&&void 0!==W?W:0;tt>0&&(P+=tt,K++)}if(0===P)return"";var nt=P/K;return this.redondear(nt).toFixed(1)>0?F>this.redondear(nt).toFixed(1)?F:this.redondear(nt).toFixed(1):""},promedioFinalArea:function(t,n,i){var e,o,a,r,s,l,d=this,u=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!u.length)return"";var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.orden,v=u.reduce((function(t){return t}));if(99==c&&0==this.tipoValComp)return this.promedioAsignaturaDefinitivo(t,n,v,i);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var h=u.reduce((function(e,o){var a,r,s,l;return e+parseFloat(d.promedioAsignaturaDefinitivo(t,n,o,i)*(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l?void 0:l.porcentaje)/100)}),0);return h>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S,y,F,P,N,E,D=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===D)return"";var B=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==B&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))>0?null===(S=t.areas)||void 0===S||null===(y=S[n])||void 0===y||null===(F=y.asignaturas)||void 0===F||null===(P=F[i])||void 0===P||null===(N=P.periodos)||void 0===N||null===(E=N[e])||void 0===E?void 0:E.toFixed(1):""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},observacionComision:function(t){return null===t||""===t?null:t},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={idAsignaturaCurso:null===C||void 0===C?void 0:C.idAsignaturaCurso,intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.letrasCompor=["J","B","A","S"],this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.colDesem=7,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},$n=Hn,Ln=Object(m["a"])($n,Jn,kn,!1,null,"e46a3392",null),Mn=Ln.exports,Gn=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},Un=[],zn={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String,listaHabilitaciones:Array},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0,tipoArea:1,perdioPorHabilitacion:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i=t.idMatricula;this.perdioPorHabilitacion=0;var e='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>INFORME VALORATIVO DEFINITIVO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th>츼rea / Asignatura</th>\n                <th>IH</th>\n                <th>Definitiva</th>\n                <th>Desempe침o</th>\n                <th>AJ</th>\n                <th>AS</th>\n              </tr>\n            </thead>\n            <tbody>\n              ').concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:30%; text-align: left">').concat(this.estadosFinalesEstudiante(n,i),'</th>\n                <th style="width:15%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n,i),'</strong></th>\n                <th style="width:15%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre,i),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:50px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        ");return e+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=t.idMatricula,o=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return o.map((function(t){var o=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),a=o.map((function(o){i.orden=o.orden;var a=o.asignatura;i.asignatur=a;var r=o.idTipoEspecialidad;i.tipoArea=o.idTipoArea;var s=o.nombreAsignatura,l=98!==i.orden?o.ih:"",d=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,a,e):"","</td>")})).join(""),u=(98==i.orden||i.criterio1Periodo(n,t,a,i.periodoActual)>0&&i.criterio1Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio2Periodo(n,t,a,i.periodoActual)>0&&i.criterio2Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio3Periodo(n,t,a,i.periodoActual)>0&&i.criterio3Periodo(n,t,a,i.periodoActual),98!==i.orden?i.promedioAsignatura(n,t,a):""),c=(98!==i.orden&&i.definitivaPeriodo(n,t,a,i.periodoActual),98!==i.orden&&i.recuperacion(n,t,a,i.periodoActual),98!==i.orden?i.notaFinal(n,t,a,i.periodoActual):""),v=i.ausencias(n,t,a,"ausJ"),h=i.ausencias(n,t,a,"ausS"),p=98==i.orden?"":v>0?v:"",f=98==i.orden?"":h>0?h:"",m=null!=o.docente?o.docente:"",b=o.idAsignaturaCurso,g=i.mostrarHabilitacion(e,b),A=2===r?i.umbralesT[0]:i.umbralesA[0];g.habilitacion>0&&g.habilitacion<A&&(i.perdioPorHabilitacion=1);var x=98!==i.orden?i.desempeno(g.habilitacion>u?g.habilitacion:u,t,r,i.orden):"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                <td>").concat(u,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="12" class="descriptor" style="text-align: left"></td></tr>\n            '):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td></td>\n                <td></td>\n                <td>").concat(c,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,a,5,i.orden),"</td></tr>\n            ")})).join(""),r=i.ausenciasArea(n,t,"ausJ"),s=i.ausenciasArea(n,t,"ausS"),l=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),d=98!==i.orden?i.promedioArea(n,t):"",u=98!==i.orden&&99!=i.orden?i.promedioFinalArea(n,t,e):99===i.orden?i.promedioArea(n,t):"",c=98!==i.orden?i.desempenoArea(u,t,i.tipoArea,i.orden):"",v=98==i.orden?"":r>0?r:"",h=98==i.orden?"":s>0?s:"",p=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              <td>").concat(d,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          ")})).join("")},mostrarHabilitacion:function(t,n){var i=this.listaHabilitaciones.find((function(i){return i.id_matricula===t&&i.id_asignatura_curso===n}));if(void 0!==i){var e=i.habilitacion>0?i.habilitacion.toFixed(1):"",o=null!==i.fecha&&""!==i.fecha?i.fecha.substr(0,10):"",a=null!=i.acta?i.acta:"";return{habilitacion:e,acta:a,fecha:o}}return{habilitacion:"",acta:"",fecha:""}},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i,e){if(999==e)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"B"==t?"Bueno":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},desempenoArea:function(t,n,i,e){if(999==e)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"B"==t?"Bueno":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},calcularPromedioGeneralPorAreasFinales:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=parseFloat(i.promedioArea(t,e,n));isNaN(r)||(o+=r,a++)})),a>0?(o/a).toFixed(3):"0.000"},estadosFinalesEstudiante:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0;return e.forEach((function(e){var a=i.listaAreasAsignaturas.find((function(t){return t.area===e})),r=null===a||void 0===a?void 0:a.idTipoArea,s=parseFloat(i.promedioFinalArea(t,e,n));isNaN(s)||(1===r?s<i.umbralesA[0]&&o++:s<i.umbralesT[0]&&o++)})),1==this.perdioPorHabilitacion&&(o=100),0==o?"EL ESTUDIANTE APROB칍 EL GRADO":"ESTUDIANTE REPROBADO"},generarRankingCurso:function(t){var n=this,i=[];Object.entries(this.estudiantesNotas).forEach((function(e){var o=Object(v["a"])(e,2),a=o[0],r=o[1],s=parseFloat(n.calcularPromedioGeneralPorAreasFinales(r,t));isNaN(s)||i.push({nombre:a,promedio:s})})),i.sort((function(t,n){return n.promedio-t.promedio}));for(var e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:(i[o].puesto=e,e++);return i},puestoEstudiante:function(t,n){var i=this.generarRankingCurso(n),e=i.find((function(n){return n.nombre===t}));return(null===e||void 0===e?void 0:e.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3.5:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var S=[20,20,30,30];if(12==m){for(var y=0,F=1;F<=4;F++){var P,N=null!==(P=b.periodos[F])&&void 0!==P?P:0;N>0&&(g+=N,y++)}return 0===g?"":(g/=y,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var E=1;E<=4;E++){var D,B=null!==(D=b.periodos[E])&&void 0!==D?D:0;g+=B*S[E-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var j=[20,35,35,0];if(55==m){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=b.periodos[O])&&void 0!==T?T:0;V>0&&(g+=V,I++)}return 0===g?"":(g/=I,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=b.periodos[w])&&void 0!==R?R:0;g+=J*j[w-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var k,H=null!==(k=b.periodos[5])&&void 0!==k?k:0;return H>0?H.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var $,L=null!==($=b.periodos[5])&&void 0!==$?$:0;return L>0?L.toFixed(1):""}for(var M=0,G=1;G<=4;G++){var U,z=null!==(U=b.periodos[G])&&void 0!==U?U:0;z>0&&(g+=z,M++)}if(0===g)return"";var Y=g/M;return this.redondear(Y).toFixed(1)>0?this.redondear(Y).toFixed(1):""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},promedioAsignaturaDefinitivo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=this,x=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===x)return"";var _=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,C=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p?void 0:p[i],S=null===(f=t.areas)||void 0===f||null===(m=f[n])||void 0===m||null===(b=m.asignaturas)||void 0===b||null===(g=b[i])||void 0===g?void 0:g.idAsignaturaCurso,y=this.mostrarHabilitacion(e,S),F=y.habilitacion>0?y.habilitacion:0;if(!C)return"";var P=0,N=0;if(99==_&&0==this.tipoValComp){var E=function(t){var n=C.periodos[t],i=A.letrasCompor.findIndex((function(t){return t===n}));P+=A.umbralesA[i],N++};for(var D in C.periodos)E(D);var B=N>0?this.redondear(P/N).toFixed(1):0;return B<=this.umbralesA[0]?this.letrasCompor[0]:B<=this.umbralesA[1]?this.letrasCompor[1]:B<=this.umbralesA[2]?this.letrasCompor[2]:B<=this.umbralesA[3]?this.letrasCompor[3]:B}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var j=[20,20,30,30];if(12==_){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=C.periodos[O])&&void 0!==T?T:0;V>0&&(P+=V,I++)}return 0===P?"":(P/=I,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=C.periodos[w])&&void 0!==R?R:0;P+=J*j[w-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var k=[20,35,35,0];if(55==_){for(var H=0,$=1;$<=4;$++){var L,M=null!==(L=C.periodos[$])&&void 0!==L?L:0;M>0&&(P+=M,H++)}return 0===P?"":(P/=H,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var G=1;G<=4;G++){var U,z=null!==(U=C.periodos[G])&&void 0!==U?U:0;P+=z*k[G-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Y,q=null!==(Y=C.periodos[5])&&void 0!==Y?Y:0;return q>0?q.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Z,X=null!==(Z=C.periodos[5])&&void 0!==Z?Z:0;return X>0?X.toFixed(1):""}for(var K=0,Q=1;Q<=4;Q++){var W,tt=null!==(W=C.periodos[Q])&&void 0!==W?W:0;tt>0&&(P+=tt,K++)}if(0===P)return"";var nt=P/K;return this.redondear(nt).toFixed(1)>0?F>this.redondear(nt).toFixed(1)?F:this.redondear(nt).toFixed(1):""},promedioFinalArea:function(t,n,i){var e,o,a,r,s,l,d=this,u=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!u.length)return"";var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.orden,v=u.reduce((function(t){return t}));if(99==c&&0==this.tipoValComp)return this.promedioAsignaturaDefinitivo(t,n,v,i);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var h=u.reduce((function(e,o){var a,r,s,l;return e+parseFloat(d.promedioAsignaturaDefinitivo(t,n,o,i)*(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l?void 0:l.porcentaje)/100)}),0);return h>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S,y,F,P,N,E,D=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===D)return"";var B=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==B&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))>0?null===(S=t.areas)||void 0===S||null===(y=S[n])||void 0===y||null===(F=y.asignaturas)||void 0===F||null===(P=F[i])||void 0===P||null===(N=P.periodos)||void 0===N||null===(E=N[e])||void 0===E?void 0:E.toFixed(1):""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={idAsignaturaCurso:null===C||void 0===C?void 0:C.idAsignaturaCurso,intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.letrasCompor=["J","B","A","S"],this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.colDesem=7,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},Yn=zn,qn=Object(m["a"])(Yn,Gn,Un,!1,null,"2a458ed1",null),Zn=qn.exports,Xn=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},Kn=[],Qn={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String,listaHabilitaciones:Array},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0,tipoArea:1,perdioPorHabilitacion:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i=t.idMatricula;this.perdioPorHabilitacion=0;var e='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>INFORME VALORATIVO DEFINITIVO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th>츼rea / Asignatura</th>\n                <th>IH</th>\n                <th>Definitiva</th>\n                <th>Desempe침o</th>\n                <th>AJ</th>\n                <th>AS</th>\n              </tr>\n            </thead>\n            <tbody>\n              ').concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:30%; text-align: left">').concat(this.estadosFinalesEstudiante(n,i),'</th>\n                <th style="width:15%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n,i),'</strong></th>\n                <th style="width:15%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre,i),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:50px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        ");return e+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=t.idMatricula,o=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return o.map((function(t){var o=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),a=o.map((function(o){i.orden=o.orden;var a=o.asignatura;i.asignatur=a;var r=o.idTipoEspecialidad;i.tipoArea=o.idTipoArea;var s=o.nombreAsignatura,l=98!==i.orden?o.ih:"",d=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,a,e):"","</td>")})).join(""),u=(98==i.orden||i.criterio1Periodo(n,t,a,i.periodoActual)>0&&i.criterio1Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio2Periodo(n,t,a,i.periodoActual)>0&&i.criterio2Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio3Periodo(n,t,a,i.periodoActual)>0&&i.criterio3Periodo(n,t,a,i.periodoActual),98!==i.orden?i.promedioAsignatura(n,t,a):""),c=(98!==i.orden&&i.definitivaPeriodo(n,t,a,i.periodoActual),98!==i.orden&&i.recuperacion(n,t,a,i.periodoActual),98!==i.orden?i.notaFinal(n,t,a,i.periodoActual):""),v=i.ausencias(n,t,a,"ausJ"),h=i.ausencias(n,t,a,"ausS"),p=98==i.orden?"":v>0?v:"",f=98==i.orden?"":h>0?h:"",m=null!=o.docente?o.docente:"",b=o.idAsignaturaCurso,g=i.mostrarHabilitacion(e,b),A=2===r?i.umbralesT[0]:i.umbralesA[0];g.habilitacion>0&&g.habilitacion<A&&(i.perdioPorHabilitacion=1);var x=98!==i.orden?i.desempeno(g.habilitacion>u?g.habilitacion:u,t,r,i.orden):"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                <td>").concat(u,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="12" class="descriptor" style="text-align: left"></td></tr>\n            '):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td></td>\n                <td></td>\n                <td>").concat(c,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,a,5,i.orden),"</td></tr>\n            ")})).join(""),r=i.ausenciasArea(n,t,"ausJ"),s=i.ausenciasArea(n,t,"ausS"),l=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),d=98!==i.orden?i.promedioArea(n,t):"",u=98!==i.orden&&99!=i.orden?i.promedioFinalArea(n,t,e):99===i.orden?i.promedioArea(n,t):"",c=98!==i.orden?i.desempenoArea(u,t,i.tipoArea,i.orden):"",v=98==i.orden?"":r>0?r:"",h=98==i.orden?"":s>0?s:"",p=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              <td>").concat(d,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          ")})).join("")},mostrarHabilitacion:function(t,n){var i=this.listaHabilitaciones.find((function(i){return i.id_matricula===t&&i.id_asignatura_curso===n}));if(void 0!==i){var e=i.habilitacion>0?i.habilitacion.toFixed(1):"",o=null!==i.fecha&&""!==i.fecha?i.fecha.substr(0,10):"",a=null!=i.acta?i.acta:"";return{habilitacion:e,acta:a,fecha:o}}return{habilitacion:"",acta:"",fecha:""}},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i,e){if(999==e)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"B"==t?"Bueno":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},desempenoArea:function(t,n,i,e){if(999==e)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"B"==t?"Bueno":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},calcularPromedioGeneralPorAreasFinales:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=parseFloat(i.promedioArea(t,e,n));isNaN(r)||(o+=r,a++)})),a>0?(o/a).toFixed(3):"0.000"},estadosFinalesEstudiante:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0;return e.forEach((function(e){var a=i.listaAreasAsignaturas.find((function(t){return t.area===e})),r=null===a||void 0===a?void 0:a.idTipoArea,s=parseFloat(i.promedioFinalArea(t,e,n));isNaN(s)||(1===r?s<i.umbralesA[0]&&o++:s<i.umbralesT[0]&&o++)})),1==this.perdioPorHabilitacion&&(o=100),0==o?"EL ESTUDIANTE APROB칍 EL GRADO":"ESTUDIANTE REPROBADO"},generarRankingCurso:function(t){var n=this,i=[];Object.entries(this.estudiantesNotas).forEach((function(e){var o=Object(v["a"])(e,2),a=o[0],r=o[1],s=parseFloat(n.calcularPromedioGeneralPorAreasFinales(r,t));isNaN(s)||i.push({nombre:a,promedio:s})})),i.sort((function(t,n){return n.promedio-t.promedio}));for(var e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:(i[o].puesto=e,e++);return i},puestoEstudiante:function(t,n){var i=this.generarRankingCurso(n),e=i.find((function(n){return n.nombre===t}));return(null===e||void 0===e?void 0:e.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3.5:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var S=[20,20,30,30];if(12==m){for(var y=0,F=1;F<=4;F++){var P,N=null!==(P=b.periodos[F])&&void 0!==P?P:0;N>0&&(g+=N,y++)}return 0===g?"":(g/=y,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var E=1;E<=4;E++){var D,B=null!==(D=b.periodos[E])&&void 0!==D?D:0;g+=B*S[E-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var j=[20,35,35,0];if(55==m){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=b.periodos[O])&&void 0!==T?T:0;V>0&&(g+=V,I++)}return 0===g?"":(g/=I,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=b.periodos[w])&&void 0!==R?R:0;g+=J*j[w-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var k,H=null!==(k=b.periodos[5])&&void 0!==k?k:0;return H>0?H.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var $,L=null!==($=b.periodos[5])&&void 0!==$?$:0;return L>0?L.toFixed(1):""}for(var M=0,G=1;G<=4;G++){var U,z=null!==(U=b.periodos[G])&&void 0!==U?U:0;z>0&&(g+=z,M++)}if(0===g)return"";var Y=g/M;return this.redondear(Y).toFixed(1)>0?this.redondear(Y).toFixed(1):""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},promedioAsignaturaDefinitivo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=this,x=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===x)return"";var _=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,C=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p?void 0:p[i],S=null===(f=t.areas)||void 0===f||null===(m=f[n])||void 0===m||null===(b=m.asignaturas)||void 0===b||null===(g=b[i])||void 0===g?void 0:g.idAsignaturaCurso,y=this.mostrarHabilitacion(e,S),F=y.habilitacion>0?y.habilitacion:0;if(!C)return"";var P=0,N=0;if(99==_&&0==this.tipoValComp){var E=function(t){var n=C.periodos[t],i=A.letrasCompor.findIndex((function(t){return t===n}));P+=A.umbralesA[i],N++};for(var D in C.periodos)E(D);var B=N>0?this.redondear(P/N).toFixed(1):0;return B<=this.umbralesA[0]?this.letrasCompor[0]:B<=this.umbralesA[1]?this.letrasCompor[1]:B<=this.umbralesA[2]?this.letrasCompor[2]:B<=this.umbralesA[3]?this.letrasCompor[3]:B}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var j=[20,20,30,30];if(12==_){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=C.periodos[O])&&void 0!==T?T:0;V>0&&(P+=V,I++)}return 0===P?"":(P/=I,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=C.periodos[w])&&void 0!==R?R:0;P+=J*j[w-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var k=[20,35,35,0];if(55==_){for(var H=0,$=1;$<=4;$++){var L,M=null!==(L=C.periodos[$])&&void 0!==L?L:0;M>0&&(P+=M,H++)}return 0===P?"":(P/=H,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var G=1;G<=4;G++){var U,z=null!==(U=C.periodos[G])&&void 0!==U?U:0;P+=z*k[G-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Y,q=null!==(Y=C.periodos[5])&&void 0!==Y?Y:0;return q>0?q.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Z,X=null!==(Z=C.periodos[5])&&void 0!==Z?Z:0;return X>0?X.toFixed(1):""}for(var K=0,Q=1;Q<=4;Q++){var W,tt=null!==(W=C.periodos[Q])&&void 0!==W?W:0;tt>0&&(P+=tt,K++)}if(0===P)return"";var nt=P/K;return this.redondear(nt).toFixed(1)>0?F>this.redondear(nt).toFixed(1)?F:this.redondear(nt).toFixed(1):""},promedioFinalArea:function(t,n,i){var e,o,a,r,s,l,d=this,u=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!u.length)return"";var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.orden,v=u.reduce((function(t){return t}));if(99==c&&0==this.tipoValComp)return this.promedioAsignaturaDefinitivo(t,n,v,i);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var h=u.reduce((function(e,o){var a,r,s,l;return e+parseFloat(d.promedioAsignaturaDefinitivo(t,n,o,i)*(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l?void 0:l.porcentaje)/100)}),0);return h>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S,y,F,P,N,E,D=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===D)return"";var B=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==B&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))>0?null===(S=t.areas)||void 0===S||null===(y=S[n])||void 0===y||null===(F=y.asignaturas)||void 0===F||null===(P=F[i])||void 0===P||null===(N=P.periodos)||void 0===N||null===(E=N[e])||void 0===E?void 0:E.toFixed(1):""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={idAsignaturaCurso:null===C||void 0===C?void 0:C.idAsignaturaCurso,intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.letrasCompor=["J","B","A","S"],this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.colDesem=7,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},Wn=Qn,ti=Object(m["a"])(Wn,Xn,Kn,!1,null,"278f2d4a",null),ni=ti.exports,ii=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},ei=[],oi={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String,listaHabilitaciones:Array},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0,tipoArea:1,perdioPorHabilitacion:0,perdioPorFallas:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i=t.idMatricula;this.perdioPorHabilitacion=0,this.perdioPorFallas=0;var e='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>INFORME VALORATIVO DEFINITIVO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o Definitivo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?e+="\n                  <th>Fecha</th>\n                  <th>Acta</th>\n                  <th>Supera</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ":e+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",e+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:30%; text-align: left">').concat(this.estadosFinalesEstudiante(n,i),'</th>\n                <th style="width:15%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n,i),'</strong></th>\n                <th style="width:15%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre,i),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),e+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=t.idMatricula,o=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return o.map((function(t){var o=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),a=o.map((function(o){i.orden=o.orden;var a=o.asignatura;i.asignatur=a;var r=o.idTipoEspecialidad;i.tipoArea=o.idTipoArea;var s=o.nombreAsignatura,l=98!==i.orden?o.ih:"",d=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,a,e):"","</td>")})).join(""),u=(98==i.orden||i.criterio1Periodo(n,t,a,i.periodoActual)>0&&i.criterio1Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio2Periodo(n,t,a,i.periodoActual)>0&&i.criterio2Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio3Periodo(n,t,a,i.periodoActual)>0&&i.criterio3Periodo(n,t,a,i.periodoActual),98!==i.orden?i.promedioAsignatura(n,t,a):""),c=(98!==i.orden&&i.definitivaPeriodo(n,t,a,i.periodoActual),98!==i.orden&&i.recuperacion(n,t,a,i.periodoActual),98!==i.orden?i.notaFinal(n,t,a,i.periodoActual):""),v=i.ausencias(n,t,a,"ausJ"),h=i.ausencias(n,t,a,"ausS"),p=98==i.orden?"":v>0?v:"",f=98==i.orden?"":h>0?h:"",m=null!=o.docente?o.docente:"",b=o.idAsignaturaCurso,g=i.mostrarHabilitacion(e,b),A=2===r?i.umbralesT[0]:i.umbralesA[0];g.habilitacion>0&&g.habilitacion<A&&(i.perdioPorHabilitacion=1);var x=98!==i.orden?i.desempeno(g.habilitacion>u?g.habilitacion:u,t,r,i.orden):"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td>").concat(g.fecha,"</td>\n                <td>").concat(g.acta,"</td>\n                <td>").concat(g.habilitacion,"</td>\n                <td>").concat(g.habilitacion>u?g.habilitacion:u,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="12" class="descriptor" style="text-align: left"></td></tr>\n            '):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td></td>\n                <td></td>\n                <td>").concat(c,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,a,5,i.orden),"</td></tr>\n            ")})).join(""),r=i.ausenciasArea(n,t,"ausJ"),s=i.ausenciasArea(n,t,"ausS"),l=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),d=98!==i.orden?i.promedioArea(n,t):"",u=98!==i.orden&&99!=i.orden?i.promedioFinalArea(n,t,e):99===i.orden?i.promedioArea(n,t):"",c=98!==i.orden?i.desempenoArea(u,t,i.tipoArea,i.orden):"",v=98==i.orden?"":r>0?r:"",h=98==i.orden?"":s>0?s:"",p=98!==i.orden?i.intensidadHorariaArea(n,t):"",f=40*p*.2+1;return 99!==i.orden&&h>=f&&(i.perdioPorFallas=1),7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          ")})).join("")},mostrarHabilitacion:function(t,n){var i=this.listaHabilitaciones.find((function(i){return i.id_matricula===t&&i.id_asignatura_curso===n}));if(void 0!==i){var e=i.habilitacion>0?i.habilitacion.toFixed(1):"",o=null!==i.fecha&&""!==i.fecha?i.fecha.substr(0,10):"",a=null!=i.acta?i.acta:"";return{habilitacion:e,acta:a,fecha:o}}return{habilitacion:"",acta:"",fecha:""}},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i,e){if(99==e)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"B"==t?"Bueno":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},desempenoArea:function(t,n,i,e){if(99==e)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"B"==t?"Bueno":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},calcularPromedioGeneralPorAreasFinales:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=parseFloat(i.promedioArea(t,e,n));isNaN(r)||(o+=r,a++)})),a>0?(o/a).toFixed(3):"0.000"},estadosFinalesEstudiante:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0;return e.forEach((function(e){var a=i.listaAreasAsignaturas.find((function(t){return t.area===e})),r=null===a||void 0===a?void 0:a.idTipoArea,s=parseFloat(i.promedioFinalArea(t,e,n));isNaN(s)||(1===r?s<i.umbralesA[0]&&o++:s<i.umbralesT[0]&&o++)})),1==this.perdioPorHabilitacion&&(o=100),1==this.perdioPorFallas&&(o=999),0==o?"EL ESTUDIANTE APROB칍 EL GRADO":999==o?"ESTUDIANTE REPROBADO POR INASISTENCIA":"ESTUDIANTE REPROBADO"},generarRankingCurso:function(t){var n=this,i=[];Object.entries(this.estudiantesNotas).forEach((function(e){var o=Object(v["a"])(e,2),a=o[0],r=o[1],s=parseFloat(n.calcularPromedioGeneralPorAreasFinales(r,t));isNaN(s)||i.push({nombre:a,promedio:s})})),i.sort((function(t,n){return n.promedio-t.promedio}));for(var e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:(i[o].puesto=e,e++);return i},puestoEstudiante:function(t,n){var i=this.generarRankingCurso(n),e=i.find((function(n){return n.nombre===t}));return(null===e||void 0===e?void 0:e.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3.5:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var S=[20,20,30,30];if(12==m){for(var y=0,F=1;F<=4;F++){var P,N=null!==(P=b.periodos[F])&&void 0!==P?P:0;N>0&&(g+=N,y++)}return 0===g?"":(g/=y,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var E=1;E<=4;E++){var D,B=null!==(D=b.periodos[E])&&void 0!==D?D:0;g+=B*S[E-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var j=[20,35,35,0];if(55==m){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=b.periodos[O])&&void 0!==T?T:0;V>0&&(g+=V,I++)}return 0===g?"":(g/=I,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=b.periodos[w])&&void 0!==R?R:0;g+=J*j[w-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var k,H=null!==(k=b.periodos[5])&&void 0!==k?k:0;return H>0?H.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var $,L=null!==($=b.periodos[5])&&void 0!==$?$:0;return L>0?L.toFixed(1):""}for(var M=0,G=1;G<=4;G++){var U,z=null!==(U=b.periodos[G])&&void 0!==U?U:0;z>0&&(g+=z,M++)}if(0===g)return"";var Y=g/M;return this.redondear(Y).toFixed(1)>0?this.redondear(Y).toFixed(1):""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},promedioAsignaturaDefinitivo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=this,x=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===x)return"";var _=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,C=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p?void 0:p[i],S=null===(f=t.areas)||void 0===f||null===(m=f[n])||void 0===m||null===(b=m.asignaturas)||void 0===b||null===(g=b[i])||void 0===g?void 0:g.idAsignaturaCurso,y=this.mostrarHabilitacion(e,S),F=y.habilitacion>0?y.habilitacion:0;if(!C)return"";var P=0,N=0;if(99==_&&0==this.tipoValComp){var E=function(t){var n=C.periodos[t],i=A.letrasCompor.findIndex((function(t){return t===n}));P+=A.umbralesA[i],N++};for(var D in C.periodos)E(D);var B=N>0?this.redondear(P/N).toFixed(1):0;return B<=this.umbralesA[0]?this.letrasCompor[0]:B<=this.umbralesA[1]?this.letrasCompor[1]:B<=this.umbralesA[2]?this.letrasCompor[2]:B<=this.umbralesA[3]?this.letrasCompor[3]:B}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var j=[20,20,30,30];if(12==_){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=C.periodos[O])&&void 0!==T?T:0;V>0&&(P+=V,I++)}return 0===P?"":(P/=I,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=C.periodos[w])&&void 0!==R?R:0;P+=J*j[w-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var k=[20,35,35,0];if(55==_){for(var H=0,$=1;$<=4;$++){var L,M=null!==(L=C.periodos[$])&&void 0!==L?L:0;M>0&&(P+=M,H++)}return 0===P?"":(P/=H,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var G=1;G<=4;G++){var U,z=null!==(U=C.periodos[G])&&void 0!==U?U:0;P+=z*k[G-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Y,q=null!==(Y=C.periodos[5])&&void 0!==Y?Y:0;return q>0?q.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Z,X=null!==(Z=C.periodos[5])&&void 0!==Z?Z:0;return X>0?X.toFixed(1):""}for(var K=0,Q=1;Q<=4;Q++){var W,tt=null!==(W=C.periodos[Q])&&void 0!==W?W:0;tt>0&&(P+=tt,K++)}if(0===P)return"";var nt=P/K;return this.redondear(nt).toFixed(1)>0?F>this.redondear(nt).toFixed(1)?F:this.redondear(nt).toFixed(1):""},promedioFinalArea:function(t,n,i){var e,o,a,r,s,l,d=this,u=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!u.length)return"";var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.orden,v=u.reduce((function(t){return t}));if(99==c&&0==this.tipoValComp)return this.promedioAsignaturaDefinitivo(t,n,v,i);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var h=u.reduce((function(e,o){var a,r,s,l;return e+parseFloat(d.promedioAsignaturaDefinitivo(t,n,o,i)*(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l?void 0:l.porcentaje)/100)}),0);return h>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S,y,F,P,N,E,D=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===D)return"";var B=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==B&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))>0?null===(S=t.areas)||void 0===S||null===(y=S[n])||void 0===y||null===(F=y.asignaturas)||void 0===F||null===(P=F[i])||void 0===P||null===(N=P.periodos)||void 0===N||null===(E=N[e])||void 0===E?void 0:E.toFixed(1):""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={idAsignaturaCurso:null===C||void 0===C?void 0:C.idAsignaturaCurso,intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.letrasCompor=["J","B","A","S"],this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.colDesem=7,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},ai=oi,ri=Object(m["a"])(ai,ii,ei,!1,null,"e0df0c3a",null),si=ri.exports,li=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("button",{staticClass:"btn btn-success float-right btn-block",on:{click:t.generarPDF}},[t._v("游늯 "+t._s(t.estudiantesSeleccionados.length)+" boletines procesados... Imprimir Boletines o Generar Boletines en PDF")])])},di=[],ui={name:"BoletinPeriodo",props:{estudiantesSeleccionados:Array,listaAreasAsignaturas:Array,notas:Array,datosEstudiantes:Array,listaDescriptores:Array,anio:Number,periodoActual:Number,periodosVisibles:Array,nombreSede:String,nombreCurso:String,nombrePeriodo:String,nombreJornada:String,nombreDirector:String,idNivel:Number,umbralesA:Array,umbralesT:Array,pesosPeriodos:Array,tipoValComp:Number,promCompor:Number,letrasCompor:Array,firmasBoletin:String,descC1:String,descC2:String,descC3:String,listaHabilitaciones:Array},data:function(){return{escudo:null,asignatur:null,orden:0,conceptual:null,datosSeccion:{},colDesem:0,escala:0,tipoArea:1,perdioPorHabilitacion:0}},methods:{nombreDelArea:function(t){var n=this.listaAreasAsignaturas.find((function(n){return n.area===t&&n.nombreArea}));return(null===n||void 0===n?void 0:n.nombreArea)||t},tieneNotasAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a?void 0:a[i],c=null===(r=t.areas)||void 0===r||null===(s=r[n])||void 0===s||null===(l=s.asignaturas)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.orden;return 99==c||!(!u||!u.periodos)&&Object.values(u.periodos).some((function(t){return"number"===typeof t&&!isNaN(t)&&t>0}))},tieneNotasArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.some((function(i){return o.tieneNotasAsignatura(t,n,i)}))},generarPDF:function(){var t=window.open("","_blank"),n=this.generarHTMLBoletines();t.document.write(n),t.document.close(),t.focus()},generarHTMLBoletines:function(){var t=this,n=this.estudiantesSeleccionados.map((function(n){return t.datosEstudiantes.find((function(t){return t.idMatricula===n.idMatricula}))})),i=this.estructurarNotasPorEstudiante(),e="\n        <html>\n        <head>\n          <title>Boletines</title>\n          <style>\n            ".concat(this.estilosBoletin(),"\n          </style>\n        </head>\n        <body>\n          ").concat(n.map((function(n){return t.renderBoletin(n,i[n.nombre])})).join('<div class="page-break"></div>'),"\n        </body>\n        </html>\n      ");return e},renderBoletin:function(t,n){if(!n)return"<p>No hay datos para ".concat(t.nombre,"</p>");var i=t.idMatricula;this.perdioPorHabilitacion=0;var e='\n        <div class="boletin">\n          <div class="text-center mt-2">\n            <p style="text-align: center; font-size: 14px;">SECRETAR칈A DE EDUCACI칍N TERRITORIAL DE TUNJA<br><b>'.concat(this.$store.state.nombreInstitucion,'</b><br>TUNJA - BOYAC츼<br>INFORME VALORATIVO DEFINITIVO</p>\n          </div>\n          <div class="float-left" style="margin-top: -80px;">\n              <img src="').concat(this.escudo,'" width="70px"></img>\n          </div>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:10%; text-align: left">Estudiante:</th><th style="text-align: left">').concat(t.nombre,'</th>\n                <th colspan="2" style="text-align: left">Modalidad:</th><th colspan="2" style="text-align: left">ACAD칄MICA</th>\n                <th style="text-align: left">Vigencia:</th><th style="text-align: left">').concat(this.anio,'</th>\n              </tr>\n              <tr>\n                  <th style="text-align: left">Sede:</th><th style="text-align: left">').concat(this.nombreSede,'</th>\n                  <th style="text-align: left">Jornada:</th><th style="text-align: left">').concat(this.nombreJornada,'</th>\n                  <th style="text-align: left">Curso:</th><th style="text-align: left">').concat(this.nombreCurso,'</th>\n                  <th style="text-align: left">Periodo:</th><th style="text-align: left">').concat(this.nombrePeriodo,'</th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th rowspan="2">츼rea / Asignatura</th>\n                <th rowspan="2">IH</th>\n                <th colspan="').concat(this.periodosVisibles.length+1,'">Historial</th>\n                <th colspan="').concat(this.colDesem,'">Desempe침o Definitivo</th>\n              </tr>\n              <tr>\n                ').concat(this.periodosVisibles.map((function(t){return"<th>P".concat(t,"</th>")})).join(""),"\n                <th>PR</th>\n        ");return 7==this.colDesem?e+="\n                  <th>Fecha</th>\n                  <th>Acta</th>\n                  <th>Supera</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ":e+="\n                  <th>EvP</th>\n                  <th>Rec</th>\n                  <th>Def</th>\n                  <th>Desemp</th>\n                  <th>AJ</th>\n                  <th>AS</th>\n          ",e+="\n              </tr>\n            </thead>\n            <tbody>\n              ".concat(this.renderCuerpoTabla(t,n),'\n            </tbody>\n          </table>\n          <table class="tabla-boletin">\n            <thead>\n              <tr>\n                <th style="width:30%; text-align: left">').concat(this.estadosFinalesEstudiante(n,i),'</th>\n                <th style="width:15%; text-align: left">Promedio: <strong>').concat(this.calcularPromedioGeneralPorAreasFinales(n,i),'</strong></th>\n                <th style="width:15%; text-align: left">Puesto: <strong>').concat(this.puestoEstudiante(t.nombre,i),'</strong></th>\n                <th style="width:20%; text-align: left">Aus.Justificadas: <strong>').concat(this.estudiantesNotas[t.nombre].ausJ,'</strong></th>\n                <th style="width:20%; text-align: left">Aus.SinJustificar: <strong>').concat(this.estudiantesNotas[t.nombre].ausS,'</strong></th>\n              </tr>\n            </thead>\n          </table>\n          <table class="tabla-boletin">\n            <tr>\n              <th>Desempe침os: BAJO [').concat(this.datosSeccion.minBaj.toFixed(1)," : ").concat(this.datosSeccion.maxBaj.toFixed(1),"] | B츼SICO [").concat(this.datosSeccion.minBas.toFixed(1)," : ").concat(this.datosSeccion.maxBas.toFixed(1),"] | ALTO [").concat(this.datosSeccion.minAlt.toFixed(1)," : ").concat(this.datosSeccion.maxAlt.toFixed(1),"] | SUPERIOR [").concat(this.datosSeccion.minSup.toFixed(1)," : ").concat(this.datosSeccion.maxSup.toFixed(1),']</th>\n            </tr>\n          </table>\n          <table class="tabla-boletin observacion-comportamiento">\n            <thead>\n              <tr>\n                <th style="text-align: left; height:100px; padding-left: 10px; vertical-align: top;"><h3>游 Observaciones:</h3>').concat(this.observacionComportamiento(n),"</th>\n              </tr>\n            </thead>\n          </table>\n        "),e+this.firmasBoletin},renderCuerpoTabla:function(t,n){var i=this,e=t.idMatricula,o=Object(h["a"])(new Set(this.listaAreasAsignaturas.map((function(t){return t.area})))).filter((function(t){return i.tieneNotasArea(n,t)}));return o.map((function(t){var o=i.listaAreasAsignaturas.filter((function(e){return e.area===t&&i.tieneNotasAsignatura(n,t,e.asignatura)})),a=o.map((function(o){i.orden=o.orden;var a=o.asignatura;i.asignatur=a;var r=o.idTipoEspecialidad;i.tipoArea=o.idTipoArea;var s=o.nombreAsignatura,l=98!==i.orden?o.ih:"",d=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.notaPeriodo(n,t,a,e):"","</td>")})).join(""),u=(98==i.orden||i.criterio1Periodo(n,t,a,i.periodoActual)>0&&i.criterio1Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio2Periodo(n,t,a,i.periodoActual)>0&&i.criterio2Periodo(n,t,a,i.periodoActual),98==i.orden||i.criterio3Periodo(n,t,a,i.periodoActual)>0&&i.criterio3Periodo(n,t,a,i.periodoActual),98!==i.orden?i.promedioAsignatura(n,t,a):""),c=(98!==i.orden&&i.definitivaPeriodo(n,t,a,i.periodoActual),98!==i.orden&&i.recuperacion(n,t,a,i.periodoActual),98!==i.orden?i.notaFinal(n,t,a,i.periodoActual):""),v=i.ausencias(n,t,a,"ausJ"),h=i.ausencias(n,t,a,"ausS"),p=98==i.orden?"":v>0?v:"",f=98==i.orden?"":h>0?h:"",m=null!=o.docente?o.docente:"",b=o.idAsignaturaCurso,g=i.mostrarHabilitacion(e,b),A=2===r?i.umbralesT[0]:i.umbralesA[0];g.habilitacion>0&&g.habilitacion<A&&(i.perdioPorHabilitacion=1);var x=98!==i.orden?i.desempeno(g.habilitacion>u?g.habilitacion:u,t,r,i.orden):"";return 7==i.colDesem?'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td>").concat(g.fecha,"</td>\n                <td>").concat(g.acta,"</td>\n                <td>").concat(g.habilitacion,"</td>\n                <td>").concat(g.habilitacion>u?g.habilitacion:u,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="12" class="descriptor" style="text-align: left"></td></tr>\n            '):'\n              <tr>\n                <td style="text-align: left"><strong>'.concat(s,'</strong> <br> <i style="font-size: 10px;">').concat(m,"</i></td>\n                <td>").concat(l,"</td>\n                ").concat(d,"\n                <td>").concat(u,"</td>\n                <td></td>\n                <td></td>\n                <td>").concat(c,"</td>\n                <td>").concat(x,"</td>\n                <td>").concat(p,"</td>\n                <td>").concat(f,'</td>\n              </tr>\n              <tr><td colspan="').concat(i.colDesem+6,'" class="descriptor" style="text-align: left">').concat(i.descriptorAsignatura(n,t,a,5,i.orden),"</td></tr>\n            ")})).join(""),r=i.ausenciasArea(n,t,"ausJ"),s=i.ausenciasArea(n,t,"ausS"),l=i.periodosVisibles.map((function(e){return"<td>".concat(98!==i.orden?i.promedioAreaPorPeriodo(n,t,e):"","</td>")})).join(""),d=98!==i.orden?i.promedioArea(n,t):"",u=98!==i.orden&&99!=i.orden?i.promedioFinalArea(n,t,e):99===i.orden?i.promedioArea(n,t):"",c=98!==i.orden?i.desempenoArea(u,t,i.tipoArea,i.orden):"",v=98==i.orden?"":r>0?r:"",h=98==i.orden?"":s>0?s:"",p=98!==i.orden?i.intensidadHorariaArea(n,t):"";return 7==i.colDesem?'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          "):'\n            <tr class="fila-area">\n              <td style="text-align: left"><strong>'.concat(i.nombreDelArea(t),"</strong></td>\n              <td>").concat(p,"</td>\n              ").concat(l,"\n              <td>").concat(d,"</td>\n              <td></td><td></td>\n              <td>").concat(u,"</td>\n              <td>").concat(c,"</td>\n              <td>").concat(v,"</td>\n              <td>").concat(h,"</td>\n            </tr>\n            ").concat(a,"\n          ")})).join("")},mostrarHabilitacion:function(t,n){var i=this.listaHabilitaciones.find((function(i){return i.id_matricula===t&&i.id_asignatura_curso===n}));if(void 0!==i){var e=i.habilitacion>0?i.habilitacion.toFixed(1):"",o=null!==i.fecha&&""!==i.fecha?i.fecha.substr(0,10):"",a=null!=i.acta?i.acta:"";return{habilitacion:e,acta:a,fecha:o}}return{habilitacion:"",acta:"",fecha:""}},estilosBoletin:function(){return"\n        body { font-family: Arial, sans-serif; margin: 5px; }\n        .boletin { page-break-after: always; }\n        .tabla-boletin { width: 100%; border-collapse: collapse; font-size: 0.7rem; margin-top: 0.5rem; }\n        .tabla-boletin th, .tabla-boletin td { border: 1px solid #ccc; padding: 1px 1px; text-align: center; }\n        .fila-area { background-color: #f0f0f0; font-weight: bold; }\n        .descriptor { font-style: italic; background-color: #f9f9f9; text-align: left; }\n        .firmas { margin-top: 5rem; font-size: 0.8rem; }\n        .page-break { page-break-before: always; }\n        .observacion-comportamiento {\n          margin-top: 0.5rem;\n          background-color: #f3f3f3;\n          border-left: 4px solid #888;\n          font-style: italic;\n        }\n      "},descriptorAsignatura:function(t,n,i,e,o){var a,r,s,l=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[i],d=this.listaAreasAsignaturas.find((function(t){return t.area===n&&t.asignatura===i}));if(!l||!d)return"";if("S"===l.pd||"S"===l.concep)return l.inclusion||"";var u=0;if(99===o&&0==this.tipoValComp?(u=parseFloat(this.notaFinal(t,n,i,e)),u=this.escala):u=parseFloat(this.notaFinal(t,n,i,e)),isNaN(u))return"";var c=d.idTipoEspecialidad,v=2===c?this.umbralesT[0]:this.umbralesA[0],h=2===c?this.umbralesT[1]:this.umbralesA[1],p=2===c?this.umbralesT[2]:this.umbralesA[2],f=2===c?this.umbralesT[3]:this.umbralesA[3],m=null;m=u<v?1:u<h?2:u<p?3:u<=f?4:999;var b=this.listaDescriptores.find((function(t){return t.idAsignaturaCurso===d.idAsignaturaCurso&&t.id_concepto_valorativo===m}));return(null===b||void 0===b?void 0:b.descriptor)||""},desempeno:function(t,n,i,e){if(99==e)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"B"==t?"Bueno":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},desempenoArea:function(t,n,i,e){if(99==e)return"I"==t?"Insuficiente":"A"==t?"Aceptable":"B"==t?"Bueno":"E"==t?"Excelente":"";var o=parseFloat(t);if(isNaN(o))return"";var a=2===i?this.umbralesT[0]:this.umbralesA[0],r=2===i?this.umbralesT[1]:this.umbralesA[1],s=2===i?this.umbralesT[2]:this.umbralesA[2],l=2===i?this.umbralesT[3]:this.umbralesA[3];return o<a?"Bajo":o<r?"B치sico":o<s?"Alto":o<=l?"Superior":""},calcularPromedioGeneralPorAreasFinales:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0,a=0;return e.forEach((function(e){var r=parseFloat(i.promedioArea(t,e,n));isNaN(r)||(o+=r,a++)})),a>0?(o/a).toFixed(3):"0.000"},estadosFinalesEstudiante:function(t,n){var i=this,e="";e=1==this.promCompor?Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 98!==t.orden})).map((function(t){return t.area})))):Object(h["a"])(new Set(this.listaAreasAsignaturas.filter((function(t){return 99!==t.orden&&98!==t.orden})).map((function(t){return t.area}))));var o=0;return e.forEach((function(e){var a=i.listaAreasAsignaturas.find((function(t){return t.area===e})),r=null===a||void 0===a?void 0:a.idTipoArea,s=parseFloat(i.promedioFinalArea(t,e,n));isNaN(s)||(1===r?s<i.umbralesA[0]&&o++:s<i.umbralesT[0]&&o++)})),1==this.perdioPorHabilitacion&&(o=100),0==o?"EL ESTUDIANTE APROB칍 EL GRADO":"ESTUDIANTE REPROBADO"},generarRankingCurso:function(t){var n=this,i=[];Object.entries(this.estudiantesNotas).forEach((function(e){var o=Object(v["a"])(e,2),a=o[0],r=o[1],s=parseFloat(n.calcularPromedioGeneralPorAreasFinales(r,t));isNaN(s)||i.push({nombre:a,promedio:s})})),i.sort((function(t,n){return n.promedio-t.promedio}));for(var e=1,o=0;o<i.length;o++)o>0&&i[o].promedio===i[o-1].promedio?i[o].puesto=i[o-1].puesto:(i[o].puesto=e,e++);return i},puestoEstudiante:function(t,n){var i=this.generarRankingCurso(n),e=i.find((function(n){return n.nombre===t}));return(null===e||void 0===e?void 0:e.puesto)||""},definitivaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===b)return"";var g=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,A=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.definitivas)||void 0===m?void 0:m[e];return 99==g&&0==this.tipoValComp?(this.escala=this.letrasCompor.findIndex((function(t){return t===A})),1==this.escala?this.escala=3.5:2==this.escala?this.escala=4:3==this.escala?this.escala=5:this.escala=2,A):"number"===typeof A&&A>0?A.toFixed(1):""},recuperacion:function(t,n,i,e){var o,a,r,s,l,d=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s||null===(l=s.recuperaciones)||void 0===l?void 0:l[e];return"number"===typeof d&&d>0?d.toFixed(1):""},notaFinal:function(t,n,i,e){var o,a,r,s,l=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.orden,d=parseFloat(this.definitivaPeriodo(t,n,i,e)),u=parseFloat(this.recuperacion(t,n,i,e));return 99==l&&0==this.tipoValComp?this.definitivaPeriodo(t,n,i,e):isNaN(d)&&isNaN(u)?"":!isNaN(u)&&u>d?u.toFixed(1):d>0?d.toFixed(1):d},promedioAsignatura:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p=this,f=null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.concep;if("S"===f)return"";var m=null===(s=t.areas)||void 0===s||null===(l=s[n])||void 0===l||null===(d=l.asignaturas)||void 0===d||null===(u=d[i])||void 0===u?void 0:u.orden,b=null===(c=t.areas)||void 0===c||null===(v=c[n])||void 0===v||null===(h=v.asignaturas)||void 0===h?void 0:h[i];if(!b)return"";var g=0,A=0;if(99==m&&0==this.tipoValComp){var x=function(t){var n=b.periodos[t],i=p.letrasCompor.findIndex((function(t){return t===n}));g+=p.umbralesA[i],A++};for(var _ in b.periodos)x(_);var C=A>0?this.redondear(g/A).toFixed(1):0;return C<=this.umbralesA[0]?this.letrasCompor[0]:C<=this.umbralesA[1]?this.letrasCompor[1]:C<=this.umbralesA[2]?this.letrasCompor[2]:C<=this.umbralesA[3]?this.letrasCompor[3]:C}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var S=[20,20,30,30];if(12==m){for(var y=0,F=1;F<=4;F++){var P,N=null!==(P=b.periodos[F])&&void 0!==P?P:0;N>0&&(g+=N,y++)}return 0===g?"":(g/=y,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var E=1;E<=4;E++){var D,B=null!==(D=b.periodos[E])&&void 0!==D?D:0;g+=B*S[E-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var j=[20,35,35,0];if(55==m){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=b.periodos[O])&&void 0!==T?T:0;V>0&&(g+=V,I++)}return 0===g?"":(g/=I,this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=b.periodos[w])&&void 0!==R?R:0;g+=J*j[w-1]/100}return this.redondear(g).toFixed(1)>0?this.redondear(g).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var k,H=null!==(k=b.periodos[5])&&void 0!==k?k:0;return H>0?H.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var $,L=null!==($=b.periodos[5])&&void 0!==$?$:0;return L>0?L.toFixed(1):""}for(var M=0,G=1;G<=4;G++){var U,z=null!==(U=b.periodos[G])&&void 0!==U?U:0;z>0&&(g+=z,M++)}if(0===g)return"";var Y=g/M;return this.redondear(Y).toFixed(1)>0?this.redondear(Y).toFixed(1):""},notaFinalArea:function(t,n){var i=this,e="";if(e=1==this.promCompor?this.listaAreasAsignaturas.filter((function(t){return t.area===n&&98!==t.orden})):this.listaAreasAsignaturas.filter((function(t){return t.area===n&&99!==t.orden&&98!==t.orden})),!e.length)return"*";var o=0;return e.forEach((function(e){var a,r,s,l=e.asignatura,d=e.porcentaje,u=e.orden;if(99===u&&0==i.tipoValComp)return u;var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s?void 0:s[l];if(c){var v=i.notaFinal(t,n,l,i.periodoActual);isNaN(v)||(o+=v*(d/100),d)}})),o>0?this.redondear(o).toFixed(1):""},promedioAsignaturaDefinitivo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A=this,x=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===x)return"";var _=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden,C=null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p?void 0:p[i],S=null===(f=t.areas)||void 0===f||null===(m=f[n])||void 0===m||null===(b=m.asignaturas)||void 0===b||null===(g=b[i])||void 0===g?void 0:g.idAsignaturaCurso,y=this.mostrarHabilitacion(e,S),F=y.habilitacion>0?y.habilitacion:0;if(!C)return"";var P=0,N=0;if(99==_&&0==this.tipoValComp){var E=function(t){var n=C.periodos[t],i=A.letrasCompor.findIndex((function(t){return t===n}));P+=A.umbralesA[i],N++};for(var D in C.periodos)E(D);var B=N>0?this.redondear(P/N).toFixed(1):0;return B<=this.umbralesA[0]?this.letrasCompor[0]:B<=this.umbralesA[1]?this.letrasCompor[1]:B<=this.umbralesA[2]?this.letrasCompor[2]:B<=this.umbralesA[3]?this.letrasCompor[3]:B}if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var j=[20,20,30,30];if(12==_){for(var I=0,O=1;O<=4;O++){var T,V=null!==(T=C.periodos[O])&&void 0!==T?T:0;V>0&&(P+=V,I++)}return 0===P?"":(P/=I,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var w=1;w<=4;w++){var R,J=null!==(R=C.periodos[w])&&void 0!==R?R:0;P+=J*j[w-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"*"}if("eb58bf60-fc83-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion){var k=[20,35,35,0];if(55==_){for(var H=0,$=1;$<=4;$++){var L,M=null!==(L=C.periodos[$])&&void 0!==L?L:0;M>0&&(P+=M,H++)}return 0===P?"":(P/=H,this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):"")}for(var G=1;G<=4;G++){var U,z=null!==(U=C.periodos[G])&&void 0!==U?U:0;P+=z*k[G-1]/100}return this.redondear(P).toFixed(1)>0?this.redondear(P).toFixed(1):""}if("c50f3d80-fca0-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Y,q=null!==(Y=C.periodos[5])&&void 0!==Y?Y:0;return q>0?q.toFixed(1):""}if("8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion){var Z,X=null!==(Z=C.periodos[5])&&void 0!==Z?Z:0;return X>0?X.toFixed(1):""}for(var K=0,Q=1;Q<=4;Q++){var W,tt=null!==(W=C.periodos[Q])&&void 0!==W?W:0;tt>0&&(P+=tt,K++)}if(0===P)return"";var nt=P/K;return this.redondear(nt).toFixed(1)>0?F>this.redondear(nt).toFixed(1)?F:this.redondear(nt).toFixed(1):""},promedioFinalArea:function(t,n,i){var e,o,a,r,s,l,d=this,u=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!u.length)return"";var c=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.orden,v=u.reduce((function(t){return t}));if(99==c&&0==this.tipoValComp)return this.promedioAsignaturaDefinitivo(t,n,v,i);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var h=u.reduce((function(e,o){var a,r,s,l;return e+parseFloat(d.promedioAsignaturaDefinitivo(t,n,o,i)*(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l?void 0:l.porcentaje)/100)}),0);return h>0?this.redondear(h).toFixed(1):""},promedioArea:function(t,n){var i,e,o,a,r,s,l=this,d=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});if(!d.length)return"";var u=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[d])||void 0===s?void 0:s.orden,c=d.reduce((function(t){return t}));if(99==u&&0==this.tipoValComp)return this.promedioAsignatura(t,n,c);if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var v=d.reduce((function(i,e){var o,a,r,s;return i+parseFloat(l.promedioAsignatura(t,n,e)*(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[e])||void 0===s?void 0:s.porcentaje)/100)}),0);return v>0?this.redondear(v).toFixed(1):""},promedioAreaPorPeriodo:function(t,n,i){var e,o,a,r,s,l,d,u,c,v,h,p,f,m,b,g=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});if(!g.length)return"";var A=null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[g])||void 0===l?void 0:l.concep;if("S"===A)return"";var x=null===(d=t.areas)||void 0===d||null===(u=d[n])||void 0===u||null===(c=u.asignaturas)||void 0===c||null===(v=c[g])||void 0===v?void 0:v.orden;if(99==x&&0==this.tipoValComp)return(null===(h=t.areas)||void 0===h||null===(p=h[n])||void 0===p||null===(f=p.asignaturas)||void 0===f||null===(m=f[g])||void 0===m||null===(b=m.periodos)||void 0===b?void 0:b[i])||"";if("acaa36d0-fcb1-11ec-8267-536b07c743c4"==this.$store.state.idInstitucion&&12==this.orden)return"*";var _=g.reduce((function(e,o){var a,r,s,l,d,u,c,v,h,p=(null===(a=t.areas)||void 0===a||null===(r=a[n])||void 0===r||null===(s=r.asignaturas)||void 0===s||null===(l=s[o])||void 0===l||null===(d=l.periodos)||void 0===d?void 0:d[i])*(null===(u=t.areas)||void 0===u||null===(c=u[n])||void 0===c||null===(v=c.asignaturas)||void 0===v||null===(h=v[o])||void 0===h?void 0:h.porcentaje)/100;return e+("number"===typeof p?p:0)}),0);return _>0?this.redondear(_).toFixed(1):""},ausencias:function(t,n,i,e){var o,a,r,s;return Number(null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s[e])||0},ausenciasArea:function(t,n,i){var e,o,a=this,r=Object.keys((null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o?void 0:o.asignaturas)||{});return r.reduce((function(e,o){return e+Number(a.ausencias(t,n,o,i))}),0)},intensidadHorariaAsignatura:function(t,n,i){var e,o,a,r;return(null===(e=t.areas)||void 0===e||null===(o=e[n])||void 0===o||null===(a=o.asignaturas)||void 0===a||null===(r=a[i])||void 0===r?void 0:r.intensidadHoraria)||""},intensidadHorariaArea:function(t,n){var i,e,o=this,a=Object.keys((null===(i=t.areas)||void 0===i||null===(e=i[n])||void 0===e?void 0:e.asignaturas)||{});return a.reduce((function(i,e){return i+o.intensidadHorariaAsignatura(t,n,e)}),0)},notaPeriodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S,y,F,P,N,E,D=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===D)return"";var B=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==B&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.periodos)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.periodos)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))>0?null===(S=t.areas)||void 0===S||null===(y=S[n])||void 0===y||null===(F=y.asignaturas)||void 0===F||null===(P=F[i])||void 0===P||null===(N=P.periodos)||void 0===N||null===(E=N[e])||void 0===E?void 0:E.toFixed(1):""},criterio1Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c1)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c1)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio2Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c2)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c2)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},criterio3Periodo:function(t,n,i,e){var o,a,r,s,l,d,u,c,v,h,p,f,m,b,g,A,x,_,C,S=null===(o=t.areas)||void 0===o||null===(a=o[n])||void 0===a||null===(r=a.asignaturas)||void 0===r||null===(s=r[i])||void 0===s?void 0:s.concep;if("S"===S)return"";var y=null===(l=t.areas)||void 0===l||null===(d=l[n])||void 0===d||null===(u=d.asignaturas)||void 0===u||null===(c=u[i])||void 0===c?void 0:c.orden;return 99==y&&0==this.tipoValComp?(null===(v=t.areas)||void 0===v||null===(h=v[n])||void 0===h||null===(p=h.asignaturas)||void 0===p||null===(f=p[i])||void 0===f||null===(m=f.c3)||void 0===m?void 0:m[e])||"":(null===(b=t.areas)||void 0===b||null===(g=b[n])||void 0===g||null===(A=g.asignaturas)||void 0===A||null===(x=A[i])||void 0===x||null===(_=x.c3)||void 0===_||null===(C=_[e])||void 0===C?void 0:C.toFixed(1))||""},observacionComportamiento:function(t){var n,i,e,o=this.listaAreasAsignaturas.find((function(t){return 99===t.orden}));if(!o)return"";var a=null===(n=t.areas)||void 0===n||null===(i=n[o.area])||void 0===i||null===(e=i.asignaturas)||void 0===e?void 0:e[o.asignatura];return(null===a||void 0===a?void 0:a.observaciones)||""},estructurarNotasPorEstudiante:function(){var t=this,n={};return this.notas.forEach((function(i){var e=i.estudiante,o=i.documento,a=i.area,r=i.asignatura,s=i.periodo,l=i.definitiva,d=i.recuperacion,u=i.C1,c=i.C2,v=i.C3,h=i.definitivacompor,p=i.fechaR,f=i.inclusion,m=i.observaciones,b=i.pd,g=i.concep,A=i.ausJ,x=i.ausS;n[e]||(n[e]={documento:o,ausJ:0,ausS:0,areas:{}});var _=n[e];if(_.areas[a]||(_.areas[a]={asignaturas:{}}),!_.areas[a].asignaturas[r]){var C=t.listaAreasAsignaturas.find((function(t){return t.area===a&&t.asignatura===r}));_.areas[a].asignaturas[r]={idAsignaturaCurso:null===C||void 0===C?void 0:C.idAsignaturaCurso,intensidadHoraria:(null===C||void 0===C?void 0:C.ih)||0,orden:(null===C||void 0===C?void 0:C.orden)||0,porcentaje:(null===C||void 0===C?void 0:C.porcentaje)||100,docente:(null===C||void 0===C?void 0:C.docente)||"",periodos:{},definitivas:{},recuperaciones:{},c1:{},c2:{},c3:{},definitiva:null,recuperacion:null,C1:null,C2:null,C3:null,definitivacompor:null,fechaR:null,inclusion:null,observaciones:null,pd:null,concep:null,ausJ:0,ausS:0}}var S=_.areas[a].asignaturas[r];99==S.orden&&0==t.tipoValComp?(S.periodos[s]=h,S.definitivas[s]=h,S.recuperaciones[s]="",S.c1[s]="",S.c2[s]="",S.c3[s]="",S.definitiva=h,S.recuperacion="",S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g):(S.periodos[s]=d>l?d:l,S.definitivas[s]=l,S.recuperaciones[s]=d,S.c1[s]=u,S.c2[s]=c,S.c3[s]=v,S.definitiva=l,S.recuperacion=d,S.fechaR=p,S.inclusion=f,S.observaciones=m,S.pd=b,S.concep=g),S.ausJ+=A||0,S.ausS+=x||0,_.ausJ+=A||0,_.ausS+=x||0})),n},redondear:function(t){var n=Number((10*Math.abs(t)).toPrecision(15));return Math.round(n)/10*Math.sign(t)}},computed:{estudiantesNotas:function(){return this.estructurarNotasPorEstudiante()}},beforeMount:function(){this.letrasCompor=["J","B","A","S"],this.escudo="https://siedutunja.gov.co/api/colegios/escudos/"+this.$store.state.escudoInstitucion,this.colDesem=7,this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},ci=ui,vi=Object(m["a"])(ci,li,di,!1,null,"30f3feea",null),hi=vi.exports,pi={name:"boletines",components:{VueGoodTable:d["a"],BoletinPeriodoInem:g,BoletinPeriodoGranColombiano:y,BoletinPeriodoGustavoRojas:B,BoletinPeriodoJulius:w,BoletinPeriodoEmiliani:L,BoletinPeriodo:q,BoletinPree:tt,BoletinPeriodoRetirado:rt,BoletinPreeRetirado:vt,BoletinPeriodoReubicado:gt,BoletinPreeReubicado:yt,BoletinPeriodoPromocionado:Bt,BoletinPreePromocionado:wt,BoletinPreeFinal:Lt,BoletinFinal:hi,BoletinFinalRural:qt,BoletinFinalGranColombiano:tn,BoletinFinalSandoval:sn,BoletinFinalJulius:hn,BoletinFinalInem:An,BoletinFinalEnslap:Fn,BoletinFinalEmiliani:jn,BoletinFinalSantiago:Rn,BoletinFinalGustavo:Mn,BoletinFinalLibertador:Zn,BoletinFinalSilvino:ni,BoletinFinalGonzalo:si},data:function(){return{idBoletin:null,idSede:null,comboSedes:[],idPeriodo:null,comboPeriodos:null,idCurso:null,comboCursosSede:[],nombreSede:null,nombreCurso:null,nombrePeriodo:null,nombreJornada:null,nombreDirector:null,coordinador:null,idNivel:null,btnCargando:!1,datosSeccion:{},encabColumnas:[{label:"Apellidos y Nombres del Estudiante",field:"nombre",sortable:!1,tdClass:this.tdClassFuncE},{label:"Estado",field:"estado",sortable:!1,tdClass:this.tdClassFuncE}],estudiantesSeleccionados:[],datosEstudiantes:[],listaAreasAsignaturas:[],listaDescriptores:[],notas:[],periodosVisibles:[],mostrarBoletines:!1,umbralesA:[],umbralesT:[],pesosPeriodos:[],tipoValComp:null,promCompor:null,firmasBoletin:null,escalaPreescolar:{},nuevaEscalaPreescolar:[],letrasCompor:[],descC1:null,descC2:null,descC3:null,listaReportes:[],idGrado:null,listaHabilitaciones:[]}},methods:{procesarBoletinesFinales:function(){var t=this;if(1!=this.idNivel||"17ee4f30-fc80-11ec-a1d1-1dc2835404e5"!=this.$store.state.idInstitucion&&"097b7b10-fcaa-11ec-8267-536b07c743c4"!=this.$store.state.idInstitucion&&"8a1bd1e0-fcb2-11ec-8267-536b07c743c4"!=this.$store.state.idInstitucion){if(this.btnCargando=!0,this.mostrarBoletines=!0,this.estudiantesSeleccionados=this.$refs.estudiantes.selectedRows,1==this.idPeriodo&&(this.periodosVisibles=[1]),2==this.idPeriodo&&(this.periodosVisibles=[1,2]),3==this.idPeriodo&&(this.periodosVisibles=[1,2,3]),4==this.idPeriodo&&(this.periodosVisibles=[1,2,3,4]),5==this.idPeriodo&&(this.periodosVisibles=[1,2,3,4]),this.umbralesA=[this.datosSeccion.minBas,this.datosSeccion.minAlt,this.datosSeccion.minSup,this.datosSeccion.maxSup],this.umbralesT=[this.datosSeccion.minBasT,this.datosSeccion.minAltT,this.datosSeccion.minSupT,this.datosSeccion.maxSupT],this.pesosPeriodos=[this.datosSeccion.pesoP1,this.datosSeccion.pesoP2,this.datosSeccion.pesoP3,this.datosSeccion.pesoP4],this.tipoValComp=this.datosSeccion.tipoValComp,this.promCompor=this.datosSeccion.promCompor,this.escalaPreescolar={I:this.datosSeccion.minBaj,B:this.datosSeccion.minBas,A:this.datosSeccion.minAlt,S:this.datosSeccion.maxSup},this.nuevaEscalaPreescolar=[{letra:this.datosSeccion.preeL1,umbral:this.datosSeccion.minBaj,desempeno:this.datosSeccion.preeC1},{letra:this.datosSeccion.preeL2,umbral:this.datosSeccion.minBas,desempeno:this.datosSeccion.preeC2},{letra:this.datosSeccion.preeL3,umbral:this.datosSeccion.minAlt,desempeno:this.datosSeccion.preeC3},{letra:this.datosSeccion.preeL4,umbral:this.datosSeccion.maxSup,desempeno:this.datosSeccion.preeC4}],this.descC1=""!=this.datosSeccion.nombreC1&&null!=this.datosSeccion.nombreC1?this.datosSeccion.nombreC1.substr(0,3):"C1",this.descC2=""!=this.datosSeccion.nombreC2&&null!=this.datosSeccion.nombreC2?this.datosSeccion.nombreC2.substr(0,3):"C2",this.descC3=""!=this.datosSeccion.nombreC3&&null!=this.datosSeccion.nombreC3?this.datosSeccion.nombreC3.substr(0,3):"C3",this.letrasCompor=[this.datosSeccion.compL1,this.datosSeccion.compL2,this.datosSeccion.compL3,this.datosSeccion.compL4],"115001002602"===this.$store.state.daneInstitucion)this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>MARINA PEDRAZA CANARIA<br>Rectora</p>\n                </td>\n              </tr>\n            </table>\n          ');else if("315001000293"===this.$store.state.daneInstitucion)this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>JUAN CARLOS GONZ츼LEZ GALINDO<br>Rector</p>\n                </td>\n              </tr>\n            </table>\n          ');else if("115001002807"===this.$store.state.daneInstitucion){var n="";n="CLUB DE LEONES"==this.nombreSede?"08"===this.idGrado?"ELSA YOLANDA CASCANTE MOLINA":"CESAR MALPICA ROJAS":"CENTRAL"==this.nombreSede?"ELSA YOLANDA CASCANTE MOLINA":"GLORIA INES VARGAS AVENDA칌O",this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>').concat(n,"<br>Coordinador(a)</p>\n                </td>\n              </tr>\n            </table>\n          ")}else if("115001000367"===this.$store.state.daneInstitucion){var i="";i=("SEDE PRINCIPAL"==this.nombreSede||"SEDE LAS AMERICAS"==this.nombreSede||this.nombreSede,"-"),this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>').concat(i,"<br>Coordinador(a)</p>\n                </td>\n              </tr>\n            </table>\n          ")}else"115001002751"===this.$store.state.daneInstitucion?this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>FLORIBERTO SANCHEZ SALAZAR<br>Rector</p>\n                </td>\n              </tr>\n            </table>\n          '):"115001001061"===this.$store.state.daneInstitucion?this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>MARTHA CECILIA GARCIA MORENO<br>Rectora</p>\n                </td>\n              </tr>\n            </table>\n          '):"215001001007"===this.$store.state.daneInstitucion?this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>JULIO RICARDO ESTUPI칌츼N C츼CERES<br>Rector</p>\n                </td>\n              </tr>\n            </table>\n          '):"315001001613"===this.$store.state.daneInstitucion?this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>JENARO ANTONIO ESPITIA ORDO칌EZ<br>Rector</p>\n                </td>\n              </tr>\n            </table>\n          '):"115001000065"===this.$store.state.daneInstitucion?this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>OMAR SANDOVAL FONSECA<br>Rector</p>\n                </td>\n              </tr>\n            </table>\n          '):"115001000430"===this.$store.state.daneInstitucion?this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>MAURICIO FONSECA ALVAREZ<br>Rector</p>\n                </td>\n              </tr>\n            </table>\n          '):"315001001893"===this.$store.state.daneInstitucion?this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>CAMILO GAL츼N GAL츼N<br>Coordinador</p>\n                </td>\n              </tr>\n            </table>\n          '):this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,"<br>Director(a) de Curso</p>\n                </td>\n              </tr>\n            </table>\n          ");setTimeout((function(){t.btnCargando=!1}),500)}else{this.listaReportes=[],this.idPeriodo="17ee4f30-fc80-11ec-a1d1-1dc2835404e5"==this.$store.state.idInstitucion?4:5,this.$refs.estudiantes.selectedRows.forEach((function(n){t.listaReportes.push({id:n.idMatricula,estudiante:n.nombre,pue:n.puesto,pro:n.promedio})}));var e="DEFINITIVO",o=document.getElementById("sedes")[document.getElementById("sedes").selectedIndex].text,a=document.getElementById("cursos")[document.getElementById("cursos").selectedIndex].text,r="?datos="+JSON.stringify(this.listaReportes)+"&ie="+this.$store.state.nombreInstitucion+"&vigencia="+this.$store.state.aLectivo+"&escudo="+this.$store.state.escudoInstitucion+"&sede="+o+"&idCurso="+this.idCurso+"&curso="+a+"&jornada="+this.nombreJornada+"&director="+this.nombreDirector+"&periodo="+e+"&idPeriodo="+this.idPeriodo+"&idIe="+this.$store.state.idInstitucion+"&idNivel="+this.idNivel+"&puesto="+this.puesto+"&minBaj="+this.$store.state.datosSecciones[0].minBaj+"&maxBaj="+this.$store.state.datosSecciones[0].maxBaj+"&minBas="+this.$store.state.datosSecciones[0].minBas+"&maxBas="+this.$store.state.datosSecciones[0].maxBas+"&minAlt="+this.$store.state.datosSecciones[0].minAlt+"&maxAlt="+this.$store.state.datosSecciones[0].maxAlt+"&minSup="+this.$store.state.datosSecciones[0].minSup+"&maxSup="+this.$store.state.datosSecciones[0].maxSup,s=encodeURI(r);window.open("https://siedutunja.gov.co/php/boletines/"+this.$store.state.daneInstitucion+"asFinal.php"+s,"_blank")}},procesarBoletines:function(){var t=this;if(1!=this.idNivel||"17ee4f30-fc80-11ec-a1d1-1dc2835404e5"!=this.$store.state.idInstitucion&&"097b7b10-fcaa-11ec-8267-536b07c743c4"!=this.$store.state.idInstitucion&&"8a1bd1e0-fcb2-11ec-8267-536b07c743c4"!=this.$store.state.idInstitucion){if(this.btnCargando=!0,this.mostrarBoletines=!0,this.estudiantesSeleccionados=this.$refs.estudiantes.selectedRows,1==this.idPeriodo&&(this.periodosVisibles=[1]),2==this.idPeriodo&&(this.periodosVisibles=[1,2]),3==this.idPeriodo&&(this.periodosVisibles=[1,2,3]),4==this.idPeriodo&&(this.periodosVisibles=[1,2,3,4]),5==this.idPeriodo&&(this.periodosVisibles=[1,2,3,4]),this.umbralesA=[this.datosSeccion.minBas,this.datosSeccion.minAlt,this.datosSeccion.minSup,this.datosSeccion.maxSup],this.umbralesT=[this.datosSeccion.minBasT,this.datosSeccion.minAltT,this.datosSeccion.minSupT,this.datosSeccion.maxSupT],this.pesosPeriodos=[this.datosSeccion.pesoP1,this.datosSeccion.pesoP2,this.datosSeccion.pesoP3,this.datosSeccion.pesoP4],this.tipoValComp=this.datosSeccion.tipoValComp,this.promCompor=this.datosSeccion.promCompor,this.escalaPreescolar={I:this.datosSeccion.minBaj,B:this.datosSeccion.minBas,A:this.datosSeccion.minAlt,S:this.datosSeccion.maxSup},this.nuevaEscalaPreescolar=[{letra:this.datosSeccion.preeL1,umbral:this.datosSeccion.minBaj,desempeno:this.datosSeccion.preeC1},{letra:this.datosSeccion.preeL2,umbral:this.datosSeccion.minBas,desempeno:this.datosSeccion.preeC2},{letra:this.datosSeccion.preeL3,umbral:this.datosSeccion.minAlt,desempeno:this.datosSeccion.preeC3},{letra:this.datosSeccion.preeL4,umbral:this.datosSeccion.maxSup,desempeno:this.datosSeccion.preeC4}],this.descC1=""!=this.datosSeccion.nombreC1&&null!=this.datosSeccion.nombreC1?this.datosSeccion.nombreC1.substr(0,3):"C1",this.descC2=""!=this.datosSeccion.nombreC2&&null!=this.datosSeccion.nombreC2?this.datosSeccion.nombreC2.substr(0,3):"C2",this.descC3=""!=this.datosSeccion.nombreC3&&null!=this.datosSeccion.nombreC3?this.datosSeccion.nombreC3.substr(0,3):"C3",this.letrasCompor=[this.datosSeccion.compL1,this.datosSeccion.compL2,this.datosSeccion.compL3,this.datosSeccion.compL4],"115001002602"===this.$store.state.daneInstitucion)this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>MARINA PEDRAZA CANARIA<br>Rectora</p>\n                </td>\n              </tr>\n            </table>\n          ');else if("315001000293"===this.$store.state.daneInstitucion)this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>JUAN CARLOS GONZ츼LEZ GALINDO<br>Rector</p>\n                </td>\n              </tr>\n            </table>\n          ');else if("115001002807"===this.$store.state.daneInstitucion){var n="";n="CLUB DE LEONES"==this.nombreSede?"08"===this.idGrado?"ELSA YOLANDA CASCANTE MOLINA":"CESAR MALPICA ROJAS":"CENTRAL"==this.nombreSede?"ELSA YOLANDA CASCANTE MOLINA":"GLORIA INES VARGAS AVENDA칌O",this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>').concat(n,"<br>Coordinador(a)</p>\n                </td>\n              </tr>\n            </table>\n          ")}else if("115001000367"===this.$store.state.daneInstitucion){var i="";i=("SEDE PRINCIPAL"==this.nombreSede||"SEDE LAS AMERICAS"==this.nombreSede||this.nombreSede,"-"),this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>').concat(i,"<br>Coordinador(a)</p>\n                </td>\n              </tr>\n            </table>\n          ")}else"115001002751"===this.$store.state.daneInstitucion?this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>FLORIBERTO SANCHEZ SALAZAR<br>Rector</p>\n                </td>\n              </tr>\n            </table>\n          '):"115001001061"===this.$store.state.daneInstitucion?this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>MARTHA CECILIA GARCIA MORENO<br>Rectora</p>\n                </td>\n              </tr>\n            </table>\n          '):"215001001007"===this.$store.state.daneInstitucion?this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>JULIO RICARDO ESTUPI칌츼N C츼CERES<br>Rector</p>\n                </td>\n              </tr>\n            </table>\n          '):"315001001613"===this.$store.state.daneInstitucion?this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>JENARO ANTONIO ESPITIA ORDO칌EZ<br>Rector</p>\n                </td>\n              </tr>\n            </table>\n          '):"115001000065"===this.$store.state.daneInstitucion?this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>OMAR SANDOVAL FONSECA<br>Rector</p>\n                </td>\n              </tr>\n            </table>\n          '):"115001000430"===this.$store.state.daneInstitucion?this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>MAURICIO FONSECA ALVAREZ<br>Rector</p>\n                </td>\n              </tr>\n            </table>\n          '):"315001001893"===this.$store.state.daneInstitucion?this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,'<br>Director(a) de Curso</p>\n                </td>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>CAMILO GAL츼N GAL츼N<br>Coordinador</p>\n                </td>\n              </tr>\n            </table>\n          '):this.firmasBoletin='\n            <table class="firmas" style="width: 100%;">\n              <tr>\n                <td style="width: 50%;">\n                  <p>________________________________________<br>'.concat(this.nombreDirector,"<br>Director(a) de Curso</p>\n                </td>\n              </tr>\n            </table>\n          ");setTimeout((function(){t.btnCargando=!1}),500)}else{this.listaReportes=[],this.$refs.estudiantes.selectedRows.forEach((function(n){t.listaReportes.push({id:n.idMatricula,estudiante:n.nombre,pue:n.puesto,pro:n.promedio})}));var e=document.getElementById("sedes")[document.getElementById("sedes").selectedIndex].text,o=document.getElementById("cursos")[document.getElementById("cursos").selectedIndex].text,a=document.getElementById("periodo")[document.getElementById("periodo").selectedIndex].text,r="?datos="+JSON.stringify(this.listaReportes)+"&ie="+this.$store.state.nombreInstitucion+"&vigencia="+this.$store.state.aLectivo+"&escudo="+this.$store.state.escudoInstitucion+"&sede="+e+"&idCurso="+this.idCurso+"&curso="+o+"&jornada="+this.nombreJornada+"&director="+this.nombreDirector+"&periodo="+a+"&idPeriodo="+this.idPeriodo+"&idIe="+this.$store.state.idInstitucion+"&idNivel="+this.idNivel+"&puesto="+this.puesto+"&minBaj="+this.$store.state.datosSecciones[0].minBaj+"&maxBaj="+this.$store.state.datosSecciones[0].maxBaj+"&minBas="+this.$store.state.datosSecciones[0].minBas+"&maxBas="+this.$store.state.datosSecciones[0].maxBas+"&minAlt="+this.$store.state.datosSecciones[0].minAlt+"&maxAlt="+this.$store.state.datosSecciones[0].maxAlt+"&minSup="+this.$store.state.datosSecciones[0].minSup+"&maxSup="+this.$store.state.datosSecciones[0].maxSup,s=encodeURI(r);window.open("https://siedutunja.gov.co/php/boletines/"+this.$store.state.daneInstitucion+"as.php"+s,"_blank")}},consultarNotas:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.notas=[],1!=t.idBoletin){n.next=6;break}return n.next=4,s.a.get(l["d"]+"boletines/notas/curso/periodo",{params:{idCurso:t.idCurso,periodo:t.idPeriodo,vigencia:t.$store.state.aLectivo}}).then((function(n){n.data.error?(t.mensajeEmergente("danger",l["h"],n.data.mensaje+" - Notas boletines curso periodo"),t.btnCargando=!1):0!=n.data.datos&&(t.notas=n.data.datos)})).catch((function(n){t.mensajeEmergente("danger",l["h"],"Algo salio mal y no se pudo realizar: Notas boletines curso periodo. Intente m치s tarde."+n),t.btnCargando=!1}));case 4:n.next=26;break;case 6:if(2!=t.idBoletin){n.next=11;break}return n.next=9,s.a.get(l["d"]+"boletines/notas/curso/periodo/retirados",{params:{idCurso:t.idCurso,periodo:t.idPeriodo,vigencia:t.$store.state.aLectivo}}).then((function(n){n.data.error?(t.mensajeEmergente("danger",l["h"],n.data.mensaje+" - Notas boletines curso periodo"),t.btnCargando=!1):0!=n.data.datos&&(t.notas=n.data.datos)})).catch((function(n){t.mensajeEmergente("danger",l["h"],"Algo salio mal y no se pudo realizar: Notas boletines curso periodo. Intente m치s tarde."+n),t.btnCargando=!1}));case 9:n.next=26;break;case 11:if(3!=t.idBoletin){n.next=16;break}return n.next=14,s.a.get(l["d"]+"boletines/notas/curso/periodo/reubicados",{params:{idCurso:t.idCurso,periodo:t.idPeriodo,vigencia:t.$store.state.aLectivo}}).then((function(n){n.data.error?(t.mensajeEmergente("danger",l["h"],n.data.mensaje+" - Notas boletines curso periodo"),t.btnCargando=!1):0!=n.data.datos&&(t.notas=n.data.datos)})).catch((function(n){t.mensajeEmergente("danger",l["h"],"Algo salio mal y no se pudo realizar: Notas boletines curso periodo. Intente m치s tarde."+n),t.btnCargando=!1}));case 14:n.next=26;break;case 16:if(4!=t.idBoletin){n.next=21;break}return n.next=19,s.a.get(l["d"]+"boletines/notas/curso/periodo/promocionados",{params:{idCurso:t.idCurso,periodo:t.idPeriodo,vigencia:t.$store.state.aLectivo}}).then((function(n){n.data.error?(t.mensajeEmergente("danger",l["h"],n.data.mensaje+" - Notas boletines curso periodo"),t.btnCargando=!1):0!=n.data.datos&&(t.notas=n.data.datos)})).catch((function(n){t.mensajeEmergente("danger",l["h"],"Algo salio mal y no se pudo realizar: Notas boletines curso periodo. Intente m치s tarde."+n),t.btnCargando=!1}));case 19:n.next=26;break;case 21:if(10!=t.idBoletin){n.next=26;break}return i=0,"8a1bd1e0-fcb2-11ec-8267-536b07c743c4"==t.$store.state.idInstitucion||"c50f3d80-fca0-11ec-8267-536b07c743c4"==t.$store.state.idInstitucion?(t.idPeriodo=5,i="boletines/notas/curso/periodo5"):"660fa760-fc83-11ec-a1d1-1dc2835404e5"==t.$store.state.idInstitucion?(t.idPeriodo=4,i="boletines/notas/curso/finales/acumulado"):"f5529ba0-fcb3-11ec-8267-536b07c743c4"==t.$store.state.idInstitucion?(t.idPeriodo=5,i="boletines/notas/curso/finales/acumulado"):(t.idPeriodo=4,i="boletines/notas/curso/finales/acumulado"),n.next=26,s.a.get(l["d"]+i,{params:{idCurso:t.idCurso,periodo:t.idPeriodo,vigencia:t.$store.state.aLectivo}}).then((function(n){n.data.error?(t.mensajeEmergente("danger",l["h"],n.data.mensaje+" - Notas boletines curso periodo"),t.btnCargando=!1):0!=n.data.datos&&(t.notas=n.data.datos)})).catch((function(n){t.mensajeEmergente("danger",l["h"],"Algo salio mal y no se pudo realizar: Notas boletines curso periodo. Intente m치s tarde."+n),t.btnCargando=!1}));case 26:case"end":return n.stop()}}),n)})))()},consultarAreasAsignaturas:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.listaAreasAsignaturas=[],n.next=3,s.a.get(l["d"]+"boletines/areasasignaturas/curso",{params:{idCurso:t.idCurso}}).then((function(n){n.data.error?(t.mensajeEmergente("danger",l["h"],n.data.mensaje+" - Lista areas-asignaturas curso"),t.btnCargando=!1):0!=n.data.datos&&(t.listaAreasAsignaturas=n.data.datos)})).catch((function(n){t.mensajeEmergente("danger",l["h"],"Algo salio mal y no se pudo realizar: Lista areas-asignaturas curso. Intente m치s tarde."+n),t.btnCargando=!1}));case 3:case"end":return n.stop()}}),n)})))()},consultarDescriptores:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.listaDescriptores=[],n.next=3,s.a.get(l["d"]+"boletines/descriptores/curso",{params:{idCurso:t.idCurso,periodo:5}}).then((function(n){n.data.error?(t.mensajeEmergente("danger",l["h"],n.data.mensaje+" - Lista descriptores curso"),t.btnCargando=!1):0!=n.data.datos&&(t.listaDescriptores=n.data.datos)})).catch((function(n){t.mensajeEmergente("danger",l["h"],"Algo salio mal y no se pudo realizar: Lista descriptores curso. Intente m치s tarde."+n),t.btnCargando=!1}));case 3:case"end":return n.stop()}}),n)})))()},consultarEstudiantes:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.btnCargando=!0,null==t.idCurso){n.next=11;break}return t.$store.state.datosCursos.forEach((function(n){n.id==t.idCurso&&(t.nombreJornada=n.jornada,t.nombreDirector=n.docente,t.idNivel=n.id_nivel,t.idGrado=n.id_grado)})),t.nombreSede=document.getElementById("sedes")[document.getElementById("sedes").selectedIndex].text,t.nombreCurso=document.getElementById("cursos")[document.getElementById("cursos").selectedIndex].text,10==t.idBoletin?t.nombrePeriodo="DEFINITIVO":t.nombrePeriodo=document.getElementById("periodo")[document.getElementById("periodo").selectedIndex].text,t.datosEstudiantes=[],i=0,1==t.idBoletin?i="boletines/listacurso/boletines":2==t.idBoletin?i="boletines/listacurso/boletines/retirados":3==t.idBoletin?i="boletines/listacurso/boletines/reubicados":4==t.idBoletin?i="boletines/listacurso/boletines/promocionados":10==t.idBoletin&&(i="boletines/listacurso/boletines"),n.next=11,s.a.get(l["d"]+i,{params:{idCurso:t.idCurso,vigencia:t.$store.state.aLectivo}}).then((function(n){n.data.error?(t.mensajeEmergente("danger",l["h"],n.data.mensaje+" - Consulta Lista Curso"),t.btnCargando=!1):0!=n.data.datos&&(t.datosEstudiantes=n.data.datos,1==t.idNivel&&"17ee4f30-fc80-11ec-a1d1-1dc2835404e5"==t.$store.state.idInstitucion?t.btnCargando=!1:(t.consultarNotas(),t.consultarAreasAsignaturas(),t.consultarHabilitaciones(),t.consultarDescriptores()))})).catch((function(n){t.mensajeEmergente("danger",l["h"],"Algo salio mal y no se pudo realizar: Lista Curso. Intente m치s tarde."+n),t.btnCargando=!1}));case 11:t.btnCargando=!1;case 12:case"end":return n.stop()}}),n)})))()},consultarHabilitaciones:function(){var t=this;this.listaHabilitaciones=[],s.a.get(l["d"]+"boletines/habilitaciones/curso",{params:{vigencia:this.$store.state.aLectivo}}).then((function(n){n.data.error?(t.mensajeEmergente("danger",l["h"],n.data.mensaje+" - Consulta habilitacion"),t.btnCargando=!1):0!=n.data.datos&&(t.listaHabilitaciones=n.data.datos)})).catch((function(n){t.mensajeEmergente("danger",l["h"],"Algo salio mal y no se pudo realizar: Consulta habilitacion. Intente m치s tarde."+n)}))},ocuparComboCursosSede:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.comboCursosSede=[],t.$store.state.datosCursos.forEach((function(n){n.id_sede==t.idSede&&t.comboCursosSede.push({value:n.id,text:n.nomenclatura.toUpperCase()})}));case 2:case"end":return n.stop()}}),n)})))()},ocuparComboSedes:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.comboSedes=[],t.$store.state.datosSedes.forEach((function(n){t.comboSedes.push({value:n.id,text:n.sede.toUpperCase()})}));case 2:case"end":return n.stop()}}),n)})))()},ocuparComboPeriodos:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.comboPeriodos=[],t.$store.state.periodos.forEach((function(n){t.comboPeriodos.push({value:n.id,text:n.periodo.toUpperCase()})}));case 2:case"end":return n.stop()}}),n)})))()},tdClassFuncE:function(t){return 2==t.id_estado_actual?"text-danger":3==t.id_estado_actual||4==t.id_estado_actual?"text-warning":void 0},mensajeEmergente:function(t,n,i){this.$bvToast.toast(i,{title:n,variant:t,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.ocuparComboSedes(),this.ocuparComboPeriodos(),this.datosSeccion=this.$store.state.datosSecciones[this.$store.state.idSeccion-1]}},fi=pi,mi=Object(m["a"])(fi,e,o,!1,null,null,null);n["default"]=mi.exports},"96cf":function(t,n,i){var e=function(t){"use strict";var n,i=Object.prototype,e=i.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,n,i){return Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{l({},"")}catch(I){l=function(t,n,i){return t[n]=i}}function d(t,n,i,e){var o=n&&n.prototype instanceof m?n:m,a=Object.create(o.prototype),r=new D(e||[]);return a._invoke=F(t,i,r),a}function u(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(I){return{type:"throw",arg:I}}}t.wrap=d;var c="suspendedStart",v="suspendedYield",h="executing",p="completed",f={};function m(){}function b(){}function g(){}var A={};A[a]=function(){return this};var x=Object.getPrototypeOf,_=x&&x(x(B([])));_&&_!==i&&e.call(_,a)&&(A=_);var C=g.prototype=m.prototype=Object.create(A);function S(t){["next","throw","return"].forEach((function(n){l(t,n,(function(t){return this._invoke(n,t)}))}))}function y(t,n){function i(o,a,r,s){var l=u(t[o],t,a);if("throw"!==l.type){var d=l.arg,c=d.value;return c&&"object"===typeof c&&e.call(c,"__await")?n.resolve(c.__await).then((function(t){i("next",t,r,s)}),(function(t){i("throw",t,r,s)})):n.resolve(c).then((function(t){d.value=t,r(d)}),(function(t){return i("throw",t,r,s)}))}s(l.arg)}var o;function a(t,e){function a(){return new n((function(n,o){i(t,e,n,o)}))}return o=o?o.then(a,a):a()}this._invoke=a}function F(t,n,i){var e=c;return function(o,a){if(e===h)throw new Error("Generator is already running");if(e===p){if("throw"===o)throw a;return j()}i.method=o,i.arg=a;while(1){var r=i.delegate;if(r){var s=P(r,i);if(s){if(s===f)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(e===c)throw e=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=h;var l=u(t,n,i);if("normal"===l.type){if(e=i.done?p:v,l.arg===f)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(e=p,i.method="throw",i.arg=l.arg)}}}function P(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator["return"]&&(i.method="return",i.arg=n,P(t,i),"throw"===i.method))return f;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=u(e,t.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,f;var a=o.arg;return a?a.done?(i[t.resultName]=a.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,f):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,f)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function E(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function B(t){if(t){var i=t[a];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function i(){while(++o<t.length)if(e.call(t,o))return i.value=t[o],i.done=!1,i;return i.value=n,i.done=!0,i};return r.next=r}}return{next:j}}function j(){return{value:n,done:!0}}return b.prototype=C.constructor=g,g.constructor=b,b.displayName=l(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"===typeof t&&t.constructor;return!!n&&(n===b||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,s,"GeneratorFunction")),t.prototype=Object.create(C),t},t.awrap=function(t){return{__await:t}},S(y.prototype),y.prototype[r]=function(){return this},t.AsyncIterator=y,t.async=function(n,i,e,o,a){void 0===a&&(a=Promise);var r=new y(d(n,i,e,o),a);return t.isGeneratorFunction(i)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},S(C),l(C,s,"Generator"),C[a]=function(){return this},C.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){while(n.length){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=B,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function o(e,o){return s.type="throw",s.arg=t,i.next=e,o&&(i.method="next",i.arg=n),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],s=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var l=e.call(r,"catchLoc"),d=e.call(r,"finallyLoc");if(l&&d){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=n,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(r)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),E(i),f}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var o=e.arg;E(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:B(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),f}},t}(t.exports);try{regeneratorRuntime=e}catch(o){Function("r","regeneratorRuntime = r")(e)}}}]);
//# sourceMappingURL=chunk-5e4aa044.4595b340.js.map