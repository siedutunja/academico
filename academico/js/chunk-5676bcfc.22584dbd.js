(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5676bcfc"],{7893:function(e,a,t){"use strict";var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("CRow",[t("CCol",[t("b-row",[t("b-col",{staticClass:"text-center",attrs:{lg:"12"}},[t("div",{staticClass:"video-wrap"},[t("p",[e._v("Camara")]),t("video",{attrs:{id:"video",playsinline:"",autoplay:""}})]),t("div",{staticClass:"controller"},[t("b-button",{staticClass:"small mt-2",attrs:{variant:"success"},on:{click:e.capturarImagen}},[e._v("Capturar Foto")])],1),t("canvas",{attrs:{id:"canvas",width:"250",height:"250"}})])],1)],1)],1)],1)},o=[],n=t("1da1"),r=(t("96cf"),t("d3b7"),t("25f0"),{name:"EditarFoto",data:function(){return{imagen:null}},methods:{actualizarFoto:function(){this.$emit("retorno",1)},capturarImagen:function(){var e=canvas.getContext("2d");e.drawImage(video,0,0,250,250),this.imagen=canvas.toDataURL("image/jpeg"),this.$emit("retorno",this.imagen)},handleSuccess:function(e){window.stream=e,video.srcObject=e},iniciarVista:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var t,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return document.getElementById("video"),document.getElementById("canvas"),document.querySelector("#photo"),t={audio:!1,video:{width:250,height:250}},a.prev=4,a.next=7,navigator.mediaDevices.getUserMedia(t);case 7:i=a.sent,e.handleSuccess(i),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](4),alert(a.t0.toString());case 14:case"end":return a.stop()}}),a,null,[[4,11]])})))()}},beforeMount:function(){this.iniciarVista()}}),d=r,s=t("2877"),c=Object(s["a"])(d,i,o,!1,null,null,null);a["a"]=c.exports},c160:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[t("h3",{staticClass:"mb-0 text-center"},[e._v("CONSULTA FICHA DE MATRICULA")])]},proxy:!0}])},[t("b-card-text",[t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("b-alert",{staticClass:"text-center",attrs:{variant:1==e.datosFichaE.id_estado_actual?"success":"danger",show:""}},[e._v("ESTUDIANTE"),t("br"),t("h4",{staticClass:"mb-0"},[t("b",[e._v(e._s(e.datosFichaE.estudiante))])]),t("span",[t("b",[e._v("ESTADO: "+e._s(e.datosFichaE.estado))])]),""!=e.codigo&&null!=e.codigo?t("span",[t("br"),t("strong",[e._v("CODIGO: "+e._s(e.codigo))])]):e._e()])],1)],1),t("b-row",[t("b-col",{attrs:{lg:"6"}},[t("b-card",{attrs:{"header-bg-variant":"secondary"},scopedSlots:e._u([{key:"header",fn:function(){return[1==e.$store.state.idRol||12==e.$store.state.idRol||1==e.$store.state.perActEstudiante?t("b-button",{staticClass:"small float-right",attrs:{variant:"dark"},on:{click:function(a){return e.verFichaEstudiante()}}},[e._v("Editar Datos")]):e._e(),t("h5",{staticClass:"mb-0"},[t("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),e._v(" Datos del Estudiante")],1)]},proxy:!0}])},[t("b-card-text",[t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("b-table-simple",{attrs:{striped:"",hover:"",responsive:"",bordered:"",fixed:""}},[t("b-tbody",[t("b-tr",[t("b-th",[e._v("Número Documento")]),t("b-td",[e._v(e._s(e.datosFichaE.documento))])],1),t("b-tr",[t("b-th",[e._v("Tipo Documento")]),t("b-td",[e._v(e._s(e.datosFichaE.tipodocumento))])],1),t("b-tr",[t("b-th",[e._v("Expedición")]),t("b-td",[e._v(e._s(null!=e.datosFichaE.municipioDoc?e.datosFichaE.municipioDoc.toUpperCase():"-"))])],1),t("b-tr",[t("b-th",[e._v("Fecha Nace")]),t("b-td",[e._v(e._s(null!=e.datosFichaE.fecha_nacimiento?e.datosFichaE.fecha_nacimiento.substr(0,10):"-"))])],1),t("b-tr",[t("b-th",[e._v("Nacionalidad")]),t("b-td",[e._v(e._s(e.datosFichaE.pais))])],1),t("b-tr",[t("b-th",[e._v("Municipio Nace")]),t("b-td",[e._v(e._s(null!=e.datosFichaE.municipioNac?e.datosFichaE.municipioNac.toUpperCase():"-"))])],1),t("b-tr",[t("b-th",[e._v("Género")]),t("b-td",[e._v(e._s(e.datosFichaE.genero))])],1),t("b-tr",[t("b-th",[e._v("Rh")]),t("b-td",[e._v(e._s(e.datosFichaE.rh))])],1),t("b-tr",[t("b-th",[e._v("Sisben")]),t("b-td",[e._v(e._s(e.datosFichaE.subgrupo))])],1),t("b-tr",[t("b-th",[e._v("Estrato")]),t("b-td",[e._v(e._s(e.datosFichaE.estrato))])],1),t("b-tr",[t("b-th",[e._v("Etnia")]),t("b-td",[e._v(e._s(e.datosFichaE.etnia))])],1),t("b-tr",[t("b-th",[e._v("Discapacidad")]),t("b-td",[e._v(e._s(e.datosFichaE.discapacidad))])],1),t("b-tr",[t("b-th",[e._v("Capacidad Excepcional")]),t("b-td",[e._v(e._s(e.datosFichaE.capacidad))])],1),t("b-tr",[t("b-th",[e._v("Trastorno del Aprendizaje")]),t("b-td",[e._v(e._s(e.datosFichaE.trastorno))])],1),t("b-tr",[t("b-th",[e._v("Apoyo Académico Especial")]),t("b-td",[e._v(e._s(e.datosFichaE.apoyo))])],1),t("b-tr",[t("b-th",[e._v("Victima del Conflicto")]),t("b-td",[e._v(e._s(e.datosFichaE.victima))])],1),t("b-tr",[t("b-th",[e._v("Municipio Expulsor")]),t("b-td",[e._v(e._s(null!=e.datosFichaE.municipioExp?e.datosFichaE.municipioExp.toUpperCase():"-"))])],1),t("b-tr",[t("b-th",[e._v("EPS")]),t("b-td",[e._v(e._s(e.datosFichaE.eps))])],1),t("b-tr",[t("b-th",[e._v("Enfermedades/Tratamiento")]),t("b-td",[e._v(e._s(e.datosFichaE.enfermedades))])],1),t("b-tr",[t("b-th",[e._v("Aseguradora")]),t("b-td",[e._v(e._s(e.datosFichaE.aseguradora))])],1),t("b-tr",[t("b-th",[e._v("Dirección")]),t("b-td",[e._v(e._s(e.datosFichaE.direccion))])],1),t("b-tr",[t("b-th",[e._v("Municipio")]),t("b-td",[e._v(e._s(null!=e.datosFichaE.municipioDir?e.datosFichaE.municipioDir.toUpperCase():"-"))])],1),t("b-tr",[t("b-th",[e._v("Barrio")]),t("b-td",[e._v(e._s(e.datosFichaE.barrio))])],1),t("b-tr",[t("b-th",[e._v("Zona")]),t("b-td",[e._v(e._s(e.datosFichaE.zona))])],1),t("b-tr",[t("b-th",[e._v("Teléfono1")]),t("b-td",[e._v(e._s(e.datosFichaE.telefono1))])],1),t("b-tr",[t("b-th",[e._v("Teléfono2")]),t("b-td",[e._v(e._s(e.datosFichaE.telefono2))])],1),t("b-tr",[t("b-th",[e._v("Correo")]),t("b-td",[e._v(e._s(e.datosFichaE.correo))])],1),t("b-tr",[t("b-th",[e._v("ID")]),t("b-td",[e._v(e._s(e.datosFichaE.idEstudiante))])],1)],1)],1)],1)],1)],1)],1)],1),t("b-col",{attrs:{lg:"6"}},[t("b-card",{attrs:{"header-bg-variant":"secondary"},scopedSlots:e._u([{key:"header",fn:function(){return[1==e.$store.state.idRol||12==e.$store.state.idRol||1==e.$store.state.perActEstudiante?t("b-button",{staticClass:"small float-right",attrs:{variant:"dark"},on:{click:function(a){return e.verFichamatricula()}}},[e._v("Editar Datos")]):e._e(),t("h5",{staticClass:"mb-0"},[t("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),e._v(" Datos de la Matrícula")],1)]},proxy:!0}])},[t("b-card-text",[t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("b-table-simple",{attrs:{striped:"",hover:"",responsive:"",bordered:"",fixed:""}},[t("b-tbody",[t("b-tr",[t("b-th",[e._v("Fecha Matrícula")]),t("b-td",[e._v(e._s(e.datosFichaE.creado))])],1),t("b-tr",[t("b-th",[e._v("Vigencia")]),t("b-td",[e._v(e._s(e.datosFichaE.vigencia))])],1),t("b-tr",[t("b-th",[e._v("Sede")]),t("b-td",[e._v(e._s(e.datosFichaE.sede))])],1),t("b-tr",[t("b-th",[e._v("Grado")]),t("b-td",[e._v(e._s(e.datosFichaE.grado))])],1),t("b-tr",[t("b-th",[e._v("Curso")]),t("b-td",[e._v(e._s(e.datosFichaE.nomenclatura))])],1),t("b-tr",[t("b-th",[e._v("Jornada")]),t("b-td",[e._v(e._s(e.datosFichaE.jornada))])],1),t("b-tr",[t("b-th",[e._v("Especialidad")]),t("b-td",[e._v(e._s(e.datosFichaE.especialidad))])],1),t("b-tr",[t("b-th",[e._v("Nuevo")]),t("b-td",[e._v(e._s(e.datosFichaE.id_nuevo))])],1),t("b-tr",[t("b-th",[e._v("Procedencia")]),t("b-td",[e._v(e._s(e.datosFichaE.procedencia))])],1),t("b-tr",[t("b-th",[e._v("Repitente")]),t("b-td",[e._v(e._s(e.datosFichaE.id_repitente))])],1),t("b-tr",[t("b-th",[e._v("Educación Diversa/Inclusión")]),t("b-td",[e._v(e._s(e.datosFichaE.id_diversa))])],1),t("b-tr",[t("b-th",[e._v("Observaciones")]),t("b-td",[e._v(e._s(e.datosFichaE.obs_matricula))])],1),t("b-tr",[t("b-th",[e._v("ID")]),t("b-td",[e._v(e._s(e.idMatricula))])],1)],1)],1)],1)],1),t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("hr")]),t("b-col",{attrs:{lg:"12"}},[t("b-button",{staticClass:"small mx-1 mt-2",attrs:{variant:"primary"},on:{click:e.imprimirFormulario}},[e._v("Imprimir Ficha Matricula del Estudiante")]),2!=e.datosFichaE.id_estado_actual||1!=e.$store.state.idRol&&12!=e.$store.state.idRol&&1!=e.$store.state.perActEstudiante?e._e():t("b-button",{staticClass:"small mx-1 mt-2 float-right",attrs:{variant:"success"},on:{click:e.confirmarReintegrarMatricula}},[e._v("Reintegrar Estudiante")]),1!=e.datosFichaE.id_estado_actual||1!=e.$store.state.idRol&&12!=e.$store.state.idRol&&1!=e.$store.state.perActEstudiante?e._e():t("b-button",{staticClass:"small mx-1 mt-2 float-right",attrs:{variant:"danger"},on:{click:e.confirmarRetirarMatricula}},[e._v("Retirar Estudiante")]),1==e.$store.state.idRol?t("b-button",{staticClass:"small mx-1 mt-2 float-right",attrs:{variant:"danger"},on:{click:e.desvincularMatricula}},[e._v("Desvincular Matricula del Estudiante")]):e._e()],1)],1)],1)],1),t("b-card",{attrs:{"header-bg-variant":"secondary"},scopedSlots:e._u([{key:"header",fn:function(){return[t("h5",{staticClass:"mb-0"},[t("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),e._v(" Foto y Firmas")],1)]},proxy:!0}])},[t("b-card-text",[t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("b-tabs",{attrs:{"content-class":"mt-3"}},[t("b-tab",{attrs:{title:"Foto",active:""}},[t("CCard",{staticStyle:{"margin-top":"-17"}},[t("CCardBody",[t("b-row",{staticClass:"p-3"},[t("b-col",{staticClass:"mt-1 text-center",attrs:{lg:"12"}},[t("img",{attrs:{src:e.datosFichaE.foto,id:"photo",alt:"photo"}})]),t("b-col",{staticClass:"mt-3 text-center",attrs:{lg:"12"}},[1==e.$store.state.idRol||12==e.$store.state.idRol||1==e.$store.state.perActEstudiante?t("b-button",{staticClass:"small mx-3",attrs:{variant:"info"},on:{click:e.cambiarFoto}},[e._v("Cambiar Foto")]):e._e(),1==e.$store.state.idRol||12==e.$store.state.idRol||1==e.$store.state.perActEstudiante?t("b-button",{staticClass:"small mx-3",attrs:{variant:"danger"},on:{click:e.borrarFoto}},[e._v("Borrar Foto")]):e._e()],1)],1)],1)],1)],1),1==e.$store.state.idRol||12==e.$store.state.idRol||1==e.$store.state.perActEstudiante?t("b-tab",{attrs:{title:"Firma Estudiante"}},[t("CCard",{staticStyle:{"margin-top":"-17"}},[t("CCardBody",[t("b-row",[e.firmaEstudianteValida?t("b-col",{attrs:{lg:"12",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Firma del Estudiante","label-for":"firma"}},[t("img",{staticClass:"text-center mt-1",attrs:{src:e.datosFichaE.firma_estudiante,alt:"Firma",width:"100%"}})])],1):e._e(),e.firmaEstudianteValida?e._e():t("b-col",{attrs:{lg:"12",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Pegar la Firma del Estudiante","label-for":"firmaE"}},[t("b-form-textarea",{ref:"firmaE",attrs:{id:"firmaE","aria-describedby":"feedFirmaE",autocomplete:"off",rows:"6",disabled:e.firmaEstudianteValida},model:{value:e.nuevaFirmaEstudiante,callback:function(a){e.nuevaFirmaEstudiante="string"===typeof a?a.trim():a},expression:"nuevaFirmaEstudiante"}})],1)],1),t("b-col",{attrs:{lg:"12"}},[e.firmaEstudianteValida?e._e():t("b-button",{staticClass:"small mx-2 mt-2",attrs:{variant:"outline-primary"},on:{click:function(a){return e.validarFirmaEstudiante()}}},[e._v("Validar Firma Estudiante")]),e.cancelarFirmaEstudiante?t("b-button",{staticClass:"small mx-2 mt-2",attrs:{variant:"outline-danger"},on:{click:function(a){return e.cancelarValidarFirmaEstudiante()}}},[e._v("Cancelar")]):e._e(),e.firmaEstudianteValida?t("b-button",{staticClass:"small mx-2 mt-2",attrs:{variant:"outline-info"},on:{click:function(a){return e.borrarFirmaEstudiante()}}},[e._v("Cambiar Firma Estudiante")]):e._e(),e.firmaEstudianteNoGuardada?t("b-button",{staticClass:"small mx-2 mt-2",attrs:{variant:"outline-success"},on:{click:function(a){return e.guardarFirmaEstudiante()}}},[e._v("Guardar Firma Estudiante")]):e._e()],1)],1),t("b-row",[t("b-col",[t("hr")]),t("b-col",{attrs:{lg:"12"}},[t("b-button",{attrs:{variant:"link"},on:{click:e.abrirCapturadorFirmas}},[e._v("Abrir Capturador de Firmas")])],1)],1)],1)],1)],1):e._e(),1==e.$store.state.idRol||12==e.$store.state.idRol||1==e.$store.state.perActEstudiante?t("b-tab",{attrs:{title:"Firma Acudiente"}},[t("CCard",{staticStyle:{"margin-top":"-17"}},[t("CCardBody",[t("b-row",[e.firmaAcudienteValida?t("b-col",{attrs:{lg:"12",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Firma del Acudiente","label-for":"firma"}},[t("img",{staticClass:"text-center mt-1",attrs:{src:e.datosFichaE.firma_acudiente,alt:"Firma",width:"100%"}})])],1):e._e(),e.firmaAcudienteValida?e._e():t("b-col",{attrs:{lg:"12",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Pegar la Firma del Acudiente","label-for":"firmaA"}},[t("b-form-textarea",{ref:"firmaA",attrs:{id:"firmaA","aria-describedby":"feedFirmaA",autocomplete:"off",rows:"6",disabled:e.firmaAcudienteValida},model:{value:e.nuevaFirmaAcudiente,callback:function(a){e.nuevaFirmaAcudiente="string"===typeof a?a.trim():a},expression:"nuevaFirmaAcudiente"}})],1)],1),t("b-col",{attrs:{lg:"12"}},[e.firmaAcudienteValida?e._e():t("b-button",{staticClass:"small mx-2 mt-2",attrs:{variant:"outline-primary"},on:{click:function(a){return e.validarFirmaAcudiente()}}},[e._v("Validar Firma Acudiente")]),e.cancelarFirmaAcudiente?t("b-button",{staticClass:"small mx-2 mt-2",attrs:{variant:"outline-danger"},on:{click:function(a){return e.cancelarValidarFirmaAcudiente()}}},[e._v("Cancelar")]):e._e(),e.firmaAcudienteValida?t("b-button",{staticClass:"small mx-2 mt-2",attrs:{variant:"outline-info"},on:{click:function(a){return e.borrarFirmaAcudiente()}}},[e._v("Cambiar Firma Acudiente")]):e._e(),e.firmaAcudienteNoGuardada?t("b-button",{staticClass:"small mx-2 mt-2",attrs:{variant:"outline-success"},on:{click:function(a){return e.guardarFirmaAcudiente()}}},[e._v("Guardar Firma Acudiente")]):e._e()],1)],1),t("b-row",[t("b-col",[t("hr")]),t("b-col",{attrs:{lg:"12"}},[t("b-button",{attrs:{variant:"link"},on:{click:e.abrirCapturadorFirmas}},[e._v("Abrir Capturador de Firmas")])],1)],1)],1)],1)],1):e._e()],1)],1)],1)],1)],1)],1)],1),t("b-row",[t("b-col",{attrs:{lg:"4"}},[t("b-card",{attrs:{"header-bg-variant":"secondary"},scopedSlots:e._u([{key:"header",fn:function(){return[t("h5",{staticClass:"mb-0"},[t("b-icon",{attrs:{icon:"person","aria-hidden":"true"}}),e._v(" Acudiente")],1)]},proxy:!0},{key:"footer",fn:function(){return[t("span",{staticClass:"mb-0"},[t("i",[e._v("Parentesco: "+e._s(e.datosFichaE.parentesco))])])]},proxy:!0}])},[t("b-card-text",[t("b-row",{staticClass:"text-center"},[t("b-col",{attrs:{lg:"12"}},[t("img",{attrs:{src:e.fotoA,id:"photoA",alt:"photo",width:"30%"}})]),t("b-col",{attrs:{lg:"12"}},[t("h5",[e._v(e._s(null!=e.datosFichaE.acudiente?e.datosFichaE.acudiente:"SIN ASOCIAR"))]),t("h6",[e._v(e._s(null!=e.datosFichaE.telefonoA?e.datosFichaE.telefonoA:"-"))]),1==e.$store.state.idRol||12==e.$store.state.idRol||1==e.$store.state.perActEstudiante?t("b-button",{staticClass:"small",attrs:{variant:"dark"},on:{click:function(a){return e.verFichaAcudiente()}}},[e._v("Editar Datos")]):e._e()],1)],1)],1)],1)],1),t("b-col",{attrs:{lg:"4"}},[t("b-card",{attrs:{"header-bg-variant":"secondary"},scopedSlots:e._u([{key:"header",fn:function(){return[t("h5",{staticClass:"mb-0"},[t("b-icon",{attrs:{icon:"person","aria-hidden":"true"}}),e._v(" Papá")],1)]},proxy:!0},{key:"footer",fn:function(){return[t("span",{staticClass:"mb-0"},[t("i",[e._v("-")])])]},proxy:!0}])},[t("b-card-text",[t("b-row",{staticClass:"text-center"},[t("b-col",{attrs:{lg:"12"}},[t("img",{attrs:{src:e.fotoP,id:"photoA",alt:"photo",width:"30%"}})]),t("b-col",{attrs:{lg:"12"}},[t("h5",[e._v(e._s(null!=e.datosFichaE.padre?e.datosFichaE.padre:"SIN ASOCIAR"))]),t("h6",[e._v(e._s(null!=e.datosFichaE.telefonoP?e.datosFichaE.telefonoP:"-"))]),1==e.$store.state.idRol||12==e.$store.state.idRol||1==e.$store.state.perActEstudiante?t("b-button",{staticClass:"small",attrs:{variant:"dark"},on:{click:function(a){return e.verFichaPapa()}}},[e._v("Editar Datos")]):e._e()],1)],1)],1)],1)],1),t("b-col",{attrs:{lg:"4"}},[t("b-card",{attrs:{"header-bg-variant":"secondary"},scopedSlots:e._u([{key:"header",fn:function(){return[t("h5",{staticClass:"mb-0"},[t("b-icon",{attrs:{icon:"person","aria-hidden":"true"}}),e._v(" Mamá")],1)]},proxy:!0},{key:"footer",fn:function(){return[t("span",{staticClass:"mb-0"},[t("i",[e._v("-")])])]},proxy:!0}])},[t("b-card-text",[t("b-row",{staticClass:"text-center"},[t("b-col",{attrs:{lg:"12"}},[t("img",{attrs:{src:e.fotoM,id:"photoA",alt:"photo",width:"30%"}})]),t("b-col",{attrs:{lg:"12"}},[t("h5",[e._v(e._s(null!=e.datosFichaE.madre?e.datosFichaE.madre:"SIN ASOCIAR"))]),t("h6",[e._v(e._s(null!=e.datosFichaE.telefonoM?e.datosFichaE.telefonoM:"-"))]),1==e.$store.state.idRol||12==e.$store.state.idRol||1==e.$store.state.perActEstudiante?t("b-button",{staticClass:"small",attrs:{variant:"dark"},on:{click:function(a){return e.verFichaMama()}}},[e._v("Editar Datos")]):e._e()],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),t("b-modal",{ref:"modalEditarFoto",attrs:{size:"lg",scrollable:"","hide-footer":"",title:"Editar Foto","ok-only":""}},[t("div",{staticClass:"mx-3"},[t("div",[t("EditarFoto",{on:{retorno:e.datosRecibidosFoto}})],1)])]),t("b-modal",{ref:"modalAsociarAcudiente",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Ficha del Acudiente","ok-only":""}},[t("div",{staticClass:"mx-3"},[t("div",[t("FichaAcudiente",{attrs:{datosAcudiente:e.datosFichaA},on:{retorno:e.datosRecibidosAcudiente}})],1)])]),t("b-modal",{ref:"modalAsociarPapa",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Ficha del Papá","ok-only":""}},[t("div",{staticClass:"mx-3"},[t("div",[t("FichaPapa",{attrs:{datosPapa:e.datosFichaP},on:{retorno:e.datosRecibidosPapa}})],1)])]),t("b-modal",{ref:"modalAsociarMama",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Ficha de la Mamá","ok-only":""}},[t("div",{staticClass:"mx-3"},[t("div",[t("FichaMama",{attrs:{datosMama:e.datosFichaM},on:{retorno:e.datosRecibidosMama}})],1)])]),t("b-modal",{ref:"modalFichaEstudiante",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Ficha del Estudiante","ok-only":""}},[t("div",{staticClass:"mx-3"},[t("div",[t("FichaEstudiante",{attrs:{datosEstudiante:e.datosEstudiante},on:{retorno:e.datosRecibidosEstudiante}})],1)])]),t("b-modal",{ref:"modalFichaMatricula",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Ficha de la Matricula","ok-only":""}},[t("div",{staticClass:"mx-3"},[t("div",[t("FichaMatricula",{attrs:{datosMatricula:e.datosFichaMatricula},on:{retorno:e.datosRecibidosMatricula}})],1)])]),t("b-modal",{ref:"modalRetirarEstudiante",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Retirar Estudiante","ok-only":""}},[t("div",{staticClass:"mx-3"},[t("div",[t("b-row",[t("b-col",{attrs:{lg:"12",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Motivo del Retiro*","label-for":"motivo"}},[t("b-form-select",{ref:"motivo",attrs:{id:"motivo",options:e.comboMotivosRetiro,state:e.validateStateR("id_motivo"),"aria-describedby":"feedMotivo"},model:{value:e.$v.retiro.id_motivo.$model,callback:function(a){e.$set(e.$v.retiro.id_motivo,"$model",a)},expression:"$v.retiro.id_motivo.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMotivo"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"12",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Observaciones del Retiro*","label-for":"observaciones"}},[t("b-form-textarea",{attrs:{state:e.validateStateR("observaciones"),"aria-describedby":"feedObservRetiro",autocomplete:"off",rows:"5"},model:{value:e.$v.retiro.observaciones.$model,callback:function(a){e.$set(e.$v.retiro.observaciones,"$model","string"===typeof a?a.trim():a)},expression:"$v.retiro.observaciones.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedObservRetiro"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"12",md:"12"}},[t("hr")]),t("b-col",{attrs:{lg:"12",md:"12"}},[t("div",{staticClass:"float-right small text-medium-emphasis"},[e._v("* Campo requerido")]),t("b-button",{staticClass:"small mt-1 mr-3",attrs:{variant:"primary"},on:{click:function(a){return e.retirarEstudiante()}}},[e._v("Retirar Estudiante")]),t("b-button",{staticClass:"small mt-1 mr-3",attrs:{variant:"secondary"},on:{click:e.cancelarVentana}},[e._v("Cancelar")])],1)],1)],1)])])],1)},o=[],n=t("1da1"),r=(t("159b"),t("96cf"),t("bc3a")),d=t.n(r),s=t("9c40"),c=t("1dce"),l=t("b5ae"),u=t("7893"),m=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("b-row",{staticClass:"mt-2"},[t("b-col",{attrs:{lg:"12"}},[t("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[t("h5",{staticClass:"mb-0"},[t("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),e._v(" DATOS DEL ACUDIENTE")],1)]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticClass:"float-right text-medium-emphasis text-info"},[e._v("* Campo requerido")]),t("div",[t("b-button",{staticClass:"small",attrs:{variant:"primary"},on:{click:e.validarDatosFormulario}},[e._v("Actualizar Datos del Acudiente")]),t("b-button",{staticClass:"small ml-3",attrs:{variant:"secondary"},on:{click:e.cancelarFormulario}},[e._v("Cancelar")])],1)]},proxy:!0}])},[t("b-card-text",[t("b-row",[t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Número de Documento*","label-for":"doc"}},[t("b-input-group",[t("b-form-input",{ref:"doc",attrs:{id:"doc",state:e.validateStateD("documento"),"aria-describedby":"feedDoc",autocomplete:"off",maxlength:"50"},on:{keydown:e.soloNumerosLetras,blur:function(a){return e.buscarDocumentoAcudiente()}},model:{value:e.$v.infoAcudiente.documento.$model,callback:function(a){e.$set(e.$v.infoAcudiente.documento,"$model",a)},expression:"$v.infoAcudiente.documento.$model"}}),t("b-input-group-append",[t("b-button",{attrs:{variant:"primary"},on:{click:function(a){return e.buscarDocumentoAcudiente()}}},[e._v("Buscar")])],1),t("b-form-invalid-feedback",{attrs:{id:"feedDoc"}},[e._v("Campo requerido.")])],1)],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Tipo Documento*","label-for":"tipoDoc"}},[t("b-form-select",{ref:"tipoDoc",attrs:{id:"tipoDoc",options:e.comboTiposDoc,state:e.validateStateD("id_tipo_documento"),"aria-describedby":"feedTipoDoc"},model:{value:e.$v.infoAcudiente.id_tipo_documento.$model,callback:function(a){e.$set(e.$v.infoAcudiente.id_tipo_documento,"$model",a)},expression:"$v.infoAcudiente.id_tipo_documento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedTipoDoc"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Expedición del Documento*","label-for":"muniDoc"}},[t("b-form-select",{ref:"muniDoc",attrs:{id:"muniDoc",options:e.comboMunicipios,state:e.validateStateD("id_municipio_documento"),"aria-describedby":"feedMuniDoc"},model:{value:e.$v.infoAcudiente.id_municipio_documento.$model,callback:function(a){e.$set(e.$v.infoAcudiente.id_municipio_documento,"$model",a)},expression:"$v.infoAcudiente.id_municipio_documento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMuniDoc"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Primer Apellido*","label-for":"ape1"}},[t("b-form-input",{ref:"ape1",attrs:{id:"ape1",state:e.validateStateD("apellido1"),"aria-describedby":"feedApe1",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoAcudiente.apellido1.$model,callback:function(a){e.$set(e.$v.infoAcudiente.apellido1,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoAcudiente.apellido1.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedApe1"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Segundo Apellido","label-for":"ape2"}},[t("b-form-input",{ref:"ape2",attrs:{id:"ape2",state:e.validateStateD("apellido2"),"aria-describedby":"feedApe2",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoAcudiente.apellido2.$model,callback:function(a){e.$set(e.$v.infoAcudiente.apellido2,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoAcudiente.apellido2.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedApe2"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Primer Nombre*","label-for":"nom1"}},[t("b-form-input",{ref:"nom1",attrs:{id:"nom1",state:e.validateStateD("nombre1"),"aria-describedby":"feedNom1",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoAcudiente.nombre1.$model,callback:function(a){e.$set(e.$v.infoAcudiente.nombre1,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoAcudiente.nombre1.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedNom1"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Segundo Nombre","label-for":"nom2"}},[t("b-form-input",{ref:"nom2",attrs:{id:"nom2",state:e.validateStateD("nombre2"),"aria-describedby":"feedNom2",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoAcudiente.nombre2.$model,callback:function(a){e.$set(e.$v.infoAcudiente.nombre2,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoAcudiente.nombre2.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedNom2"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Fecha de Nacimiento*","label-for":"fechaN"}},[t("b-form-input",{ref:"fechaN",attrs:{id:"fechaN",type:"date",state:e.validateStateD("fecha_nacimiento"),"aria-describedby":"feedFechaN"},model:{value:e.$v.infoAcudiente.fecha_nacimiento.$model,callback:function(a){e.$set(e.$v.infoAcudiente.fecha_nacimiento,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoAcudiente.fecha_nacimiento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedFechaN"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Nacionalidad*","label-for":"nacional"}},[t("b-form-select",{ref:"nacional",attrs:{id:"nacional",options:e.comboPaises,state:e.validateStateD("id_nacionalidad"),"aria-describedby":"feedNal"},on:{change:e.habilitaMunicipioNace},model:{value:e.$v.infoAcudiente.id_nacionalidad.$model,callback:function(a){e.$set(e.$v.infoAcudiente.id_nacionalidad,"$model",a)},expression:"$v.infoAcudiente.id_nacionalidad.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedNal"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Nacimiento*","label-for":"muniNace"}},[t("b-form-select",{ref:"muniNace",attrs:{id:"muniNace",options:e.comboMunicipios,state:e.validateStateD("id_municipio_nacimiento"),"aria-describedby":"feedMuniNaceA",disabled:e.deshabMunNace},model:{value:e.$v.infoAcudiente.id_municipio_nacimiento.$model,callback:function(a){e.$set(e.$v.infoAcudiente.id_municipio_nacimiento,"$model",a)},expression:"$v.infoAcudiente.id_municipio_nacimiento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMuniNace"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Dirección de Residencia*","label-for":"dir"}},[t("b-form-input",{ref:"dir",attrs:{id:"dir",state:e.validateStateD("direccion"),"aria-describedby":"feedDir",autocomplete:"off",maxlength:"100"},model:{value:e.$v.infoAcudiente.direccion.$model,callback:function(a){e.$set(e.$v.infoAcudiente.direccion,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoAcudiente.direccion.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedDir"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Residencia*","label-for":"muniRes"}},[t("b-form-select",{ref:"muniRes",attrs:{id:"muniRes",options:e.comboMunicipios,state:e.validateStateD("id_municipio_direccion"),"aria-describedby":"feedMuniRes"},model:{value:e.$v.infoAcudiente.id_municipio_direccion.$model,callback:function(a){e.$set(e.$v.infoAcudiente.id_municipio_direccion,"$model",a)},expression:"$v.infoAcudiente.id_municipio_direccion.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMuniRes"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Teléfono Principal*","label-for":"tel1"}},[t("b-form-input",{ref:"tel1",attrs:{id:"tel1",state:e.validateStateD("telefono1"),"aria-describedby":"feedTel1",autocomplete:"off",maxlength:"15"},on:{keydown:e.soloNumeros},model:{value:e.$v.infoAcudiente.telefono1.$model,callback:function(a){e.$set(e.$v.infoAcudiente.telefono1,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoAcudiente.telefono1.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedTel1"}},[e._v("El número debe contener 10 dígitos.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Teléfono Opcional","label-for":"tel2"}},[t("b-form-input",{ref:"tel2",attrs:{id:"tel2",state:e.validateStateD("telefono2"),"aria-describedby":"feedTel2",autocomplete:"off",maxlength:"15"},on:{keydown:e.soloNumeros},model:{value:e.$v.infoAcudiente.telefono2.$model,callback:function(a){e.$set(e.$v.infoAcudiente.telefono2,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoAcudiente.telefono2.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedTel2"}},[e._v("El número debe contener 10 dígitos.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Correo Electrónico*","label-for":"correo"}},[t("b-form-input",{ref:"correo",attrs:{id:"correo",state:e.validateStateD("correo"),"aria-describedby":"feedCorreo",autocomplete:"off",maxlength:"50"},model:{value:e.$v.infoAcudiente.correo.$model,callback:function(a){e.$set(e.$v.infoAcudiente.correo,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoAcudiente.correo.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedCorreo"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Ocupación Laboral","label-for":"ocupacion"}},[t("b-form-input",{ref:"ocupacion",attrs:{id:"ocupacion","aria-describedby":"feedOcupacion",autocomplete:"on",maxlength:"100"},model:{value:e.infoAcudiente.ocupacion,callback:function(a){e.$set(e.infoAcudiente,"ocupacion","string"===typeof a?a.trim():a)},expression:"infoAcudiente.ocupacion"}}),t("b-form-invalid-feedback",{attrs:{id:"feedOcupacion"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"12",md:"12"}},[t("b-alert",{attrs:{variant:"success",show:""}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Parentesco con el Estudiante*","label-for":"parentesco"}},[t("b-form-select",{ref:"parentesco",attrs:{id:"parentesco",options:e.comboParentescos,state:e.validateStateD("id_parentesco"),"aria-describedby":"feedParent"},model:{value:e.$v.infoAcudiente.id_parentesco.$model,callback:function(a){e.$set(e.$v.infoAcudiente.id_parentesco,"$model",a)},expression:"$v.infoAcudiente.id_parentesco.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedParent"}},[e._v("Campo requerido.")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},f=[],p=t("9612"),b={name:"fichaacudiente",mixins:[c["validationMixin"]],props:{datosAcudiente:Object},components:{},data:function(){return{infoAcudiente:{documento:null,id_tipo_documento:null,id_municipio_documento:null,nombre1:null,nombre2:null,apellido1:null,apellido2:null,fecha_nacimiento:null,id_municipio_nacimiento:null,id_nacionalidad:null,direccion:null,id_municipio_direccion:null,telefono1:null,telefono2:null,correo:null,ocupacion:null,idAcudiente:null,idEstudiante:null,id_parentesco:null},comboTiposDoc:[],comboMunicipios:[],comboGeneros:[],comboPaises:[],comboParentescos:[],acudienteExiste:!0,deshabMunNace:!1}},validations:{infoAcudiente:{documento:{minLength:Object(l["minLength"])(6)},id_tipo_documento:{required:l["required"]},id_municipio_documento:{required:l["required"]},id_nacionalidad:{required:l["required"]},id_municipio_nacimiento:{required:l["required"]},nombre1:{required:l["required"]},nombre2:{minLength:Object(l["minLength"])(0)},apellido1:{required:l["required"]},apellido2:{minLength:Object(l["minLength"])(0)},fecha_nacimiento:{required:l["required"]},direccion:{required:l["required"]},id_municipio_direccion:{required:l["required"]},telefono1:{required:l["required"],minLength:Object(l["minLength"])(10)},telefono2:{minLength:Object(l["minLength"])(0)},correo:{required:l["required"],minLength:Object(l["minLength"])(5)},id_parentesco:{required:l["required"]}}},methods:{habilitaMunicipioNace:function(){"170"==this.infoAcudiente.id_nacionalidad?(this.infoAcudiente.id_municipio_nacimiento=null,this.deshabMunNace=!1):(this.infoAcudiente.id_municipio_nacimiento="00000",this.deshabMunNace=!0)},buscarDocumentoAcudiente:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.acudienteExiste=!1,e.deshabMunNace=!1,a.next=4,d.a.get(s["d"]+"academico/matriculas/buscardocumentopersona",{params:{documento:e.infoAcudiente.documento}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Buscar documento persona"):(0!=a.data.datos?(e.infoAcudiente.idAcudiente=a.data.datos.id,e.infoAcudiente.apellido1=a.data.datos.apellido1,e.infoAcudiente.apellido2=a.data.datos.apellido2,e.infoAcudiente.nombre1=a.data.datos.nombre1,e.infoAcudiente.nombre2=a.data.datos.nombre2,e.infoAcudiente.documento=a.data.datos.documento,e.infoAcudiente.id_tipo_documento=a.data.datos.id_tipo_documento,e.infoAcudiente.id_municipio_documento=a.data.datos.id_municipio_documento,null!=a.data.datos.fecha_nacimiento?e.infoAcudiente.fecha_nacimiento=a.data.datos.fecha_nacimiento.substr(0,10):e.infoAcudiente.fecha_nacimiento=null,e.infoAcudiente.id_nacionalidad=a.data.datos.id_nacionalidad,e.infoAcudiente.id_municipio_nacimiento=a.data.datos.id_municipio_nacimiento,e.infoAcudiente.id_genero=a.data.datos.id_genero,e.infoAcudiente.id_rh=a.data.datos.id_rh,e.infoAcudiente.id_estrato=a.data.datos.id_estrato,e.infoAcudiente.id_sisben=a.data.datos.id_sisben,e.infoAcudiente.id_eps=a.data.datos.id_eps,e.infoAcudiente.direccion=a.data.datos.direccion,e.infoAcudiente.id_municipio_direccion=a.data.datos.id_municipio_direccion,e.infoAcudiente.barrio=a.data.datos.barrio,e.infoAcudiente.id_zona=a.data.datos.id_zona,e.infoAcudiente.telefono1=a.data.datos.telefono1,e.infoAcudiente.telefono2=a.data.datos.telefono2,e.infoAcudiente.correo=a.data.datos.correo,e.infoAcudiente.ocupacion=a.data.datos.ocupacion,e.infoAcudiente.idEstudiante=e.datosAcudiente.idEstudiante,e.infoAcudiente.id_parentesco=null,e.acudienteExiste=!0):(e.infoAcudiente.idAcudiente=p["b"].v1(),e.infoAcudiente.id_tipo_documento=1,e.infoAcudiente.id_municipio_documento="15001",e.infoAcudiente.nombre1=null,e.infoAcudiente.nombre2=null,e.infoAcudiente.apellido1=null,e.infoAcudiente.apellido2=null,e.infoAcudiente.fecha_nacimiento=null,e.infoAcudiente.id_municipio_nacimiento="15001",e.infoAcudiente.id_nacionalidad="170",e.infoAcudiente.direccion=null,e.infoAcudiente.id_municipio_direccion="15001",e.infoAcudiente.telefono1=null,e.infoAcudiente.telefono2=null,e.infoAcudiente.correo=null,e.infoAcudiente.ocupacion=null,e.infoAcudiente.idEstudiante=e.datosAcudiente.idEstudiante,e.infoAcudiente.id_parentesco=null,e.acudienteExiste=!1),"170"!=e.infoAcudiente.id_nacionalidad&&(e.infoAcudiente.id_municipio_nacimiento="00000",e.deshabMunNace=!0))})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Buscar documento persona. Intente más tarde. "+a)}));case 4:case"end":return a.stop()}}),a)})))()},validarDatosFormulario:function(){var e=this;if(this.$v.infoAcudiente.$touch(),this.$v.infoAcudiente.$anyError)return this.mensajeEmergente("danger",s["h"],"Algunos campos están incompletos."),!1;var a="Actualizar Datos del Acudiente",t="¿Esta seguro de Actualizar los Datos del Acudiente?";return this.$bvModal.msgBoxConfirm(t,{headerBgVariant:"primary",headerTextVariant:"light",bodyBgVariant:"light",bodyBgClass:"text-center",title:a,size:"",buttonSize:"sm",okVariant:"primary",okTitle:"Si, "+a,cancelVariant:"danger",cancelTitle:"Cancelar",footerClass:"p-2",bodyClass:"p-5",hideHeaderClose:!1,centered:!0}).then((function(a){a&&e.guardarDatosAcudiente()})),!0},guardarDatosAcudiente:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.infoAcudiente.apellido1=e.infoAcudiente.apellido1.toUpperCase(),""==e.infoAcudiente.apellido2||null==e.infoAcudiente.apellido2?e.infoAcudiente.apellido2=null:e.infoAcudiente.apellido2=e.infoAcudiente.apellido2.toUpperCase(),e.infoAcudiente.nombre1=e.infoAcudiente.nombre1.toUpperCase(),""==e.infoAcudiente.nombre2||null==e.infoAcudiente.nombre2?e.infoAcudiente.nombre2=null:e.infoAcudiente.nombre2=e.infoAcudiente.nombre2.toUpperCase(),""!=e.infoAcudiente.telefono2&&null!=e.infoAcudiente.telefono2||e.infoAcudiente.telefono2,""==e.infoAcudiente.ocupacion||null==e.infoAcudiente.ocupacion?e.infoAcudiente.ocupacion=null:e.infoAcudiente.ocupacion=e.infoAcudiente.ocupacion.toUpperCase(),e.infoAcudiente.correo=e.infoAcudiente.correo.toLowerCase(),e.infoAcudiente.acudienteExiste=e.acudienteExiste,console.log(JSON.stringify(e.infoAcudiente)),a.next=11,d.a.post(s["d"]+"academico/acudiente",JSON.stringify(e.infoAcudiente),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Actualizar Acudiente"):e.$emit("retorno",1)})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Acudiente. Intente más tarde. "+a)}));case 11:case"end":return a.stop()}}),a)})))()},consultaDatosAcudienteId:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,d.a.get(s["d"]+"academico/acudientes",{params:{idAcudiente:e.datosAcudiente.idAcudiente}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Datos acudiente"):(0!=a.data.datos?(e.infoAcudiente=a.data.datos,null!=e.infoAcudiente.fecha_nacimiento&&""!=e.infoAcudiente.fecha_nacimiento&&(e.infoAcudiente.fecha_nacimiento=e.infoAcudiente.fecha_nacimiento.substr(0,10)),e.acudienteExiste=!0):(e.infoAcudiente.documento=null,e.infoAcudiente.id_tipo_documento=1,e.infoAcudiente.id_municipio_documento="15001",e.infoAcudiente.nombre1=null,e.infoAcudiente.nombre2=null,e.infoAcudiente.apellido1=null,e.infoAcudiente.apellido2=null,e.infoAcudiente.fecha_nacimiento=null,e.infoAcudiente.id_municipio_nacimiento="15001",e.infoAcudiente.id_nacionalidad="170",e.infoAcudiente.direccion=null,e.infoAcudiente.id_municipio_direccion="15001",e.infoAcudiente.telefono1=null,e.infoAcudiente.telefono2=null,e.infoAcudiente.correo=null,e.infoAcudiente.ocupacion=null,e.acudienteExiste=!1),e.infoAcudiente.idAcudiente=e.datosAcudiente.idAcudiente,e.infoAcudiente.idEstudiante=e.datosAcudiente.idEstudiante,e.infoAcudiente.id_parentesco=e.datosAcudiente.idParentesco,"170"!=e.infoAcudiente.id_nacionalidad&&(e.infoAcudiente.id_municipio_nacimiento="00000",e.deshabMunNace=!0))})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Datos acudiente. Intente más tarde. "+a)}));case 2:case"end":return a.stop()}}),a)})))()},ocuparCombos:function(){var e=this;this.comboGeneros=[],this.$store.state.datosTablas.generos.forEach((function(a){e.comboGeneros.push({value:a.id,text:a.genero.toUpperCase()})})),this.comboTiposDoc=[],this.$store.state.datosTablas.tiposdocumentos.forEach((function(a){e.comboTiposDoc.push({value:a.id,text:a.tipodocumento.toUpperCase()})})),this.comboMunicipios=[],this.$store.state.datosTablas.municipios.forEach((function(a){e.comboMunicipios.push({value:a.id,text:a.municipio.toUpperCase()+" - "+a.departamento.toUpperCase()})})),this.comboPaises=[],this.$store.state.datosTablas.paises.forEach((function(a){e.comboPaises.push({value:a.id,text:a.pais.toUpperCase()})})),this.comboParentescos=[],this.$store.state.datosTablas.parentescos.forEach((function(a){e.comboParentescos.push({value:a.id,text:a.parentesco.toUpperCase()})}))},soloLetras:function(e){var a=window.Event?e.which:e.keyCode;a>=65&&a<=90||a>=97&&a<=122||193==a||201==a||205==a||211==a||218==a||225==a||233==a||237==a||243==a||250==a||192==a||32==a||8==a||9==a||37==a||39==a||e.preventDefault()},soloNumeros:function(e){var a=window.Event?e.which:e.keyCode;a>=48&&a<=57||a>=96&&a<=105||8==a||9==a||37==a||39==a||e.preventDefault()},soloNumerosLetras:function(e){var a=window.Event?e.which:e.keyCode;a>=48&&a<=57||a>=65&&a<=90||a>=96&&a<=122||193==a||201==a||205==a||211==a||218==a||225==a||233==a||237==a||243==a||250==a||192==a||32==a||8==a||9==a||37==a||39==a||e.preventDefault()},cancelarFormulario:function(){this.$emit("retorno",0)},validateStateD:function(e){var a=this.$v.infoAcudiente[e],t=a.$dirty,i=a.$error;return t?!i:null},mensajeEmergente:function(e,a,t){this.$bvToast.toast(t,{title:a,variant:e,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.consultaDatosAcudienteId(),this.ocuparCombos()}},v=b,h=t("2877"),_=Object(h["a"])(v,m,f,!1,null,null,null),g=_.exports,$=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("b-row",{staticClass:"mt-2"},[t("b-col",{attrs:{lg:"12"}},[t("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[t("h5",{staticClass:"mb-0"},[t("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),e._v(" DATOS DEL PAPÁ")],1)]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticClass:"float-right text-medium-emphasis text-info"},[e._v("* Campo requerido")]),t("div",[t("b-button",{staticClass:"small",attrs:{variant:"primary"},on:{click:e.validarDatosFormulario}},[e._v("Actualizar Datos del Papá")]),t("b-button",{staticClass:"small ml-3",attrs:{variant:"secondary"},on:{click:e.cancelarFormulario}},[e._v("Cancelar")])],1)]},proxy:!0}])},[t("b-card-text",[t("b-row",[t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Número de Documento*","label-for":"doc"}},[t("b-input-group",[t("b-form-input",{ref:"doc",attrs:{id:"doc",state:e.validateStateD("documento"),"aria-describedby":"feedDoc",autocomplete:"off",maxlength:"50"},on:{keydown:e.soloNumerosLetras,blur:function(a){return e.buscarDocumentoPapa()}},model:{value:e.$v.infoPapa.documento.$model,callback:function(a){e.$set(e.$v.infoPapa.documento,"$model",a)},expression:"$v.infoPapa.documento.$model"}}),t("b-input-group-append",[t("b-button",{attrs:{variant:"primary"},on:{click:function(a){return e.buscarDocumentoPapa()}}},[e._v("Buscar")])],1),t("b-form-invalid-feedback",{attrs:{id:"feedDoc"}},[e._v("Campo requerido.")])],1)],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Tipo Documento*","label-for":"tipoDoc"}},[t("b-form-select",{ref:"tipoDoc",attrs:{id:"tipoDoc",options:e.comboTiposDoc,state:e.validateStateD("id_tipo_documento"),"aria-describedby":"feedTipoDoc"},model:{value:e.$v.infoPapa.id_tipo_documento.$model,callback:function(a){e.$set(e.$v.infoPapa.id_tipo_documento,"$model",a)},expression:"$v.infoPapa.id_tipo_documento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedTipoDoc"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Expedición del Documento*","label-for":"muniDoc"}},[t("b-form-select",{ref:"muniDoc",attrs:{id:"muniDoc",options:e.comboMunicipios,state:e.validateStateD("id_municipio_documento"),"aria-describedby":"feedMuniDoc"},model:{value:e.$v.infoPapa.id_municipio_documento.$model,callback:function(a){e.$set(e.$v.infoPapa.id_municipio_documento,"$model",a)},expression:"$v.infoPapa.id_municipio_documento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMuniDoc"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Primer Apellido*","label-for":"ape1"}},[t("b-form-input",{ref:"ape1",attrs:{id:"ape1",state:e.validateStateD("apellido1"),"aria-describedby":"feedApe1",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoPapa.apellido1.$model,callback:function(a){e.$set(e.$v.infoPapa.apellido1,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoPapa.apellido1.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedApe1"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Segundo Apellido","label-for":"ape2"}},[t("b-form-input",{ref:"ape2",attrs:{id:"ape2",state:e.validateStateD("apellido2"),"aria-describedby":"feedApe2",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoPapa.apellido2.$model,callback:function(a){e.$set(e.$v.infoPapa.apellido2,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoPapa.apellido2.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedApe2"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Primer Nombre*","label-for":"nom1"}},[t("b-form-input",{ref:"nom1",attrs:{id:"nom1",state:e.validateStateD("nombre1"),"aria-describedby":"feedNom1",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoPapa.nombre1.$model,callback:function(a){e.$set(e.$v.infoPapa.nombre1,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoPapa.nombre1.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedNom1"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Segundo Nombre","label-for":"nom2"}},[t("b-form-input",{ref:"nom2",attrs:{id:"nom2",state:e.validateStateD("nombre2"),"aria-describedby":"feedNom2",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoPapa.nombre2.$model,callback:function(a){e.$set(e.$v.infoPapa.nombre2,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoPapa.nombre2.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedNom2"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Fecha de Nacimiento*","label-for":"fechaN"}},[t("b-form-input",{ref:"fechaN",attrs:{id:"fechaN",type:"date",state:e.validateStateD("fecha_nacimiento"),"aria-describedby":"feedFechaN"},model:{value:e.$v.infoPapa.fecha_nacimiento.$model,callback:function(a){e.$set(e.$v.infoPapa.fecha_nacimiento,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoPapa.fecha_nacimiento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedFechaN"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Nacionalidad*","label-for":"nacional"}},[t("b-form-select",{ref:"nacional",attrs:{id:"nacional",options:e.comboPaises,state:e.validateStateD("id_nacionalidad"),"aria-describedby":"feedNal"},on:{change:e.habilitaMunicipioNace},model:{value:e.$v.infoPapa.id_nacionalidad.$model,callback:function(a){e.$set(e.$v.infoPapa.id_nacionalidad,"$model",a)},expression:"$v.infoPapa.id_nacionalidad.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedNal"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Nacimiento*","label-for":"muniNace"}},[t("b-form-select",{ref:"muniNace",attrs:{id:"muniNace",options:e.comboMunicipios,state:e.validateStateD("id_municipio_nacimiento"),"aria-describedby":"feedMuniNaceA",disabled:e.deshabMunNace},model:{value:e.$v.infoPapa.id_municipio_nacimiento.$model,callback:function(a){e.$set(e.$v.infoPapa.id_municipio_nacimiento,"$model",a)},expression:"$v.infoPapa.id_municipio_nacimiento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMuniNace"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Dirección de Residencia*","label-for":"dir"}},[t("b-form-input",{ref:"dir",attrs:{id:"dir",state:e.validateStateD("direccion"),"aria-describedby":"feedDir",autocomplete:"off",maxlength:"100"},model:{value:e.$v.infoPapa.direccion.$model,callback:function(a){e.$set(e.$v.infoPapa.direccion,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoPapa.direccion.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedDir"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Residencia*","label-for":"muniRes"}},[t("b-form-select",{ref:"muniRes",attrs:{id:"muniRes",options:e.comboMunicipios,state:e.validateStateD("id_municipio_direccion"),"aria-describedby":"feedMuniRes"},model:{value:e.$v.infoPapa.id_municipio_direccion.$model,callback:function(a){e.$set(e.$v.infoPapa.id_municipio_direccion,"$model",a)},expression:"$v.infoPapa.id_municipio_direccion.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMuniRes"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Teléfono Principal*","label-for":"tel1"}},[t("b-form-input",{ref:"tel1",attrs:{id:"tel1",state:e.validateStateD("telefono1"),"aria-describedby":"feedTel1",autocomplete:"off",maxlength:"15"},on:{keydown:e.soloNumeros},model:{value:e.$v.infoPapa.telefono1.$model,callback:function(a){e.$set(e.$v.infoPapa.telefono1,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoPapa.telefono1.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedTel1"}},[e._v("El número debe contener 10 dígitos.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Teléfono Opcional","label-for":"tel2"}},[t("b-form-input",{ref:"tel2",attrs:{id:"tel2",state:e.validateStateD("telefono2"),"aria-describedby":"feedTel2",autocomplete:"off",maxlength:"15"},on:{keydown:e.soloNumeros},model:{value:e.$v.infoPapa.telefono2.$model,callback:function(a){e.$set(e.$v.infoPapa.telefono2,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoPapa.telefono2.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedTel2"}},[e._v("El número debe contener 10 dígitos.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Correo Electrónico*","label-for":"correo"}},[t("b-form-input",{ref:"correo",attrs:{id:"correo",state:e.validateStateD("correo"),"aria-describedby":"feedCorreo",autocomplete:"off",maxlength:"50"},model:{value:e.$v.infoPapa.correo.$model,callback:function(a){e.$set(e.$v.infoPapa.correo,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoPapa.correo.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedCorreo"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Ocupación Laboral","label-for":"ocupacion"}},[t("b-form-input",{ref:"ocupacion",attrs:{id:"ocupacion","aria-describedby":"feedOcupacion",autocomplete:"on",maxlength:"100"},model:{value:e.infoPapa.ocupacion,callback:function(a){e.$set(e.infoPapa,"ocupacion","string"===typeof a?a.trim():a)},expression:"infoPapa.ocupacion"}}),t("b-form-invalid-feedback",{attrs:{id:"feedOcupacion"}},[e._v("Campo requerido.")])],1)],1)],1)],1)],1)],1)],1)],1)},E=[],C={name:"fichapapa",mixins:[c["validationMixin"]],props:{datosPapa:Object},components:{},data:function(){return{infoPapa:{documento:null,id_tipo_documento:null,id_municipio_documento:null,nombre1:null,nombre2:null,apellido1:null,apellido2:null,fecha_nacimiento:null,id_municipio_nacimiento:null,id_nacionalidad:null,direccion:null,id_municipio_direccion:null,telefono1:null,telefono2:null,correo:null,ocupacion:null,idPapa:null,idEstudiante:null},comboTiposDoc:[],comboMunicipios:[],comboGeneros:[],comboPaises:[],papaExiste:!0,deshabMunNace:!1}},validations:{infoPapa:{documento:{minLength:Object(l["minLength"])(6)},id_tipo_documento:{required:l["required"]},id_municipio_documento:{required:l["required"]},id_nacionalidad:{required:l["required"]},id_municipio_nacimiento:{required:l["required"]},nombre1:{required:l["required"]},nombre2:{minLength:Object(l["minLength"])(0)},apellido1:{required:l["required"]},apellido2:{minLength:Object(l["minLength"])(0)},fecha_nacimiento:{required:l["required"]},direccion:{required:l["required"]},id_municipio_direccion:{required:l["required"]},telefono1:{required:l["required"],minLength:Object(l["minLength"])(10)},telefono2:{minLength:Object(l["minLength"])(0)},correo:{required:l["required"],minLength:Object(l["minLength"])(5)}}},methods:{habilitaMunicipioNace:function(){"170"==this.infoPapa.id_nacionalidad?(this.infoPapa.id_municipio_nacimiento=null,this.deshabMunNace=!1):(this.infoPapa.id_municipio_nacimiento="00000",this.deshabMunNace=!0)},buscarDocumentoPapa:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.papaExiste=!1,e.deshabMunNace=!1,a.next=4,d.a.get(s["d"]+"academico/matriculas/buscardocumentopersona",{params:{documento:e.infoPapa.documento}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Buscar documento persona"):(0!=a.data.datos?(e.infoPapa.idPapa=a.data.datos.id,e.infoPapa.apellido1=a.data.datos.apellido1,e.infoPapa.apellido2=a.data.datos.apellido2,e.infoPapa.nombre1=a.data.datos.nombre1,e.infoPapa.nombre2=a.data.datos.nombre2,e.infoPapa.documento=a.data.datos.documento,e.infoPapa.id_tipo_documento=a.data.datos.id_tipo_documento,e.infoPapa.id_municipio_documento=a.data.datos.id_municipio_documento,null!=a.data.datos.fecha_nacimiento?e.infoPapa.fecha_nacimiento=a.data.datos.fecha_nacimiento.substr(0,10):e.infoPapa.fecha_nacimiento=null,e.infoPapa.id_nacionalidad=a.data.datos.id_nacionalidad,e.infoPapa.id_municipio_nacimiento=a.data.datos.id_municipio_nacimiento,e.infoPapa.direccion=a.data.datos.direccion,e.infoPapa.id_municipio_direccion=a.data.datos.id_municipio_direccion,e.infoPapa.telefono1=a.data.datos.telefono1,e.infoPapa.telefono2=a.data.datos.telefono2,e.infoPapa.correo=a.data.datos.correo,e.infoPapa.ocupacion=a.data.datos.ocupacion,e.infoPapa.idEstudiante=e.datosPapa.idEstudiante,e.papaExiste=!0):(e.infoPapa.idPapa=p["b"].v1(),e.infoPapa.id_tipo_documento=1,e.infoPapa.id_municipio_documento="15001",e.infoPapa.nombre1=null,e.infoPapa.nombre2=null,e.infoPapa.apellido1=null,e.infoPapa.apellido2=null,e.infoPapa.fecha_nacimiento=null,e.infoPapa.id_municipio_nacimiento="15001",e.infoPapa.id_nacionalidad="170",e.infoPapa.direccion=null,e.infoPapa.id_municipio_direccion="15001",e.infoPapa.telefono1=null,e.infoPapa.telefono2=null,e.infoPapa.correo=null,e.infoPapa.ocupacion=null,e.infoPapa.idEstudiante=e.datosPapa.idEstudiante,e.papaExiste=!1),"170"!=e.infoPapa.id_nacionalidad&&(e.infoPapa.id_municipio_nacimiento="00000",e.deshabMunNace=!0))})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Buscar documento persona. Intente más tarde. "+a)}));case 4:case"end":return a.stop()}}),a)})))()},validarDatosFormulario:function(){var e=this;if(this.$v.infoPapa.$touch(),this.$v.infoPapa.$anyError)return this.mensajeEmergente("danger",s["h"],"Algunos campos están incompletos."),!1;var a="Actualizar Datos del Papá",t="¿Esta seguro de Actualizar los Datos del Papá?";return this.$bvModal.msgBoxConfirm(t,{headerBgVariant:"primary",headerTextVariant:"light",bodyBgVariant:"light",bodyBgClass:"text-center",title:a,size:"",buttonSize:"sm",okVariant:"primary",okTitle:"Si, "+a,cancelVariant:"danger",cancelTitle:"Cancelar",footerClass:"p-2",bodyClass:"p-5",hideHeaderClose:!1,centered:!0}).then((function(a){a&&e.guardarDatosPapa()})),!0},guardarDatosPapa:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.infoPapa.apellido1=e.infoPapa.apellido1.toUpperCase(),""==e.infoPapa.apellido2||null==e.infoPapa.apellido2?e.infoPapa.apellido2=null:e.infoPapa.apellido2=e.infoPapa.apellido2.toUpperCase(),e.infoPapa.nombre1=e.infoPapa.nombre1.toUpperCase(),""==e.infoPapa.nombre2||null==e.infoPapa.nombre2?e.infoPapa.nombre2=null:e.infoPapa.nombre2=e.infoPapa.nombre2.toUpperCase(),""!=e.infoPapa.telefono2&&null!=e.infoPapa.telefono2||e.infoPapa.telefono2,""==e.infoPapa.ocupacion||null==e.infoPapa.ocupacion?e.infoPapa.ocupacion=null:e.infoPapa.ocupacion=e.infoPapa.ocupacion.toUpperCase(),e.infoPapa.correo=e.infoPapa.correo.toLowerCase(),e.infoPapa.papaExiste=e.papaExiste,a.next=10,d.a.post(s["d"]+"academico/papa",JSON.stringify(e.infoPapa),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Actualizar Papá"):e.$emit("retorno",1)})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Papá. Intente más tarde. "+a)}));case 10:case"end":return a.stop()}}),a)})))()},consultaDatosPapaId:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,d.a.get(s["d"]+"academico/papas",{params:{idPapa:e.datosPapa.idPapa}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Datos Papá"):(0!=a.data.datos?(e.infoPapa=a.data.datos,null!=e.infoPapa.fecha_nacimiento&&""!=e.infoPapa.fecha_nacimiento&&(e.infoPapa.fecha_nacimiento=e.infoPapa.fecha_nacimiento.substr(0,10)),e.papaExiste=!0):(e.infoPapa.documento=null,e.infoPapa.id_tipo_documento=1,e.infoPapa.id_municipio_documento="15001",e.infoPapa.nombre1=null,e.infoPapa.nombre2=null,e.infoPapa.apellido1=null,e.infoPapa.apellido2=null,e.infoPapa.fecha_nacimiento=null,e.infoPapa.id_municipio_nacimiento="15001",e.infoPapa.id_nacionalidad="170",e.infoPapa.direccion=null,e.infoPapa.id_municipio_direccion="15001",e.infoPapa.telefono1=null,e.infoPapa.telefono2=null,e.infoPapa.correo=null,e.infoPapa.ocupacion=null,e.papaExiste=!1),e.infoPapa.idPapa=e.datosPapa.idPapa,e.infoPapa.idEstudiante=e.datosPapa.idEstudiante,"170"!=e.infoPapa.id_nacionalidad&&(e.infoPapa.id_municipio_nacimiento="00000",e.deshabMunNace=!0))})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Datos Papá. Intente más tarde. "+a)}));case 2:case"end":return a.stop()}}),a)})))()},ocuparCombos:function(){var e=this;this.comboGeneros=[],this.$store.state.datosTablas.generos.forEach((function(a){e.comboGeneros.push({value:a.id,text:a.genero.toUpperCase()})})),this.comboTiposDoc=[],this.$store.state.datosTablas.tiposdocumentos.forEach((function(a){e.comboTiposDoc.push({value:a.id,text:a.tipodocumento.toUpperCase()})})),this.comboMunicipios=[],this.$store.state.datosTablas.municipios.forEach((function(a){e.comboMunicipios.push({value:a.id,text:a.municipio.toUpperCase()+" - "+a.departamento.toUpperCase()})})),this.comboPaises=[],this.$store.state.datosTablas.paises.forEach((function(a){e.comboPaises.push({value:a.id,text:a.pais.toUpperCase()})}))},soloLetras:function(e){var a=window.Event?e.which:e.keyCode;a>=65&&a<=90||a>=97&&a<=122||193==a||201==a||205==a||211==a||218==a||225==a||233==a||237==a||243==a||250==a||192==a||32==a||8==a||9==a||37==a||39==a||e.preventDefault()},soloNumeros:function(e){var a=window.Event?e.which:e.keyCode;a>=48&&a<=57||a>=96&&a<=105||8==a||9==a||37==a||39==a||e.preventDefault()},soloNumerosLetras:function(e){var a=window.Event?e.which:e.keyCode;a>=48&&a<=57||a>=65&&a<=90||a>=96&&a<=122||193==a||201==a||205==a||211==a||218==a||225==a||233==a||237==a||243==a||250==a||192==a||32==a||8==a||9==a||37==a||39==a||e.preventDefault()},cancelarFormulario:function(){this.$emit("retorno",0)},validateStateD:function(e){var a=this.$v.infoPapa[e],t=a.$dirty,i=a.$error;return t?!i:null},mensajeEmergente:function(e,a,t){this.$bvToast.toast(t,{title:a,variant:e,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.consultaDatosPapaId(),this.ocuparCombos()}},M=C,A=Object(h["a"])(M,$,E,!1,null,null,null),x=A.exports,y=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("b-row",{staticClass:"mt-2"},[t("b-col",{attrs:{lg:"12"}},[t("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[t("h5",{staticClass:"mb-0"},[t("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),e._v(" DATOS DE LA MAMÁ")],1)]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticClass:"float-right text-medium-emphasis text-info"},[e._v("* Campo requerido")]),t("div",[t("b-button",{staticClass:"small",attrs:{variant:"primary"},on:{click:e.validarDatosFormulario}},[e._v("Actualizar Datos del Mamá")]),t("b-button",{staticClass:"small ml-3",attrs:{variant:"secondary"},on:{click:e.cancelarFormulario}},[e._v("Cancelar")])],1)]},proxy:!0}])},[t("b-card-text",[t("b-row",[t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Número de Documento*","label-for":"doc"}},[t("b-input-group",[t("b-form-input",{ref:"doc",attrs:{id:"doc",state:e.validateStateD("documento"),"aria-describedby":"feedDoc",autocomplete:"off",maxlength:"50"},on:{keydown:e.soloNumerosLetras,blur:function(a){return e.buscarDocumentoMama()}},model:{value:e.$v.infoMama.documento.$model,callback:function(a){e.$set(e.$v.infoMama.documento,"$model",a)},expression:"$v.infoMama.documento.$model"}}),t("b-input-group-append",[t("b-button",{attrs:{variant:"primary"},on:{click:function(a){return e.buscarDocumentoMama()}}},[e._v("Buscar")])],1),t("b-form-invalid-feedback",{attrs:{id:"feedDoc"}},[e._v("Campo requerido.")])],1)],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Tipo Documento*","label-for":"tipoDoc"}},[t("b-form-select",{ref:"tipoDoc",attrs:{id:"tipoDoc",options:e.comboTiposDoc,state:e.validateStateD("id_tipo_documento"),"aria-describedby":"feedTipoDoc"},model:{value:e.$v.infoMama.id_tipo_documento.$model,callback:function(a){e.$set(e.$v.infoMama.id_tipo_documento,"$model",a)},expression:"$v.infoMama.id_tipo_documento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedTipoDoc"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Expedición del Documento*","label-for":"muniDoc"}},[t("b-form-select",{ref:"muniDoc",attrs:{id:"muniDoc",options:e.comboMunicipios,state:e.validateStateD("id_municipio_documento"),"aria-describedby":"feedMuniDoc"},model:{value:e.$v.infoMama.id_municipio_documento.$model,callback:function(a){e.$set(e.$v.infoMama.id_municipio_documento,"$model",a)},expression:"$v.infoMama.id_municipio_documento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMuniDoc"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Primer Apellido*","label-for":"ape1"}},[t("b-form-input",{ref:"ape1",attrs:{id:"ape1",state:e.validateStateD("apellido1"),"aria-describedby":"feedApe1",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoMama.apellido1.$model,callback:function(a){e.$set(e.$v.infoMama.apellido1,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoMama.apellido1.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedApe1"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Segundo Apellido","label-for":"ape2"}},[t("b-form-input",{ref:"ape2",attrs:{id:"ape2",state:e.validateStateD("apellido2"),"aria-describedby":"feedApe2",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoMama.apellido2.$model,callback:function(a){e.$set(e.$v.infoMama.apellido2,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoMama.apellido2.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedApe2"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Primer Nombre*","label-for":"nom1"}},[t("b-form-input",{ref:"nom1",attrs:{id:"nom1",state:e.validateStateD("nombre1"),"aria-describedby":"feedNom1",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoMama.nombre1.$model,callback:function(a){e.$set(e.$v.infoMama.nombre1,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoMama.nombre1.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedNom1"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Segundo Nombre","label-for":"nom2"}},[t("b-form-input",{ref:"nom2",attrs:{id:"nom2",state:e.validateStateD("nombre2"),"aria-describedby":"feedNom2",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoMama.nombre2.$model,callback:function(a){e.$set(e.$v.infoMama.nombre2,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoMama.nombre2.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedNom2"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Fecha de Nacimiento*","label-for":"fechaN"}},[t("b-form-input",{ref:"fechaN",attrs:{id:"fechaN",type:"date",state:e.validateStateD("fecha_nacimiento"),"aria-describedby":"feedFechaN"},model:{value:e.$v.infoMama.fecha_nacimiento.$model,callback:function(a){e.$set(e.$v.infoMama.fecha_nacimiento,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoMama.fecha_nacimiento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedFechaN"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Nacionalidad*","label-for":"nacional"}},[t("b-form-select",{ref:"nacional",attrs:{id:"nacional",options:e.comboPaises,state:e.validateStateD("id_nacionalidad"),"aria-describedby":"feedNal"},on:{change:e.habilitaMunicipioNace},model:{value:e.$v.infoMama.id_nacionalidad.$model,callback:function(a){e.$set(e.$v.infoMama.id_nacionalidad,"$model",a)},expression:"$v.infoMama.id_nacionalidad.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedNal"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Nacimiento*","label-for":"muniNace"}},[t("b-form-select",{ref:"muniNace",attrs:{id:"muniNace",options:e.comboMunicipios,state:e.validateStateD("id_municipio_nacimiento"),"aria-describedby":"feedMuniNaceA",disabled:e.deshabMunNace},model:{value:e.$v.infoMama.id_municipio_nacimiento.$model,callback:function(a){e.$set(e.$v.infoMama.id_municipio_nacimiento,"$model",a)},expression:"$v.infoMama.id_municipio_nacimiento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMuniNace"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Dirección de Residencia*","label-for":"dir"}},[t("b-form-input",{ref:"dir",attrs:{id:"dir",state:e.validateStateD("direccion"),"aria-describedby":"feedDir",autocomplete:"off",maxlength:"100"},model:{value:e.$v.infoMama.direccion.$model,callback:function(a){e.$set(e.$v.infoMama.direccion,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoMama.direccion.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedDir"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Residencia*","label-for":"muniRes"}},[t("b-form-select",{ref:"muniRes",attrs:{id:"muniRes",options:e.comboMunicipios,state:e.validateStateD("id_municipio_direccion"),"aria-describedby":"feedMuniRes"},model:{value:e.$v.infoMama.id_municipio_direccion.$model,callback:function(a){e.$set(e.$v.infoMama.id_municipio_direccion,"$model",a)},expression:"$v.infoMama.id_municipio_direccion.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMuniRes"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Teléfono Principal*","label-for":"tel1"}},[t("b-form-input",{ref:"tel1",attrs:{id:"tel1",state:e.validateStateD("telefono1"),"aria-describedby":"feedTel1",autocomplete:"off",maxlength:"15"},on:{keydown:e.soloNumeros},model:{value:e.$v.infoMama.telefono1.$model,callback:function(a){e.$set(e.$v.infoMama.telefono1,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoMama.telefono1.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedTel1"}},[e._v("El número debe contener 10 dígitos.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Teléfono Opcional","label-for":"tel2"}},[t("b-form-input",{ref:"tel2",attrs:{id:"tel2",state:e.validateStateD("telefono2"),"aria-describedby":"feedTel2",autocomplete:"off",maxlength:"15"},on:{keydown:e.soloNumeros},model:{value:e.$v.infoMama.telefono2.$model,callback:function(a){e.$set(e.$v.infoMama.telefono2,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoMama.telefono2.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedTel2"}},[e._v("El número debe contener 10 dígitos.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Correo Electrónico*","label-for":"correo"}},[t("b-form-input",{ref:"correo",attrs:{id:"correo",state:e.validateStateD("correo"),"aria-describedby":"feedCorreo",autocomplete:"off",maxlength:"50"},model:{value:e.$v.infoMama.correo.$model,callback:function(a){e.$set(e.$v.infoMama.correo,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoMama.correo.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedCorreo"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Ocupación Laboral","label-for":"ocupacion"}},[t("b-form-input",{ref:"ocupacion",attrs:{id:"ocupacion","aria-describedby":"feedOcupacion",autocomplete:"on",maxlength:"100"},model:{value:e.infoMama.ocupacion,callback:function(a){e.$set(e.infoMama,"ocupacion","string"===typeof a?a.trim():a)},expression:"infoMama.ocupacion"}}),t("b-form-invalid-feedback",{attrs:{id:"feedOcupacion"}},[e._v("Campo requerido.")])],1)],1)],1)],1)],1)],1)],1)],1)},k=[],q={name:"fichamama",mixins:[c["validationMixin"]],props:{datosMama:Object},components:{},data:function(){return{infoMama:{documento:null,id_tipo_documento:null,id_municipio_documento:null,nombre1:null,nombre2:null,apellido1:null,apellido2:null,fecha_nacimiento:null,id_municipio_nacimiento:null,id_nacionalidad:null,direccion:null,id_municipio_direccion:null,telefono1:null,telefono2:null,correo:null,ocupacion:null,idMama:null,idEstudiante:null},comboTiposDoc:[],comboMunicipios:[],comboGeneros:[],comboPaises:[],mamaExiste:!0,deshabMunNace:!1}},validations:{infoMama:{documento:{minLength:Object(l["minLength"])(6)},id_tipo_documento:{required:l["required"]},id_municipio_documento:{required:l["required"]},id_nacionalidad:{required:l["required"]},id_municipio_nacimiento:{required:l["required"]},nombre1:{required:l["required"]},nombre2:{minLength:Object(l["minLength"])(0)},apellido1:{required:l["required"]},apellido2:{minLength:Object(l["minLength"])(0)},fecha_nacimiento:{required:l["required"]},direccion:{required:l["required"]},id_municipio_direccion:{required:l["required"]},telefono1:{required:l["required"],minLength:Object(l["minLength"])(10)},telefono2:{minLength:Object(l["minLength"])(0)},correo:{required:l["required"],minLength:Object(l["minLength"])(5)}}},methods:{habilitaMunicipioNace:function(){"170"==this.infoMama.id_nacionalidad?(this.infoMama.id_municipio_nacimiento=null,this.deshabMunNace=!1):(this.infoMama.id_municipio_nacimiento="00000",this.deshabMunNace=!0)},buscarDocumentoMama:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.mamaExiste=!1,e.deshabMunNace=!1,a.next=4,d.a.get(s["d"]+"academico/matriculas/buscardocumentopersona",{params:{documento:e.infoMama.documento}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Buscar documento persona"):(0!=a.data.datos?(e.infoMama.idMama=a.data.datos.id,e.infoMama.apellido1=a.data.datos.apellido1,e.infoMama.apellido2=a.data.datos.apellido2,e.infoMama.nombre1=a.data.datos.nombre1,e.infoMama.nombre2=a.data.datos.nombre2,e.infoMama.documento=a.data.datos.documento,e.infoMama.id_tipo_documento=a.data.datos.id_tipo_documento,e.infoMama.id_municipio_documento=a.data.datos.id_municipio_documento,null!=a.data.datos.fecha_nacimiento?e.infoMama.fecha_nacimiento=a.data.datos.fecha_nacimiento.substr(0,10):e.infoMama.fecha_nacimiento=null,e.infoMama.id_nacionalidad=a.data.datos.id_nacionalidad,e.infoMama.id_municipio_nacimiento=a.data.datos.id_municipio_nacimiento,e.infoMama.id_genero=a.data.datos.id_genero,e.infoMama.id_rh=a.data.datos.id_rh,e.infoMama.id_estrato=a.data.datos.id_estrato,e.infoMama.id_sisben=a.data.datos.id_sisben,e.infoMama.id_eps=a.data.datos.id_eps,e.infoMama.direccion=a.data.datos.direccion,e.infoMama.id_municipio_direccion=a.data.datos.id_municipio_direccion,e.infoMama.barrio=a.data.datos.barrio,e.infoMama.id_zona=a.data.datos.id_zona,e.infoMama.telefono1=a.data.datos.telefono1,e.infoMama.telefono2=a.data.datos.telefono2,e.infoMama.correo=a.data.datos.correo,e.infoMama.ocupacion=a.data.datos.ocupacion,e.infoMama.idEstudiante=e.datosMama.idEstudiante,e.mamaExiste=!0):(e.infoMama.idMama=p["b"].v1(),e.infoMama.id_tipo_documento=1,e.infoMama.id_municipio_documento="15001",e.infoMama.nombre1=null,e.infoMama.nombre2=null,e.infoMama.apellido1=null,e.infoMama.apellido2=null,e.infoMama.fecha_nacimiento=null,e.infoMama.id_municipio_nacimiento="15001",e.infoMama.id_nacionalidad="170",e.infoMama.direccion=null,e.infoMama.id_municipio_direccion="15001",e.infoMama.telefono1=null,e.infoMama.telefono2=null,e.infoMama.correo=null,e.infoMama.ocupacion=null,e.infoMama.idEstudiante=e.datosMama.idEstudiante,e.mamaExiste=!1),"170"!=e.infoMama.id_nacionalidad&&(e.infoMama.id_municipio_nacimiento="00000",e.deshabMunNace=!0))})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Buscar documento persona. Intente más tarde. "+a)}));case 4:case"end":return a.stop()}}),a)})))()},validarDatosFormulario:function(){var e=this;if(this.$v.infoMama.$touch(),this.$v.infoMama.$anyError)return this.mensajeEmergente("danger",s["h"],"Algunos campos están incompletos."),!1;var a="Actualizar Datos de la Mamá",t="¿Esta seguro de Actualizar los Datos de la Mamá?";return this.$bvModal.msgBoxConfirm(t,{headerBgVariant:"primary",headerTextVariant:"light",bodyBgVariant:"light",bodyBgClass:"text-center",title:a,size:"",buttonSize:"sm",okVariant:"primary",okTitle:"Si, "+a,cancelVariant:"danger",cancelTitle:"Cancelar",footerClass:"p-2",bodyClass:"p-5",hideHeaderClose:!1,centered:!0}).then((function(a){a&&e.guardarDatosMama()})),!0},guardarDatosMama:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.infoMama.apellido1=e.infoMama.apellido1.toUpperCase(),""==e.infoMama.apellido2||null==e.infoMama.apellido2?e.infoMama.apellido2=null:e.infoMama.apellido2=e.infoMama.apellido2.toUpperCase(),e.infoMama.nombre1=e.infoMama.nombre1.toUpperCase(),""==e.infoMama.nombre2||null==e.infoMama.nombre2?e.infoMama.nombre2=null:e.infoMama.nombre2=e.infoMama.nombre2.toUpperCase(),""!=e.infoMama.telefono2&&null!=e.infoMama.telefono2||e.infoMama.telefono2,""==e.infoMama.ocupacion||null==e.infoMama.ocupacion?e.infoMama.ocupacion=null:e.infoMama.ocupacion=e.infoMama.ocupacion.toUpperCase(),e.infoMama.correo=e.infoMama.correo.toLowerCase(),e.infoMama.mamaExiste=e.mamaExiste,a.next=10,d.a.post(s["d"]+"academico/mama",JSON.stringify(e.infoMama),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Actualizar Mamá"):e.$emit("retorno",1)})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Mamá. Intente más tarde. "+a)}));case 10:case"end":return a.stop()}}),a)})))()},consultaDatosMamaId:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,d.a.get(s["d"]+"academico/mamas",{params:{idMama:e.datosMama.idMama}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Datos Mamá"):(0!=a.data.datos?(e.infoMama=a.data.datos,null!=e.infoMama.fecha_nacimiento&&""!=e.infoMama.fecha_nacimiento&&(e.infoMama.fecha_nacimiento=e.infoMama.fecha_nacimiento.substr(0,10)),e.mamaExiste=!0):(e.infoMama.documento=null,e.infoMama.id_tipo_documento=1,e.infoMama.id_municipio_documento="15001",e.infoMama.nombre1=null,e.infoMama.nombre2=null,e.infoMama.apellido1=null,e.infoMama.apellido2=null,e.infoMama.fecha_nacimiento=null,e.infoMama.id_municipio_nacimiento="15001",e.infoMama.id_nacionalidad="170",e.infoMama.direccion=null,e.infoMama.id_municipio_direccion="15001",e.infoMama.telefono1=null,e.infoMama.telefono2=null,e.infoMama.correo=null,e.infoMama.ocupacion=null,e.mamaExiste=!1),e.infoMama.idMama=e.datosMama.idMama,e.infoMama.idEstudiante=e.datosMama.idEstudiante,"170"!=e.infoMama.id_nacionalidad&&(e.infoMama.id_municipio_nacimiento="00000",e.deshabMunNace=!0))})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Datos Mamá. Intente más tarde. "+a)}));case 2:case"end":return a.stop()}}),a)})))()},ocuparCombos:function(){var e=this;this.comboGeneros=[],this.$store.state.datosTablas.generos.forEach((function(a){e.comboGeneros.push({value:a.id,text:a.genero.toUpperCase()})})),this.comboTiposDoc=[],this.$store.state.datosTablas.tiposdocumentos.forEach((function(a){e.comboTiposDoc.push({value:a.id,text:a.tipodocumento.toUpperCase()})})),this.comboMunicipios=[],this.$store.state.datosTablas.municipios.forEach((function(a){e.comboMunicipios.push({value:a.id,text:a.municipio.toUpperCase()+" - "+a.departamento.toUpperCase()})})),this.comboPaises=[],this.$store.state.datosTablas.paises.forEach((function(a){e.comboPaises.push({value:a.id,text:a.pais.toUpperCase()})}))},soloLetras:function(e){var a=window.Event?e.which:e.keyCode;a>=65&&a<=90||a>=97&&a<=122||193==a||201==a||205==a||211==a||218==a||225==a||233==a||237==a||243==a||250==a||192==a||32==a||8==a||9==a||37==a||39==a||e.preventDefault()},soloNumeros:function(e){var a=window.Event?e.which:e.keyCode;a>=48&&a<=57||a>=96&&a<=105||8==a||9==a||37==a||39==a||e.preventDefault()},soloNumerosLetras:function(e){var a=window.Event?e.which:e.keyCode;a>=48&&a<=57||a>=65&&a<=90||a>=96&&a<=122||193==a||201==a||205==a||211==a||218==a||225==a||233==a||237==a||243==a||250==a||192==a||32==a||8==a||9==a||37==a||39==a||e.preventDefault()},cancelarFormulario:function(){this.$emit("retorno",0)},validateStateD:function(e){var a=this.$v.infoMama[e],t=a.$dirty,i=a.$error;return t?!i:null},mensajeEmergente:function(e,a,t){this.$bvToast.toast(t,{title:a,variant:e,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.consultaDatosMamaId(),this.ocuparCombos()}},D=q,F=Object(h["a"])(D,y,k,!1,null,null,null),P=F.exports,w=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("b-row",{staticClass:"mt-2"},[t("b-col",{attrs:{lg:"12"}},[t("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[t("h5",{staticClass:"mb-0"},[t("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),e._v(" DATOS DEL ESTUDIANTE")],1)]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticClass:"float-right text-medium-emphasis text-info"},[e._v("* Campo requerido")]),t("div",[t("b-button",{staticClass:"small",attrs:{variant:"primary"},on:{click:e.validarDatosFormulario}},[e._v("Actualizar Datos del Estudiante")]),t("b-button",{staticClass:"small ml-3",attrs:{variant:"secondary"},on:{click:e.cancelarFormulario}},[e._v("Cancelar")])],1)]},proxy:!0}])},[t("b-card-text",[t("b-row",[t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Número de Documento*","label-for":"doc"}},[t("b-input-group",[t("b-form-input",{ref:"doc",attrs:{id:"doc","aria-describedby":"feedDoc",autocomplete:"off",maxlength:"50",disabled:""},on:{keydown:e.soloNumerosLetras},model:{value:e.infoEstudiante.documento,callback:function(a){e.$set(e.infoEstudiante,"documento",a)},expression:"infoEstudiante.documento"}}),t("b-form-invalid-feedback",{attrs:{id:"feedDoc"}},[e._v("Campo requerido.")])],1)],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Tipo Documento*","label-for":"tipoDoc"}},[t("b-form-select",{ref:"tipoDoc",attrs:{id:"tipoDoc",options:e.comboTiposDoc,state:e.validateStateD("id_tipo_documento"),"aria-describedby":"feedTipoDoc"},model:{value:e.$v.infoEstudiante.id_tipo_documento.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_tipo_documento,"$model",a)},expression:"$v.infoEstudiante.id_tipo_documento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedTipoDoc"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Expedición del Documento*","label-for":"muniDoc"}},[t("b-form-select",{ref:"muniDoc",attrs:{id:"muniDoc",options:e.comboMunicipios,state:e.validateStateD("id_municipio_documento"),"aria-describedby":"feedMuniDoc"},model:{value:e.$v.infoEstudiante.id_municipio_documento.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_municipio_documento,"$model",a)},expression:"$v.infoEstudiante.id_municipio_documento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMuniDoc"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Primer Apellido*","label-for":"ape1"}},[t("b-form-input",{ref:"ape1",attrs:{id:"ape1",state:e.validateStateD("apellido1"),"aria-describedby":"feedApe1",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoEstudiante.apellido1.$model,callback:function(a){e.$set(e.$v.infoEstudiante.apellido1,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoEstudiante.apellido1.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedApe1"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Segundo Apellido","label-for":"ape2"}},[t("b-form-input",{ref:"ape2",attrs:{id:"ape2",state:e.validateStateD("apellido2"),"aria-describedby":"feedApe2",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoEstudiante.apellido2.$model,callback:function(a){e.$set(e.$v.infoEstudiante.apellido2,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoEstudiante.apellido2.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedApe2"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Primer Nombre*","label-for":"nom1"}},[t("b-form-input",{ref:"nom1",attrs:{id:"nom1",state:e.validateStateD("nombre1"),"aria-describedby":"feedNom1",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoEstudiante.nombre1.$model,callback:function(a){e.$set(e.$v.infoEstudiante.nombre1,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoEstudiante.nombre1.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedNom1"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Segundo Nombre","label-for":"nom2"}},[t("b-form-input",{ref:"nom2",attrs:{id:"nom2",state:e.validateStateD("nombre2"),"aria-describedby":"feedNom2",autocomplete:"off",maxlength:"30"},on:{keydown:e.soloLetras},model:{value:e.$v.infoEstudiante.nombre2.$model,callback:function(a){e.$set(e.$v.infoEstudiante.nombre2,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoEstudiante.nombre2.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedNom2"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Fecha de Nacimiento*","label-for":"fechaN"}},[t("b-form-input",{ref:"fechaN",attrs:{id:"fechaN",type:"date",state:e.validateStateD("fecha_nacimiento"),"aria-describedby":"feedFechaN"},model:{value:e.$v.infoEstudiante.fecha_nacimiento.$model,callback:function(a){e.$set(e.$v.infoEstudiante.fecha_nacimiento,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoEstudiante.fecha_nacimiento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedFechaN"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Nacionalidad*","label-for":"nacional"}},[t("b-form-select",{ref:"nacional",attrs:{id:"nacional",options:e.comboPaises,state:e.validateStateD("id_nacionalidad"),"aria-describedby":"feedNal"},model:{value:e.$v.infoEstudiante.id_nacionalidad.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_nacionalidad,"$model",a)},expression:"$v.infoEstudiante.id_nacionalidad.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedNal"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Nacimiento*","label-for":"muniNace"}},[t("b-form-select",{ref:"muniNace",attrs:{id:"muniNace",options:e.comboMunicipios,state:e.validateStateD("id_municipio_nacimiento"),"aria-describedby":"feedMuniNaceA"},model:{value:e.$v.infoEstudiante.id_municipio_nacimiento.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_municipio_nacimiento,"$model",a)},expression:"$v.infoEstudiante.id_municipio_nacimiento.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMuniNace"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Género*","label-for":"genero"}},[t("b-form-select",{ref:"genero",attrs:{id:"genero",options:e.comboGeneros,state:e.validateStateD("id_genero"),"aria-describedby":"feedGenero"},model:{value:e.$v.infoEstudiante.id_genero.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_genero,"$model",a)},expression:"$v.infoEstudiante.id_genero.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedGenero"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Grupo y Factor RH*","label-for":"rh"}},[t("b-form-select",{ref:"rh",attrs:{id:"rh",options:e.comboRhs,state:e.validateStateD("id_rh"),"aria-describedby":"feedRh"},model:{value:e.$v.infoEstudiante.id_rh.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_rh,"$model",a)},expression:"$v.infoEstudiante.id_rh.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedRh"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Grupo Etnico*","label-for":"etnia"}},[t("b-form-select",{ref:"etnia",attrs:{id:"etnia",options:e.comboEtnias,state:e.validateStateD("id_etnia"),"aria-describedby":"feedEtnia"},model:{value:e.$v.infoEstudiante.id_etnia.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_etnia,"$model",a)},expression:"$v.infoEstudiante.id_etnia.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedEtnia"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Discapacidad*","label-for":"discapacidad"}},[t("b-form-select",{ref:"discapacidad",attrs:{id:"discapacidad",options:e.comboDiscapacidades,state:e.validateStateD("id_discapacidad"),"aria-describedby":"feedDiscapacidad"},model:{value:e.$v.infoEstudiante.id_discapacidad.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_discapacidad,"$model",a)},expression:"$v.infoEstudiante.id_discapacidad.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedDiscapacidad"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Capacidades o Talentos Excepcionales*","label-for":"capacidades"}},[t("b-form-select",{ref:"capacidades",attrs:{id:"capacidades",options:e.comboCapacidades,state:e.validateStateD("id_capacidades"),"aria-describedby":"feedCapacidad"},model:{value:e.$v.infoEstudiante.id_capacidades.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_capacidades,"$model",a)},expression:"$v.infoEstudiante.id_capacidades.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedCapacidad"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Trastornos en el Aprendizaje Escolar*","label-for":"trastorno"}},[t("b-form-select",{ref:"trastorno",attrs:{id:"trastorno",options:e.comboTrastornos,state:e.validateStateD("id_trastorno"),"aria-describedby":"feedTrastorno"},model:{value:e.$v.infoEstudiante.id_trastorno.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_trastorno,"$model",a)},expression:"$v.infoEstudiante.id_trastorno.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedTrastorno"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Apoyo Académico Especial*","label-for":"apoyo"}},[t("b-form-select",{ref:"apoyo",attrs:{id:"apoyo",options:e.comboApoyos,state:e.validateStateD("id_apoyo"),"aria-describedby":"feedApoyo"},model:{value:e.$v.infoEstudiante.id_apoyo.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_apoyo,"$model",a)},expression:"$v.infoEstudiante.id_apoyo.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedApoyo"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Victima Conflicto*","label-for":"victima"}},[t("b-form-select",{ref:"victima",attrs:{id:"victima",options:e.comboVictimas,state:e.validateStateD("id_victima"),"aria-describedby":"feedVictima"},on:{change:e.habilitaMunicipioExpulsor},model:{value:e.$v.infoEstudiante.id_victima.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_victima,"$model",a)},expression:"$v.infoEstudiante.id_victima.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedVictima"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio Expulsor*","label-for":"muniExpulsor"}},[t("b-form-select",{ref:"muniExpulsor",attrs:{id:"muniExpulsor",options:e.comboMunicipios,state:e.validateStateD("id_municipio_expulsor"),"aria-describedby":"feedMuniExpulsor",disabled:e.deshabMuniExpulsor},model:{value:e.$v.infoEstudiante.id_municipio_expulsor.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_municipio_expulsor,"$model",a)},expression:"$v.infoEstudiante.id_municipio_expulsor.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMuniExpulsor"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"12",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Eps*","label-for":"eps"}},[t("b-form-select",{ref:"eps",attrs:{id:"eps",options:e.comboEps,state:e.validateStateD("id_eps"),"aria-describedby":"feedEps"},model:{value:e.$v.infoEstudiante.id_eps.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_eps,"$model",a)},expression:"$v.infoEstudiante.id_eps.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedEps"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"12",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Describa si tiene una enfermedad o tratamiento especial","label-for":"enfermedad"}},[t("b-form-textarea",{ref:"enfermedad",attrs:{id:"enfermedad","aria-describedby":"feedEnfermedad",autocomplete:"off",rows:"2"},model:{value:e.infoEstudiante.enfermedades,callback:function(a){e.$set(e.infoEstudiante,"enfermedades","string"===typeof a?a.trim():a)},expression:"infoEstudiante.enfermedades"}}),t("b-form-invalid-feedback",{attrs:{id:"feedEnfermedad"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Dirección de Residencia*","label-for":"dir"}},[t("b-form-input",{ref:"dir",attrs:{id:"dir",state:e.validateStateD("direccion"),"aria-describedby":"feedDir",autocomplete:"off",maxlength:"100"},model:{value:e.$v.infoEstudiante.direccion.$model,callback:function(a){e.$set(e.$v.infoEstudiante.direccion,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoEstudiante.direccion.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedDir"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Municipio de Residencia*","label-for":"muniRes"}},[t("b-form-select",{ref:"muniRes",attrs:{id:"muniRes",options:e.comboMunicipios,state:e.validateStateD("id_municipio_direccion"),"aria-describedby":"feedMuniRes"},model:{value:e.$v.infoEstudiante.id_municipio_direccion.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_municipio_direccion,"$model",a)},expression:"$v.infoEstudiante.id_municipio_direccion.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedMuniRes"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Barrio*","label-for":"barrio"}},[t("b-form-input",{ref:"barrio",attrs:{id:"barrio",state:e.validateStateD("barrio"),"aria-describedby":"feedBarrio",autocomplete:"on",maxlength:"50"},model:{value:e.$v.infoEstudiante.barrio.$model,callback:function(a){e.$set(e.$v.infoEstudiante.barrio,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoEstudiante.barrio.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedBarrio"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Zona*","label-for":"zona"}},[t("b-form-select",{ref:"zona",attrs:{id:"zona",options:e.comboZonas,state:e.validateStateD("id_zona"),"aria-describedby":"feedZona"},model:{value:e.$v.infoEstudiante.id_zona.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_zona,"$model",a)},expression:"$v.infoEstudiante.id_zona.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedZona"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Estrato*","label-for":"estrato"}},[t("b-form-select",{ref:"estrato",attrs:{id:"estrato",options:e.comboEstratos,state:e.validateStateD("id_estrato"),"aria-describedby":"feedEstrato"},model:{value:e.$v.infoEstudiante.id_estrato.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_estrato,"$model",a)},expression:"$v.infoEstudiante.id_estrato.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedEstrato"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Sisben*","label-for":"sisben"}},[t("b-form-select",{ref:"sisben",attrs:{id:"sisben",options:e.comboSisben,state:e.validateStateD("id_sisben"),"aria-describedby":"feedSisben"},model:{value:e.$v.infoEstudiante.id_sisben.$model,callback:function(a){e.$set(e.$v.infoEstudiante.id_sisben,"$model",a)},expression:"$v.infoEstudiante.id_sisben.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedSisben"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Teléfono Principal*","label-for":"tel1"}},[t("b-form-input",{ref:"tel1",attrs:{id:"tel1",state:e.validateStateD("telefono1"),"aria-describedby":"feedTel1",autocomplete:"off",maxlength:"15"},on:{keydown:e.soloNumeros},model:{value:e.$v.infoEstudiante.telefono1.$model,callback:function(a){e.$set(e.$v.infoEstudiante.telefono1,"$model","string"===typeof a?a.trim():a)},expression:"$v.infoEstudiante.telefono1.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedTel1"}},[e._v("El número debe contener 10 dígitos.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Teléfono Opcional","label-for":"tel2"}},[t("b-form-input",{ref:"tel2",attrs:{id:"tel2","aria-describedby":"feedTel2",autocomplete:"off",maxlength:"15"},on:{keydown:e.soloNumeros},model:{value:e.infoEstudiante.telefono2,callback:function(a){e.$set(e.infoEstudiante,"telefono2","string"===typeof a?a.trim():a)},expression:"infoEstudiante.telefono2"}}),t("b-form-invalid-feedback",{attrs:{id:"feedTel2"}},[e._v("El número debe contener 10 dígitos.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Correo Electrónico*","label-for":"correo"}},[t("b-form-input",{ref:"correo",attrs:{id:"correo","aria-describedby":"feedCorreo",autocomplete:"off",maxlength:"50"},model:{value:e.infoEstudiante.correo,callback:function(a){e.$set(e.infoEstudiante,"correo","string"===typeof a?a.trim():a)},expression:"infoEstudiante.correo"}}),t("b-form-invalid-feedback",{attrs:{id:"feedCorreo"}},[e._v("Campo requerido.")])],1)],1)],1)],1)],1)],1)],1)],1)},S=[],N={name:"fichaestudiante",mixins:[c["validationMixin"]],props:{datosEstudiante:Object},components:{},data:function(){return{infoEstudiante:{documento:null,id_tipo_documento:null,id_municipio_documento:null,nombre1:null,nombre2:null,apellido1:null,apellido2:null,fecha_nacimiento:null,id_municipio_nacimiento:null,id_nacionalidad:null,id_genero:null,id_rh:null,id_etnia:null,id_discapacidad:null,id_capacidades:null,id_trastorno:null,id_apoyo:null,id_victima:null,id_municipio_expulsor:null,id_eps:null,enfermedades:null,barrio:null,id_zona:null,id_estrato:null,id_sisben:null,direccion:null,id_municipio_direccion:null,telefono1:null,telefono2:null,correo:null,idEstudiante:null},deshabMuniExpulsor:!1,comboTiposDoc:[],comboMunicipios:[],comboPaises:[],comboGeneros:[],comboRhs:[],comboEtnias:[],comboDiscapacidades:[],comboCapacidades:[],comboTrastornos:[],comboApoyos:[],comboVictimas:[],comboEps:[],comboZonas:[],comboEstratos:[],comboSisben:[]}},validations:{infoEstudiante:{id_tipo_documento:{required:l["required"]},id_municipio_documento:{required:l["required"]},id_nacionalidad:{required:l["required"]},id_municipio_nacimiento:{required:l["required"]},nombre1:{required:l["required"]},nombre2:{minLength:Object(l["minLength"])(0)},apellido1:{required:l["required"]},apellido2:{minLength:Object(l["minLength"])(0)},fecha_nacimiento:{required:l["required"]},id_genero:{required:l["required"]},id_rh:{required:l["required"]},id_etnia:{required:l["required"]},id_discapacidad:{required:l["required"]},id_capacidades:{required:l["required"]},id_trastorno:{required:l["required"]},id_apoyo:{required:l["required"]},id_victima:{required:l["required"]},id_municipio_expulsor:{required:l["required"]},id_eps:{required:l["required"]},id_zona:{required:l["required"]},id_estrato:{required:l["required"]},id_sisben:{required:l["required"]},direccion:{required:l["required"]},barrio:{required:l["required"]},id_municipio_direccion:{required:l["required"]},telefono1:{required:l["required"],minLength:Object(l["minLength"])(10)}}},methods:{validarDatosFormulario:function(){var e=this;if(this.$v.infoEstudiante.$touch(),this.$v.infoEstudiante.$anyError)return this.mensajeEmergente("danger",s["h"],"Algunos campos están incompletos."),!1;var a="Actualizar Datos del Estudiante",t="¿Esta seguro de Actualizar los Datos del Estudiante?";return this.$bvModal.msgBoxConfirm(t,{headerBgVariant:"primary",headerTextVariant:"light",bodyBgVariant:"light",bodyBgClass:"text-center",title:a,size:"",buttonSize:"sm",okVariant:"primary",okTitle:"Si, "+a,cancelVariant:"danger",cancelTitle:"Cancelar",footerClass:"p-2",bodyClass:"p-5",hideHeaderClose:!1,centered:!0}).then((function(a){a&&e.guardarDatosEstudiante()})),!0},guardarDatosEstudiante:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.infoEstudiante.apellido1=e.infoEstudiante.apellido1.toUpperCase(),""==e.infoEstudiante.apellido2||null==e.infoEstudiante.apellido2?e.infoEstudiante.apellido2=null:e.infoEstudiante.apellido2=e.infoEstudiante.apellido2.toUpperCase(),e.infoEstudiante.nombre1=e.infoEstudiante.nombre1.toUpperCase(),""==e.infoEstudiante.nombre2||null==e.infoEstudiante.nombre2?e.infoEstudiante.nombre2=null:e.infoEstudiante.nombre2=e.infoEstudiante.nombre2.toUpperCase(),""!=e.infoEstudiante.telefono2&&null!=e.infoEstudiante.telefono2||e.infoEstudiante.telefono2,e.infoEstudiante.barrio=e.infoEstudiante.barrio.toUpperCase(),""==e.infoEstudiante.correo||null==e.infoEstudiante.correo?e.infoEstudiante.correo:e.infoEstudiante.correo=e.infoEstudiante.correo.toLowerCase(),""==e.infoEstudiante.enfermedades||null==e.infoEstudiante.enfermedades?e.infoEstudiante.enfermedades:e.infoEstudiante.enfermedades=e.infoEstudiante.enfermedades.toUpperCase(),a.next=10,d.a.post(s["d"]+"academico/estudiante",JSON.stringify(e.infoEstudiante),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Actualizar Estudiante"):e.$emit("retorno",1)})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Estudiante. Intente más tarde. "+a)}));case 10:case"end":return a.stop()}}),a)})))()},consultaDatosEstudianteId:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,d.a.get(s["d"]+"academico/estudiantes",{params:{idEstudiante:e.datosEstudiante.idEstudiante}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Datos Estudiante"):0!=a.data.datos&&(e.infoEstudiante=a.data.datos,null!=e.infoEstudiante.fecha_nacimiento&&""!=e.infoEstudiante.fecha_nacimiento&&(e.infoEstudiante.fecha_nacimiento=e.infoEstudiante.fecha_nacimiento.substr(0,10)),e.habilitaMunicipioExpulsor(),e.infoEstudiante.idEstudiante=e.datosEstudiante.idEstudiante)})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Datos Estudiante. Intente más tarde. "+a)}));case 2:case"end":return a.stop()}}),a)})))()},habilitaMunicipioExpulsor:function(){"1"==this.infoEstudiante.id_victima?(this.infoEstudiante.id_municipio_expulsor=null,this.deshabMuniExpulsor=!1):(this.infoEstudiante.id_municipio_expulsor="00000",this.deshabMuniExpulsor=!0)},ocuparCombos:function(){var e=this;this.comboZonas=[],this.$store.state.datosTablas.zonas.forEach((function(a){e.comboZonas.push({value:a.id,text:a.zona.toUpperCase()})})),this.comboEps=[],this.$store.state.datosTablas.eps.forEach((function(a){e.comboEps.push({value:a.id,text:a.eps.toUpperCase()})})),this.comboEtnias=[],this.$store.state.datosTablas.etnias.forEach((function(a){e.comboEtnias.push({value:a.id,text:a.etnia.toUpperCase()})})),this.comboVictimas=[],this.$store.state.datosTablas.victimas.forEach((function(a){e.comboVictimas.push({value:a.id,text:a.victima.toUpperCase()})})),this.comboCapacidades=[],this.$store.state.datosTablas.capacidades.forEach((function(a){e.comboCapacidades.push({value:a.id,text:a.capacidad.toUpperCase()})})),this.comboDiscapacidades=[],this.$store.state.datosTablas.discapacidades.forEach((function(a){e.comboDiscapacidades.push({value:a.id,text:a.discapacidad.toUpperCase()})})),this.comboTrastornos=[],this.$store.state.datosTablas.trastornos.forEach((function(a){e.comboTrastornos.push({value:a.id,text:a.trastorno.toUpperCase()})})),this.comboApoyos=[],this.$store.state.datosTablas.apoyos.forEach((function(a){e.comboApoyos.push({value:a.id,text:a.apoyo.toUpperCase()})})),this.comboEstratos=[],this.$store.state.datosTablas.estratos.forEach((function(a){e.comboEstratos.push({value:a.id,text:a.estrato.toUpperCase()})})),this.comboSisben=[],this.$store.state.datosTablas.sisben.forEach((function(a){e.comboSisben.push({value:a.id,text:a.subgrupo.toUpperCase()})})),this.comboRhs=[],this.$store.state.datosTablas.rhs.forEach((function(a){e.comboRhs.push({value:a.id,text:a.rh.toUpperCase()})})),this.comboGeneros=[],this.$store.state.datosTablas.generos.forEach((function(a){e.comboGeneros.push({value:a.id,text:a.genero.toUpperCase()})})),this.comboTiposDoc=[],this.$store.state.datosTablas.tiposdocumentos.forEach((function(a){e.comboTiposDoc.push({value:a.id,text:a.tipodocumento.toUpperCase()})})),this.comboMunicipios=[],this.$store.state.datosTablas.municipios.forEach((function(a){e.comboMunicipios.push({value:a.id,text:a.municipio.toUpperCase()+" - "+a.departamento.toUpperCase()})})),this.comboPaises=[],this.$store.state.datosTablas.paises.forEach((function(a){e.comboPaises.push({value:a.id,text:a.pais.toUpperCase()})}))},soloLetras:function(e){var a=window.Event?e.which:e.keyCode;a>=65&&a<=90||a>=97&&a<=122||193==a||201==a||205==a||211==a||218==a||225==a||233==a||237==a||243==a||250==a||192==a||32==a||8==a||9==a||37==a||39==a||e.preventDefault()},soloNumeros:function(e){var a=window.Event?e.which:e.keyCode;a>=48&&a<=57||a>=96&&a<=105||8==a||9==a||37==a||39==a||e.preventDefault()},soloNumerosLetras:function(e){var a=window.Event?e.which:e.keyCode;a>=48&&a<=57||a>=65&&a<=90||a>=96&&a<=122||193==a||201==a||205==a||211==a||218==a||225==a||233==a||237==a||243==a||250==a||192==a||32==a||8==a||9==a||37==a||39==a||e.preventDefault()},cancelarFormulario:function(){this.$emit("retorno",0)},validateStateD:function(e){var a=this.$v.infoEstudiante[e],t=a.$dirty,i=a.$error;return t?!i:null},mensajeEmergente:function(e,a,t){this.$bvToast.toast(t,{title:a,variant:e,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.consultaDatosEstudianteId(),this.ocuparCombos()}},T=N,R=Object(h["a"])(T,w,S,!1,null,null,null),j=R.exports,z=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("b-row",{staticClass:"mt-2"},[t("b-col",{attrs:{lg:"12"}},[t("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[t("h5",{staticClass:"mb-0"},[t("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),e._v(" DATOS DE LA MATRICULA")],1)]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticClass:"float-right text-medium-emphasis text-info"},[e._v("* Campo requerido")]),t("div",[t("b-button",{staticClass:"small",attrs:{variant:"primary"},on:{click:e.validarDatosFormulario}},[e._v("Actualizar Datos de la Matricula")]),t("b-button",{staticClass:"small ml-3",attrs:{variant:"secondary"},on:{click:e.cancelarFormulario}},[e._v("Cancelar")])],1)]},proxy:!0}])},[t("b-card-text",[t("b-row",[t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione la Sede*","label-for":"sedes"}},[t("b-form-select",{ref:"sedes",attrs:{id:"sedes",options:e.comboSedes,state:e.validateStateD("idSede"),"aria-describedby":"feedSede"},on:{change:function(a){e.infoMatricula.idGrado=null,e.infoMatricula.id_curso=null,e.ocuparComboGradosSede()}},model:{value:e.$v.infoMatricula.idSede.$model,callback:function(a){e.$set(e.$v.infoMatricula.idSede,"$model",a)},expression:"$v.infoMatricula.idSede.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedSede"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione el Grado*","label-for":"grados"}},[t("b-form-select",{ref:"grados",attrs:{id:"grados",options:e.comboGrados,state:e.validateStateD("id_grado"),"aria-describedby":"feedGrado"},on:{change:function(a){e.infoMatricula.id_curso=null,e.ocuparComboCursosGradosSede()}},model:{value:e.$v.infoMatricula.id_grado.$model,callback:function(a){e.$set(e.$v.infoMatricula.id_grado,"$model",a)},expression:"$v.infoMatricula.id_grado.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedGrado"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Seleccione el Curso*","label-for":"cursos"}},[t("b-form-select",{ref:"cursos",attrs:{id:"cursos",options:e.comboCursos,state:e.validateStateD("id_curso"),"aria-describedby":"feedCurso"},model:{value:e.$v.infoMatricula.id_curso.$model,callback:function(a){e.$set(e.$v.infoMatricula.id_curso,"$model",a)},expression:"$v.infoMatricula.id_curso.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedCurso"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Especialidad*","label-for":"especialidad"}},[t("b-form-select",{ref:"especialidad",attrs:{id:"especialidad",options:e.comboEspecialidades,state:e.validateStateD("id_especialidad"),"aria-describedby":"feedEspecial"},model:{value:e.$v.infoMatricula.id_especialidad.$model,callback:function(a){e.$set(e.$v.infoMatricula.id_especialidad,"$model",a)},expression:"$v.infoMatricula.id_especialidad.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedEspecial"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Estudiante Nuevo*","label-for":"nuevo"}},[t("b-form-select",{ref:"nuevo",attrs:{id:"nuevo",options:e.comboNuevo,state:e.validateStateD("id_nuevo"),"aria-describedby":"feedNuevo"},model:{value:e.$v.infoMatricula.id_nuevo.$model,callback:function(a){e.$set(e.$v.infoMatricula.id_nuevo,"$model",a)},expression:"$v.infoMatricula.id_nuevo.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedNuevo"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Repitente*","label-for":"repitente"}},[t("b-form-select",{ref:"repitente",attrs:{id:"repitente",options:e.comboRepitente,state:e.validateStateD("id_repitente"),"aria-describedby":"feedRepite"},model:{value:e.$v.infoMatricula.id_repitente.$model,callback:function(a){e.$set(e.$v.infoMatricula.id_repitente,"$model",a)},expression:"$v.infoMatricula.id_repitente.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedRepite"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"12",md:"12"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Observaciones de la Matrícula","label-for":"observ"}},[t("b-form-textarea",{ref:"observ",attrs:{id:"observ","aria-describedby":"feedObserv",autocomplete:"off",rows:"2"},model:{value:e.infoMatricula.obs_matricula,callback:function(a){e.$set(e.infoMatricula,"obs_matricula","string"===typeof a?a.trim():a)},expression:"infoMatricula.obs_matricula"}}),t("b-form-invalid-feedback",{attrs:{id:"feedObserv"}},[e._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3",md:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Educación Diversa/Inclusión*","label-for":"diversa"}},[t("b-form-select",{ref:"diversa",attrs:{id:"diversa",options:e.comboDiversa,state:e.validateStateD("id_diversa")},model:{value:e.$v.infoMatricula.id_diversa.$model,callback:function(a){e.$set(e.$v.infoMatricula.id_diversa,"$model",a)},expression:"$v.infoMatricula.id_diversa.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedDiversa"}},[e._v("Campo requerido.")])],1)],1)],1)],1)],1)],1)],1)],1)},L=[],O={name:"fichamamatricula",mixins:[c["validationMixin"]],props:{datosMatricula:Object},components:{},data:function(){return{infoMatricula:{idMatricula:null,idSede:null,id_grado:null,id_curso:null,id_especialidad:null,id_nuevo:null,id_repitente:null,id_diversa:null,obs_matricula:null},comboSedes:[],comboGrados:[],comboCursos:[],comboEspecialidades:[],comboRepitente:[],comboNuevo:[],comboDiversa:[]}},validations:{infoMatricula:{idSede:{required:l["required"]},id_grado:{required:l["required"]},id_curso:{required:l["required"]},id_especialidad:{required:l["required"]},id_nuevo:{required:l["required"]},id_repitente:{required:l["required"]},id_diversa:{required:l["required"]}}},methods:{validarDatosFormulario:function(){var e=this;if(this.$v.infoMatricula.$touch(),this.$v.infoMatricula.$anyError)return this.mensajeEmergente("danger",s["h"],"Algunos campos están incompletos."),!1;var a="Actualizar la Matricula del Estudiante",t="¿Esta seguro de actualizar la Matricula del Estudiante?";return this.$bvModal.msgBoxConfirm(t,{headerBgVariant:"primary",headerTextVariant:"light",bodyBgVariant:"light",bodyBgClass:"text-center",title:a,size:"",buttonSize:"sm",okVariant:"primary",okTitle:"Si, "+a,cancelVariant:"danger",cancelTitle:"Cancelar",footerClass:"p-2",bodyClass:"p-5",hideHeaderClose:!1,centered:!0}).then((function(a){a&&e.guardarMatricula()})),!0},guardarMatricula:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return""==e.infoMatricula.obs_matricula||null==e.infoMatricula.obs_matricula?e.infoMatricula.obs_matricula=null:e.infoMatricula.obs_matricula=e.infoMatricula.obs_matricula.toUpperCase(),a.next=3,d.a.put(s["d"]+"academico/matriculas/datosmatricula/ficha",JSON.stringify(e.infoMatricula),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Actualizar Matricula"):e.$emit("retorno",1)})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Matricula. Intente más tarde. "+a)}));case 3:case"end":return a.stop()}}),a)})))()},consultaDatosMatriculaId:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,d.a.get(s["d"]+"academico/matriculas/datosmatricula/ficha",{params:{idMatricula:e.datosMatricula.idMatricula}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Datos Matricula"):0!=a.data.datos?(e.infoMatricula=a.data.datos,e.ocuparComboGradosSede(),e.ocuparComboCursosGradosSede()):e.infoMatricula={}})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Datos Matricula. Intente más tarde. "+a)}));case 2:case"end":return a.stop()}}),a)})))()},ocuparCombos:function(){var e=this;this.comboDiversa=[],this.$store.state.datosTablas.sino.forEach((function(a){e.comboDiversa.push({value:a.id,text:a.sino.toUpperCase()})})),this.comboEspecialidades=[],this.$store.state.datosEspecialidades.forEach((function(a){e.comboEspecialidades.push({value:a.id,text:a.especialidad.toUpperCase()})})),this.comboRepitente=[],this.$store.state.datosTablas.sino.forEach((function(a){e.comboRepitente.push({value:a.id,text:a.sino.toUpperCase()})})),this.comboNuevo=[],this.$store.state.datosTablas.sino.forEach((function(a){e.comboNuevo.push({value:a.id,text:a.sino.toUpperCase()})}))},ocuparComboSedes:function(){var e=this;this.comboSedes=[],this.$store.state.datosSedes.forEach((function(a){e.comboSedes.push({value:a.id,text:a.sede.toUpperCase()})}))},ocuparComboGradosSede:function(){var e=this;this.comboGrados=[],this.$store.state.datosGrados.forEach((function(a){a.id_sede==e.infoMatricula.idSede&&e.comboGrados.push({value:a.id,text:a.grado.toUpperCase()})}))},ocuparComboCursosGradosSede:function(){var e=this;this.comboCursos=[],this.$store.state.datosCursos.forEach((function(a){a.id_grado_sede==e.infoMatricula.id_grado&&e.comboCursos.push({value:a.id,text:a.nomenclatura.toUpperCase()})})),this.comboCursos.push({value:0,text:" --- SIN CURSO (BOLSA) ---"})},cancelarFormulario:function(){this.$emit("retorno",0)},validateStateD:function(e){var a=this.$v.infoMatricula[e],t=a.$dirty,i=a.$error;return t?!i:null},mensajeEmergente:function(e,a,t){this.$bvToast.toast(t,{title:a,variant:e,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.consultaDatosMatriculaId(),this.ocuparCombos(),this.ocuparComboSedes()}},V=O,U=Object(h["a"])(V,z,L,!1,null,null,null),B=U.exports,I={name:"carpetamatricula",mixins:[c["validationMixin"]],components:{EditarFoto:u["a"],FichaAcudiente:g,FichaPapa:x,FichaMama:P,FichaEstudiante:j,FichaMatricula:B},data:function(){return{idMatricula:null,nuevaFirmaEstudiante:null,firmaEstudianteValida:!0,firmaEstudianteNoGuardada:!1,cancelarFirmaEstudiante:!1,nuevaFirmaAcudiente:null,firmaAcudienteValida:!0,firmaAcudienteNoGuardada:!1,cancelarFirmaAcudiente:!1,codigo:null,datosEstudiante:{},datosFichaE:{},datosFichaA:{},datosFichaP:{},datosFichaM:{},datosFichaMatricula:{},fotoA:s["a"],fotoP:s["a"],fotoM:s["a"],comboMotivosRetiro:[],retiroEstudiante:{},reintegroEstudiante:{},retiro:{id_motivo:null,observaciones:null}}},validations:{retiro:{id_motivo:{required:l["required"]},observaciones:{required:l["required"]}}},methods:{confirmarReintegrarMatricula:function(){var e=this,a="Reintegrar Estudiante",t="Al reintegrar el Estudiante a la Institución Educativa se recuperará el registro de la matrícula para el actual Año Lectivo. ¿Esta seguro de Reintegrar el Estudiante?";this.$bvModal.msgBoxConfirm(t,{headerBgVariant:"primary",headerTextVariant:"light",bodyBgVariant:"light",bodyBgClass:"text-center",title:a,size:"",buttonSize:"sm",okVariant:"primary",okTitle:"Si, "+a,cancelVariant:"danger",cancelTitle:"Cancelar",footerClass:"p-2",bodyClass:"p-5",hideHeaderClose:!1,centered:!0}).then((function(a){a&&e.reintegrarEstudiante()}))},reintegrarEstudiante:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.reintegroEstudiante.idMatricula=e.idMatricula,e.reintegroEstudiante.idEstudiante=e.datosFichaE.idEstudiante,e.reintegroEstudiante.idInstitucion=e.$store.state.idInstitucion,e.reintegroEstudiante.vigencia=e.$store.state.aLectivo,e.reintegroEstudiante.curso=e.datosFichaE.nomenclatura,e.reintegroEstudiante.usuario=e.$store.state.nombreUsuario+" "+e.$store.state.apellidoUsuario,e.reintegroEstudiante.observaciones="Reintegro de estudiante",a.next=9,d.a.put(s["d"]+"academico/matriculas/reintegrarestudiante",JSON.stringify(e.reintegroEstudiante),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Reintegrar Estudiante"):(e.mensajeEmergente("success",s["h"],"El estudiante se ha reintegrado correctamente."),e.consultaFichaMatricula())})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Reintegrar Estudiante. Intente más tarde. "+a)}));case 9:case"end":return a.stop()}}),a)})))()},confirmarRetirarMatricula:function(){var e=this,a="Retirar Estudiante",t="Al retirar el Estudiante de la Institución Educativa se mantendrá el registro de la matrícula para el actual Año Lectivo y el Estudiante quedará disponible para ser matriculado en otra Institución Educativa. ¿Esta seguro de Retirar el Estudiante?";this.$bvModal.msgBoxConfirm(t,{headerBgVariant:"primary",headerTextVariant:"light",bodyBgVariant:"light",bodyBgClass:"text-center",title:a,size:"",buttonSize:"sm",okVariant:"primary",okTitle:"Si, "+a,cancelVariant:"danger",cancelTitle:"Cancelar",footerClass:"p-2",bodyClass:"p-5",hideHeaderClose:!1,centered:!0}).then((function(a){a&&(e.retiro.id_motivo=null,e.retiro.observaciones=null,e.$refs["modalRetirarEstudiante"].show())}))},retirarEstudiante:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.$v.retiro.$touch(),!e.$v.retiro.$anyError){a.next=6;break}return e.mensajeEmergente("danger",s["h"],"Algunos campos están incompletos."),a.abrupt("return",!1);case 6:return e.retiroEstudiante.idMatricula=e.idMatricula,e.retiroEstudiante.idEstudiante=e.datosFichaE.idEstudiante,e.retiroEstudiante.idInstitucion=e.$store.state.idInstitucion,e.retiroEstudiante.vigencia=e.$store.state.aLectivo,e.retiroEstudiante.curso=e.datosFichaE.nomenclatura,e.retiroEstudiante.usuario=e.$store.state.nombreUsuario+" "+e.$store.state.apellidoUsuario,e.retiroEstudiante.id_motivo=e.retiro.id_motivo,e.retiroEstudiante.observaciones=e.retiro.observaciones,a.next=16,d.a.put(s["d"]+"academico/matriculas/retirarestudiante",JSON.stringify(e.retiroEstudiante),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Retirar Estudiante"):(e.$refs["modalRetirarEstudiante"].hide(),e.mensajeEmergente("success",s["h"],"El estudiante se ha retirado correctamente."),e.consultaFichaMatricula())})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Retirar Estudiante. Intente más tarde. "+a)}));case 16:case"end":return a.stop()}}),a)})))()},desvincularMatricula:function(){var e=this,a="Desvincular Estudiante",t="Al desvincular el Estudiante de la Institución Educativa se eliminará el registro de la matrícula para el actual Año Lectivo y el Estudiante quedará disponible para ser matriculado en otra Institución Educativa. ¿Esta seguro de desvincular el estudiante?";this.$bvModal.msgBoxConfirm(t,{headerBgVariant:"primary",headerTextVariant:"light",bodyBgVariant:"light",bodyBgClass:"text-center",title:a,size:"",buttonSize:"sm",okVariant:"primary",okTitle:"Si, "+a,cancelVariant:"danger",cancelTitle:"Cancelar",footerClass:"p-2",bodyClass:"p-5",hideHeaderClose:!1,centered:!0}).then((function(a){a&&e.desvincularEstudiante()}))},desvincularEstudiante:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,d.a.delete(s["d"]+"academico/matriculas/desvincularestudiante",{params:{idMatricula:e.idMatricula}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Desvincular Estudiante"):(e.mensajeEmergente("success",s["h"],"El estudiante se ha desvinculado correctamente."),e.cancelarFormulario())})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Desvincular Estudiante. Intente más tarde. "+a)}));case 2:case"end":return a.stop()}}),a)})))()},verFichamatricula:function(){this.datosFichaMatricula.idMatricula=this.idMatricula,this.$refs["modalFichaMatricula"].show()},datosRecibidosMatricula:function(e){1==e&&(this.consultaFichaMatricula(),this.mensajeEmergente("success",s["h"],"Los datos de la Matricula del Estudiante se han actualizado correctamente.")),this.$refs["modalFichaMatricula"].hide()},verFichaEstudiante:function(){this.datosEstudiante.idEstudiante=this.datosFichaE.idEstudiante,this.$refs["modalFichaEstudiante"].show()},datosRecibidosEstudiante:function(e){1==e&&(this.consultaFichaMatricula(),this.mensajeEmergente("success",s["h"],"Los datos del Estudiante se han actualizado correctamente.")),this.$refs["modalFichaEstudiante"].hide()},verFichaMama:function(){this.datosFichaM.idEstudiante=this.datosFichaE.idEstudiante,this.datosFichaM.idMama=this.datosFichaE.id_mama,this.$refs["modalAsociarMama"].show()},datosRecibidosMama:function(e){1==e&&(this.consultaFichaMatricula(),this.mensajeEmergente("success",s["h"],"Los datos de la Mamá se han actualizado correctamente.")),this.$refs["modalAsociarMama"].hide()},verFichaPapa:function(){this.datosFichaP.idEstudiante=this.datosFichaE.idEstudiante,this.datosFichaP.idPapa=this.datosFichaE.id_papa,this.$refs["modalAsociarPapa"].show()},datosRecibidosPapa:function(e){1==e&&(this.consultaFichaMatricula(),this.mensajeEmergente("success",s["h"],"Los datos del Papá se han actualizado correctamente.")),this.$refs["modalAsociarPapa"].hide()},verFichaAcudiente:function(){this.datosFichaA.idEstudiante=this.datosFichaE.idEstudiante,this.datosFichaA.idAcudiente=this.datosFichaE.id_acudiente,this.datosFichaA.idParentesco=this.datosFichaE.id_parentesco,this.$refs["modalAsociarAcudiente"].show()},datosRecibidosAcudiente:function(e){1==e&&(this.consultaFichaMatricula(),this.mensajeEmergente("success",s["h"],"Los datos del Acudiente se han actualizado correctamente.")),this.$refs["modalAsociarAcudiente"].hide()},cancelarValidarFirmaEstudiante:function(){this.firmaEstudianteValida=!0,this.cancelarFirmaEstudiante=!1},cancelarValidarFirmaAcudiente:function(){this.firmaAcudienteValida=!0,this.cancelarFirmaAcudiente=!1},consultaFichaMatricula:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.datosFichaE={},a.next=3,d.a.get(s["d"]+"academico/matriculas/consultacarpetamatricula",{params:{idMatricula:e.idMatricula}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Consulta Carpeta Matricula"):0!=a.data.datos?(e.datosFichaE=a.data.datos.estudiante,null!=e.datosFichaE.foto&&""!=e.datosFichaE.foto||(e.datosFichaE.foto=s["a"])):e.mensajeEmergente("danger",s["h"],"No se encontró la Carpeta del Estudiante")})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Consulta Carpeta Matricula. Intente más tarde."+a)}));case 3:case"end":return a.stop()}}),a)})))()},abrirCapturadorFirmas:function(){window.open("https://www.sigplusweb.com/sigwebtablet_demo.html","_blank")},actualizarFoto:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t={},t.foto=e.datosFichaE.foto,t.idEstudiante=e.datosFichaE.idEstudiante,a.next=5,d.a.put(s["d"]+"academico/matricula/fotoestudiante",JSON.stringify(t),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Actualizar Foto Estudiante"):e.mensajeEmergente("success",s["h"],"La foto del estudiente se ha actualizado correctamente.")})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Foto Estudiante. Intente más tarde. "+a)}));case 5:case"end":return a.stop()}}),a)})))()},datosRecibidosFoto:function(e){this.$store.state.foto=e,this.datosFichaE.foto=e,this.actualizarFoto(),this.$refs["modalEditarFoto"].hide()},cambiarFoto:function(){this.$refs["modalEditarFoto"].show()},borrarFoto:function(){this.datosFichaE.foto=null,this.actualizarFoto(),this.$store.state.foto=s["a"],this.datosFichaE.foto=s["a"]},guardarFirmaEstudiante:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.firmaEstudianteNoGuardada=!1,t={},t.firma=e.datosFichaE.firma_estudiante,t.idMatricula=e.idMatricula,a.next=6,d.a.put(s["d"]+"academico/matricula/firmaestudiante",JSON.stringify(t),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Actualizar Firma Estudiante"):e.mensajeEmergente("success",s["h"],"La firma el estudiante se ha actualizado correctamente.")})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Firma Estudiante. Intente más tarde. "+a)}));case 6:case"end":return a.stop()}}),a)})))()},guardarFirmaAcudiente:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.firmaAcudienteNoGuardada=!1,t={},t.firma=e.datosFichaE.firma_acudiente,t.idMatricula=e.idMatricula,a.next=6,d.a.put(s["d"]+"academico/matricula/firmaacudiente",JSON.stringify(t),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(a){a.data.error?e.mensajeEmergente("danger",s["h"],a.data.mensaje+" - Actualizar Firma Acudiente"):e.mensajeEmergente("success",s["h"],"La firma el acudiente se ha actualizado correctamente.")})).catch((function(a){e.mensajeEmergente("danger",s["h"],"Algo salio mal y no se pudo realizar: Actualizar Firma Acudiente. Intente más tarde. "+a)}));case 6:case"end":return a.stop()}}),a)})))()},borrarFirmaEstudiante:function(){this.cancelarFirmaEstudiante=!0,this.firmaEstudianteValida=!1,this.firmaEstudianteNoGuardada=!1,this.nuevaFirmaEstudiante=null},borrarFirmaAcudiente:function(){this.cancelarFirmaAcudiente=!0,this.firmaAcudienteValida=!1,this.firmaAcudienteNoGuardada=!1,this.nuevaFirmaAcudiente=null},validarFirmaEstudiante:function(){null!=this.nuevaFirmaEstudiante&&""!=this.nuevaFirmaEstudiante?this.nuevaFirmaEstudiante.length>256?(this.cancelarFirmaEstudiante=!1,this.firmaEstudianteValida=!0,this.firmaEstudianteNoGuardada=!0,this.datosFichaE.firma_estudiante="data:image/jpeg;base64,"+this.nuevaFirmaEstudiante):(this.firmaEstudianteValida=!1,this.nuevaFirmaEstudiante=null,this.firmaEstudianteNoGuardada=!1,this.$bvModal.msgBoxOk("¡La setimos.! Al parecer no es una firma válida. Vuelva a capturar la firma y copie el código: String Base64",{headerBgVariant:"danger",headerTextVariant:"light",bodyBgVariant:"light",bodyBgClass:"text-center",title:s["h"],size:"",buttonSize:"sm",okVariant:"success",okTitle:"Aceptar",footerClass:"p-2",bodyClass:"p-5",hideHeaderClose:!0,centered:!0}).then((function(e){return!0}))):this.$bvModal.msgBoxOk("¡La setimos.! La firma esta vacia. Vuelva a capturar la firma y copie el código: String Base64",{headerBgVariant:"danger",headerTextVariant:"light",bodyBgVariant:"light",bodyBgClass:"text-center",title:s["h"],size:"",buttonSize:"sm",okVariant:"success",okTitle:"Aceptar",footerClass:"p-2",bodyClass:"p-5",hideHeaderClose:!0,centered:!0}).then((function(e){return!0}))},validarFirmaAcudiente:function(){null!=this.nuevaFirmaAcudiente&&""!=this.nuevaFirmaAcudiente?this.nuevaFirmaAcudiente.length>256?(this.cancelarFirmaAcudiente=!1,this.firmaAcudienteValida=!0,this.firmaAcudienteNoGuardada=!0,this.datosFichaE.firma_acudiente="data:image/jpeg;base64,"+this.nuevaFirmaAcudiente):(this.firmaAcudienteValida=!1,this.nuevaFirmaAcudiente=null,this.firmaAcudienteNoGuardada=!1,this.$bvModal.msgBoxOk("¡La setimos.! Al parecer no es una firma válida. Vuelva a capturar la firma y copie el código: String Base64",{headerBgVariant:"danger",headerTextVariant:"light",bodyBgVariant:"light",bodyBgClass:"text-center",title:s["h"],size:"",buttonSize:"sm",okVariant:"success",okTitle:"Aceptar",footerClass:"p-2",bodyClass:"p-5",hideHeaderClose:!0,centered:!0}).then((function(e){return!0}))):this.$bvModal.msgBoxOk("¡La setimos.! La firma esta vacia. Vuelva a capturar la firma y copie el código: String Base64",{headerBgVariant:"danger",headerTextVariant:"light",bodyBgVariant:"light",bodyBgClass:"text-center",title:s["h"],size:"",buttonSize:"sm",okVariant:"success",okTitle:"Aceptar",footerClass:"p-2",bodyClass:"p-5",hideHeaderClose:!0,centered:!0}).then((function(e){return!0}))},imprimirFormulario:function(){return window.open("https://siedutunja.gov.co/"+this.$store.state.FichaMatricula+"?token="+this.idMatricula,"_blank"),!0},validateStateR:function(e){var a=this.$v.retiro[e],t=a.$dirty,i=a.$error;return t?!i:null},nuevoFormulario:function(){this.$router.push("/matriculas/ficharenovacionmatricula")},ocuparCombos:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.comboMotivosRetiro=[],e.$store.state.datosTablas.motivosretiro.forEach((function(a){e.comboMotivosRetiro.push({value:a.id,text:a.motivo.toUpperCase()})}));case 2:case"end":return a.stop()}}),a)})))()},cancelarVentana:function(){this.$refs["modalRetirarEstudiante"].hide()},cancelarFormulario:function(){this.$router.push("/")},mensajeEmergente:function(e,a,t){this.$bvToast.toast(t,{title:a,variant:e,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.idMatricula=this.$store.state.idMatricula,this.consultaFichaMatricula(),this.ocuparCombos(),this.fotoA=s["a"]}},G=I,H=Object(h["a"])(G,i,o,!1,null,null,null);a["default"]=H.exports}}]);
//# sourceMappingURL=chunk-5676bcfc.22584dbd.js.map