(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d1db475"],{"05fc":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[a("b-button",{staticClass:"mx-2 float-right",attrs:{size:"sm",variant:"info",title:"Actualizar"},on:{click:e.cargarDatosSedes}},[a("b-icon",{attrs:{icon:"arrow-repeat"}})],1),a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),e._v(" CONSOLIDADO MATRICULA - "+e._s(e.$store.state.aLectivo))],1)]},proxy:!0},{key:"footer",fn:function(){return[a("em",[e._v("Consulte la matricula por Grados de una Sede haciendo clic en la lupa.")])]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-alert",{staticClass:"text-center",attrs:{variant:"success",show:""}},[a("p",[e._v("Total Matriculados")]),a("h2",[e._v(e._s(e.totalIE))])])],1)],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-card",{attrs:{"header-bg-variant":"secondary"},scopedSlots:e._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),e._v(" Matriculados por Sede")],1)]},proxy:!0}])},[a("b-card-text",[a("vue-good-table",{attrs:{columns:e.encabColumnas,rows:e.listaSedes,styleClass:"vgt-table condensed bordered striped","line-numbers":!0},scopedSlots:e._u([{key:"table-row",fn:function(t){return["id"==t.column.field?a("span",[a("span",{staticStyle:{"font-weight":"bold",color:"blue",cursor:"pointer"},attrs:{title:"Datos de la Sede"},on:{click:function(a){return e.seleccionarSede(t.row)}}},[a("CIcon",{attrs:{name:"cilZoom"}})],1)]):e._e()]}}])},[a("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[a("h5",{staticClass:"text-danger ml-5"},[e._v("No existen sedes creadas")])])])],1)],1)],1)],1)],1),a("b-row",[a("b-col",[a("b-button",{staticClass:"small mx-1 mt-2",attrs:{variant:"primary"},on:{click:e.imprimirFormulario}},[e._v("Imprimir Consolidado")]),a("vue-excel-xlsx",{staticClass:"mx-1 mt-2 small btn btn-outline-primary",attrs:{variant:"primary",data:e.listaExportar,columns:e.encabColumnasExcel,"file-name":"ConsolidadoMatricula-"+this.$store.state.aLectivo,"file-type":"xlsx","sheet-name":"Matriculados-"+this.$store.state.aLectivo}},[e._v(" Exportar a Excel ")])],1)],1)],1)],1)],1),a("b-modal",{ref:"modalConsolidadoMatriculaSede",attrs:{size:"xl",scrollable:"","hide-footer":"",title:"Consolidado de Matricula por Sede","ok-only":""}},[a("div",{staticClass:"mx-3"},[a("div",[a("ConsolidadoMatriculaSede",{attrs:{datosMatriculaSede:e.datosMatriculaSede},on:{retorno:e.datosRecibidos}})],1)])])],1)},o=[],i=a("1da1"),n=(a("159b"),a("96cf"),a("bc3a")),l=a.n(n),c=a("9c40"),s=(a("dac4"),a("f617")),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[a("h5",{staticClass:"mb-0"},[a("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),e._v(" "+e._s(e.datosMatriculaSede.sede))],1)]},proxy:!0},{key:"footer",fn:function(){return[a("div",[a("b-button",{staticClass:"small ml-3",attrs:{variant:"secondary"},on:{click:e.cancelarFormulario}},[e._v("Cerrar")])],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-alert",{staticClass:"text-center",attrs:{variant:"success",show:""}},[a("p",[e._v("Total Matriculados")]),a("h2",[e._v(e._s(e.datosMatriculaSede.totalSede))])])],1)],1),a("vue-good-table",{attrs:{columns:e.encabColumnas,rows:e.listaGrados,styleClass:"vgt-table condensed bordered striped","line-numbers":!0}},[a("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[a("h5",{staticClass:"text-danger ml-5"},[e._v("No existen sedes creadas")])])])],1)],1)],1)],1)],1)},u=[],f={name:"consolidadomatriculasede",props:{datosMatriculaSede:Object},components:{VueGoodTable:s["a"]},data:function(){return{listaGrados:[],encabColumnas:[{label:"Grado",field:"grado",sortable:!1},{label:"Activos",field:"totalActivosGrado",sortable:!1},{label:"Retirados",field:"totalRetirosGrado",sortable:!1},{label:"Total Matriculados",field:"totalMatGrado",sortable:!1}]}},methods:{cancelarFormulario:function(){this.$emit("retorno",0)},mensajeEmergente:function(e,t,a){this.$bvToast.toast(a,{title:t,variant:e,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.listaGrados=this.datosMatriculaSede.grados}},p=f,h=a("2877"),m=Object(h["a"])(p,d,u,!1,null,null,null),b=m.exports,v={name:"consolidadomatricula",components:{ConsolidadoMatriculaSede:b,VueGoodTable:s["a"]},data:function(){return{listaSedes:[],totalIE:0,totalIEActivos:0,totalIERetiros:0,encabColumnas:[{label:"Nombre de la Sede",field:"sede",sortable:!1},{label:"Activos",field:"totalSedeActivos",sortable:!1},{label:"Retirados",field:"totalSedeRetiros",sortable:!1},{label:"Total",field:"totalSede",sortable:!1},{label:"",field:"id",sortable:!1}],encabColumnasExcel:[{label:"Estudiante",field:"estudiante"},{label:"Documento",field:"documento"},{label:"Tipo",field:"nomenclatura"},{label:"Expedido",field:"mundoce"},{label:"Genero",field:"id_genero"},{label:"FechaNace",field:"fechanace"},{label:"MunicNace",field:"munnace"},{label:"Pais",field:"pais"},{label:"Rh",field:"rh"},{label:"Estrato",field:"id_estrato"},{label:"Discapacidad",field:"discapacidad"},{label:"Capacidades",field:"capacidad"},{label:"Trastorno",field:"trastorno"},{label:"Apoyo",field:"apoyo"},{label:"Etnia",field:"etnia"},{label:"Victima",field:"victima"},{label:"MunExpulsor",field:"munex"},{label:"Eps",field:"eps"},{label:"Seguro",field:"id_seguro"},{label:"Aseguradora",field:"aseguradora"},{label:"Tratamiento",field:"enfermedades"},{label:"Dirección",field:"direccion"},{label:"MunicDirección",field:"mundire"},{label:"Barrio",field:"barrio"},{label:"Zona",field:"zona"},{label:"Teléfono1",field:"telefono1"},{label:"Teléfono2",field:"telefono2"},{label:"Correo",field:"correo"},{label:"Código",field:"codigo"},{label:"Papá",field:"papa"},{label:"DocPapá",field:"docpapa"},{label:"TipoDocPapá",field:"tipodocpa"},{label:"ExpedidoPapá",field:"mundocpa"},{label:"GeneroPapá",field:"generopa"},{label:"FechaNacePapá",field:"fechanacepa"},{label:"MunicNacePapá",field:"munnacepa"},{label:"PaísPapá",field:"paispa"},{label:"RhPapá",field:"rhpa"},{label:"EstratoPapá",field:"estratopa"},{label:"DirecciónPapá",field:"dirpa"},{label:"MunicDirecciónPapá",field:"mundirpa"},{label:"BarrioPapá",field:"barriopa"},{label:"MunicDirecciónPapá",field:"mundirpa"},{label:"TelPapá1",field:"tel1pa"},{label:"TelPapá2",field:"tel2pa"},{label:"CorreoPapá",field:"correopa"},{label:"Mamá",field:"mama"},{label:"DocMamá",field:"docmama"},{label:"TipoDocMamá",field:"tipodocma"},{label:"ExpedidoMamá",field:"mundocma"},{label:"GeneroMamá",field:"generoma"},{label:"FechaNaceMamá",field:"fechanacema"},{label:"MunicNaceMamá",field:"munnacema"},{label:"PaísMamá",field:"paisma"},{label:"RhMamá",field:"rhma"},{label:"EstratoMamá",field:"estratoma"},{label:"DirecciónMamá",field:"dirma"},{label:"MunicDirecciónMamá",field:"mundirma"},{label:"BarrioMamá",field:"barrioma"},{label:"MunicDirecciónMamá",field:"mundirma"},{label:"TelMamá1",field:"tel1ma"},{label:"TelMamá2",field:"tel2ma"},{label:"CorreoMamá",field:"correoma"},{label:"Acudiente",field:"acudiente"},{label:"DocAcudiente",field:"docac"},{label:"TipoDocAcudiente",field:"tipodocac"},{label:"ExpedidoAcudiente",field:"mundocac"},{label:"GeneroAcudiente",field:"generoac"},{label:"FechaNaceAcudiente",field:"fechanaceac"},{label:"MunicNaceAcudiente",field:"munnaceac"},{label:"PaísAcudiente",field:"paisac"},{label:"RhAcudiente",field:"rhac"},{label:"EstratoAcudiente",field:"estratoac"},{label:"DirecciónAcudiente",field:"dirac"},{label:"MunicDirecciónAcudiente",field:"mundirac"},{label:"BarrioAcudiente",field:"barrioac"},{label:"MunicDirecciónAcudiente",field:"mundirac"},{label:"TelAcudiente1",field:"tel1ac"},{label:"TelAcudiente2",field:"tel2ac"},{label:"CorreoAcudiente",field:"correoac"},{label:"Parentesco",field:"parentesco"},{label:"Sede",field:"sede"},{label:"Grado",field:"grado"},{label:"Curso",field:"curso"},{label:"Jornada",field:"jornada"},{label:"Estado",field:"estado"},{label:"Nuevo",field:"id_nuevo"},{label:"Repitente",field:"id_repitente"},{label:"Fecha Renovación",field:"creado"}],datosMatriculaSede:[],listaExportar:[]}},methods:{exportarExcel:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listaExportar=[],t.next=3,l.a.get(c["d"]+"academico/informes/consolidadomatricula/excel",{params:{idInstitucion:e.$store.state.idInstitucion,vigencia:e.$store.state.aLectivo}}).then((function(t){t.data.error?e.mensajeEmergente("danger",c["h"],t.data.mensaje+" - Consulta datos matricula Excel Sedes Activas++++"):0!=t.data.datos&&(e.listaExportar=t.data.datos)})).catch((function(t){e.mensajeEmergente("danger",c["h"],"Algo salio mal y no se pudo realizar: Consulta datos matricula Excel Sedes Activas. Intente más tarde. "+t)}));case 3:case"end":return t.stop()}}),t)})))()},imprimirFormulario:function(){var e="?datos="+JSON.stringify(this.listaSedes)+"&ie="+this.$store.state.nombreInstitucion+"&vigencia="+this.$store.state.aLectivo,t=encodeURI(e);return window.open("https://siedutunja.gov.co/php/informes/consolidado-matricula.php"+t,"_blank"),!0},seleccionarSede:function(e){this.datosMatriculaSede=e,this.$refs["modalConsolidadoMatriculaSede"].show()},cargarDatosSedes:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listaSedes=[],e.totalIE=0,e.totalIEActivos=0,e.totalIERetiros=0,e.totalIENuevos=0,e.totalIERepitentes=0,e.totalIESinCurso=0,t.next=9,l.a.get(c["d"]+"academico/informes/consolidadomatricula",{params:{idInstitucion:e.$store.state.idInstitucion,vigencia:e.$store.state.aLectivo}}).then((function(t){t.data.error?e.mensajeEmergente("danger",c["h"],t.data.mensaje+" - Consulta datos matricula Sedes Activas****"):0!=t.data.datos&&(e.listaSedes=t.data.datos,e.listaSedes.forEach((function(t){t.totalSede=0,t.totalSedeActivos=0,t.totalSedeRetiros=0,t.totalSedeNuevos=0,t.totalSedeRepitentes=0,t.totalSedeSinCurso=0,t.grados.forEach((function(a){t.totalSede+=a.totalMatGrado,t.totalSedeActivos+=a.totalActivosGrado,t.totalSedeRetiros+=a.totalRetirosGrado,t.totalSedeNuevos+=a.totalNuevosGrado,t.totalSedeRepitentes+=a.totalRepitentesGrado,t.totalSedeSinCurso+=a.totalSinCursoGrado,e.totalIE+=a.totalMatGrado,e.totalIEActivos+=a.totalActivosGrado,e.totalIERetiros+=a.totalRetirosGrado,e.totalIENuevos+=a.totalNuevosGrado,e.totalIERepitentes+=a.totalRepitentesGrado,e.totalIESinCurso+=a.totalSinCursoGrado}))}))),e.exportarExcel()})).catch((function(t){e.mensajeEmergente("danger",c["h"],"Algo salio mal y no se pudo realizar: Consulta datos matricula Sedes Activas****. Intente más tarde. "+t)}));case 9:case"end":return t.stop()}}),t)})))()},datosRecibidos:function(){this.$refs["modalConsolidadoMatriculaSede"].hide()},mensajeEmergente:function(e,t,a){this.$bvToast.toast(a,{title:t,variant:e,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){this.cargarDatosSedes()}},y=v,g=Object(h["a"])(y,r,o,!1,null,null,null);t["default"]=g.exports},"1da1":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("d3b7");function r(e,t,a,r,o,i,n){try{var l=e[i](n),c=l.value}catch(s){return void a(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,a=arguments;return new Promise((function(o,i){var n=e.apply(t,a);function l(e){r(n,o,i,l,c,"next",e)}function c(e){r(n,o,i,l,c,"throw",e)}l(void 0)}))}}},"96cf":function(e,t,a){var r=function(e){"use strict";var t,a=Object.prototype,r=a.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",n=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,a){return e[t]=a}}function s(e,t,a,r){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),n=new G(r||[]);return i._invoke=C(e,a,n),i}function d(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(P){return{type:"throw",arg:P}}}e.wrap=s;var u="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function b(){}function v(){}function y(){}var g={};g[i]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(R([])));x&&x!==a&&r.call(x,i)&&(g=x);var E=y.prototype=b.prototype=Object.create(g);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){function a(o,i,n,l){var c=d(e[o],e,i);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"===typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,n,l)}),(function(e){a("throw",e,n,l)})):t.resolve(u).then((function(e){s.value=e,n(s)}),(function(e){return a("throw",e,n,l)}))}l(c.arg)}var o;function i(e,r){function i(){return new t((function(t,o){a(e,r,t,o)}))}return o=o?o.then(i,i):i()}this._invoke=i}function C(e,t,a){var r=u;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return I()}a.method=o,a.arg=i;while(1){var n=a.delegate;if(n){var l=_(n,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===u)throw r=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=p;var c=d(e,t,a);if("normal"===c.type){if(r=a.done?h:f,c.arg===m)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(r=h,a.method="throw",a.arg=c.arg)}}}function _(e,a){var r=e.iterator[a.method];if(r===t){if(a.delegate=null,"throw"===a.method){if(e.iterator["return"]&&(a.method="return",a.arg=t,_(e,a),"throw"===a.method))return m;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=d(r,e.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,m;var i=o.arg;return i?i.done?(a[e.resultName]=i.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,m):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,m)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function G(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function R(e){if(e){var a=e[i];if(a)return a.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function a(){while(++o<e.length)if(r.call(e,o))return a.value=e[o],a.done=!1,a;return a.value=t,a.done=!0,a};return n.next=n}}return{next:I}}function I(){return{value:t,done:!0}}return v.prototype=E.constructor=y,y.constructor=v,v.displayName=c(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},S(M.prototype),M.prototype[n]=function(){return this},e.AsyncIterator=M,e.async=function(t,a,r,o,i){void 0===i&&(i=Promise);var n=new M(s(t,a,r,o),i);return e.isGeneratorFunction(a)?n:n.next().then((function(e){return e.done?e.value:n.next()}))},S(E),c(E,l,"Generator"),E[i]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){while(t.length){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=R,G.prototype={constructor:G,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var a in this)"t"===a.charAt(0)&&r.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function o(r,o){return l.type="throw",l.arg=e,a.next=r,o&&(a.method="next",a.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i],l=n.completion;if("root"===n.tryLoc)return o("end");if(n.tryLoc<=this.prev){var c=r.call(n,"catchLoc"),s=r.call(n,"finallyLoc");if(c&&s){if(this.prev<n.catchLoc)return o(n.catchLoc,!0);if(this.prev<n.finallyLoc)return o(n.finallyLoc)}else if(c){if(this.prev<n.catchLoc)return o(n.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return o(n.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var n=i?i.completion:{};return n.type=e,n.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(n)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),L(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var o=r.arg;L(a)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,a,r){return this.delegate={iterator:R(e),resultName:a,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}}}]);
//# sourceMappingURL=chunk-3d1db475.96247b21.js.map