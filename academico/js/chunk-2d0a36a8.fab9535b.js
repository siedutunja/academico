(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a36a8"],{"01a2":function(a,e,t){"use strict";t.r(e);var o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("b-row",{staticClass:"mt-2"},[t("b-col",{attrs:{lg:"12"}},[t("b-card",{scopedSlots:a._u([{key:"header",fn:function(){return[t("h5",{staticClass:"mb-0"},[t("b-icon",{attrs:{icon:"layers","aria-hidden":"true"}}),a._v(" CONFIGURACIÓN CONSULTA ACUDIENTE")],1)]},proxy:!0},{key:"footer",fn:function(){return[t("em",[a._v("Actualice los datos y haga clic en Guardar Datos.")])]},proxy:!0}])},[t("b-card-text",[t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("b-tabs",{attrs:{"content-class":"mt-3"}},[t("b-tab",{attrs:{title:"Consulta Acudiente",active:""}},[t("b-card",{staticStyle:{"margin-top":"-17"}},[t("b-card-text",[t("b-card",{attrs:{"bg-variant":"light"}},[t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("h5",[a._v("Fecha de la Consulta")]),t("hr")]),t("b-col",{attrs:{lg:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Fecha de Inicio de la Consulta*","label-for":"ini"}},[t("b-form-input",{attrs:{type:"date",id:"ini",state:a.validateStateC("fechaIniConsulta"),"aria-describedby":"feedIni"},model:{value:a.$v.infoConsulta.fechaIniConsulta.$model,callback:function(e){a.$set(a.$v.infoConsulta.fechaIniConsulta,"$model",e)},expression:"$v.infoConsulta.fechaIniConsulta.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedIni"}},[a._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"6"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Fecha de Terminación de la Consulta*","label-for":"fin"}},[t("b-form-input",{attrs:{type:"date",id:"fin",state:a.validateStateC("fechaFinConsulta"),"aria-describedby":"feedFin"},model:{value:a.$v.infoConsulta.fechaFinConsulta.$model,callback:function(e){a.$set(a.$v.infoConsulta.fechaFinConsulta,"$model",e)},expression:"$v.infoConsulta.fechaFinConsulta.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedFin"}},[a._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"12"}},[t("h6",[a._v("Seleccione la fecha de inicio y de terminación de la consulta para que los Acudientes puedan ingresar a la plataforma y consulten el estudiante.")])])],1)],1),t("b-card",{attrs:{"bg-variant":"light"}},[t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("h5",[a._v("Consultar y Descargar el Boletin de Calificaciones")]),t("hr")]),t("b-col",{attrs:{lg:"3"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Descargar Boletin*","label-for":"boletin"}},[t("b-form-select",{ref:"boletin",attrs:{id:"boletin",options:a.comboBoletines,state:a.validateStateC("consultaBoletin"),"aria-describedby":"feedBoletin"},model:{value:a.$v.infoConsulta.consultaBoletin.$model,callback:function(e){a.$set(a.$v.infoConsulta.consultaBoletin,"$model",e)},expression:"$v.infoConsulta.consultaBoletin.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedBoletin"}},[a._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"3"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Periodo:","label-for":"periodo"}},[t("b-form-select",{ref:"periodo",attrs:{id:"periodo",options:a.comboPeriodos,state:a.validateStateC("periodo_consulta"),"aria-describedby":"feedPer"},model:{value:a.$v.infoConsulta.periodo_consulta.$model,callback:function(e){a.$set(a.$v.infoConsulta.periodo_consulta,"$model",e)},expression:"$v.infoConsulta.periodo_consulta.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedPer"}},[a._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"12"}},[t("h6",[a._v("Seleccione [SI] si desea que el Acudiente pueda consultar y descargar el boletin de calificaciones del periodo.")])])],1)],1),t("b-card",{attrs:{"bg-variant":"light"}},[t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("h5",[a._v("Actualizar la Ficha de Datos del Estudiante")]),t("hr")]),t("b-col",{attrs:{lg:"3"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Actualizar Ficha Estudiante*","label-for":"ficha"}},[t("b-form-select",{ref:"ficha",attrs:{id:"ficha",options:a.comboFicha,state:a.validateStateC("actualizarFicha"),"aria-describedby":"feedFicha"},model:{value:a.$v.infoConsulta.actualizarFicha.$model,callback:function(e){a.$set(a.$v.infoConsulta.actualizarFicha,"$model",e)},expression:"$v.infoConsulta.actualizarFicha.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedFicha"}},[a._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"12"}},[t("h6",[a._v("Seleccione [SI] si desea que el Acudiente actualice la información del Estudiante. En la ficha del estudiante se debe actualizar la información del Estudiante, del Papá, de la Mamá y del Acudiente.")]),t("h6",[a._v("Importante tener en cuenta que si se habilita la actualización de datos, el Acudiente no podrá consultar y descargar el boletin de calificaciones hasta que no se diligencie completamente la información del Papá, de la Mamá, del Acudiente y del Estudiante.")])])],1)],1),t("b-card",{attrs:{"bg-variant":"light"}},[t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("h5",[a._v("Consultar y Descargar Observador")]),t("hr")]),t("b-col",{attrs:{lg:"3"}},[t("b-form-group",{staticClass:"etiqueta",attrs:{label:"Descargar Observador*","label-for":"observador"}},[t("b-form-select",{ref:"observador",attrs:{id:"observador",options:a.comboObservadores,state:a.validateStateC("consultaObservador"),"aria-describedby":"feedObservador"},model:{value:a.$v.infoConsulta.consultaObservador.$model,callback:function(e){a.$set(a.$v.infoConsulta.consultaObservador,"$model",e)},expression:"$v.infoConsulta.consultaObservador.$model"}}),t("b-form-invalid-feedback",{attrs:{id:"feedObservador"}},[a._v("Campo requerido.")])],1)],1),t("b-col",{attrs:{lg:"12"}},[t("h6",[a._v("Seleccione [SI] si desea que el Acudiente pueda consultar y descargar el observador del estudiante.")])])],1)],1),t("b-row",[t("b-col",{attrs:{lg:"12"}},[t("hr"),t("div",{staticClass:"float-right text-medium-emphasis text-info"},[a._v("* Campo requerido")]),t("b-button",{staticClass:"small mx-1 mt-2",attrs:{variant:"primary"},on:{click:a.guardarDatosConsulta}},[a._v("Guardar Datos")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},n=[],r=t("1da1"),i=(t("159b"),t("96cf"),t("bc3a")),s=t.n(i),l=t("9c40"),c=t("1dce"),u=t("b5ae"),d={name:"configurarconsultaacudiente",mixins:[c["validationMixin"]],components:{},data:function(){return{idPeriodo:null,comboPeriodos:[],comboBoletines:[{value:0,text:"NO"},{value:1,text:"SI"}],comboObservadores:[{value:0,text:"NO"},{value:1,text:"SI"}],comboFicha:[{value:0,text:"NO"},{value:1,text:"SI"}],infoConsulta:{id:null,periodo_consulta:null,fechaIniConsulta:null,fechaFinConsulta:null,actualizarFicha:null,consultaBoletin:null,consultaObservador:null}}},validations:{infoConsulta:{periodo_consulta:{required:u["required"]},fechaIniConsulta:{required:u["required"]},fechaFinConsulta:{required:u["required"]},actualizarFicha:{required:u["required"]},consultaBoletin:{required:u["required"]},consultaObservador:{required:u["required"]}}},methods:{guardarDatosConsulta:function(){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.$v.infoConsulta.$touch(),!a.$v.infoConsulta.$anyError){e.next=6;break}return a.mensajeEmergente("danger",l["h"],"Algunos campos están incompletos."),e.abrupt("return",!1);case 6:return a.infoConsulta.fechaFinConsulta=a.infoConsulta.fechaFinConsulta+" 23:59:59",e.next=9,s.a.put(l["d"]+"academico/configuracion/consultaweb",JSON.stringify(a.infoConsulta),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){e.data.error?a.mensajeEmergente("danger",l["h"],e.data.mensaje+" - Actualizar Datos Consulta Web"):(a.infoConsulta.fechaFinConsulta=a.infoConsulta.fechaFinConsulta.substr(0,10),a.mensajeEmergente("success",l["h"],"Los datos de la configuración para la consulta de los acudientes se han actualizado correctamente."))})).catch((function(e){a.mensajeEmergente("danger",l["h"],"Algo salio mal y no se pudo realizar: Actualizar Datos Consulta Web. Intente más tarde. "+e)}));case 9:case"end":return e.stop()}}),e)})))()},cargarConfiguracionConsulta:function(){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.a.get(l["d"]+"academico/configuracion/documentos",{params:{idInstitucion:a.$store.state.idInstitucion}}).then((function(e){e.data.error?a.mensajeEmergente("danger",l["h"],e.data.mensaje+" - Consulta datos configuración documentos"):0!=e.data.datos&&(a.infoConsulta.id=e.data.datos.id,a.infoConsulta.periodo_consulta=e.data.datos.periodo_consulta,a.infoConsulta.fechaIniConsulta=""!=e.data.datos.fechaIniConsulta?e.data.datos.fechaIniConsulta.substr(0,10):null,a.infoConsulta.fechaFinConsulta=""!=e.data.datos.fechaFinConsulta?e.data.datos.fechaFinConsulta.substr(0,10):null,a.infoConsulta.actualizarFicha=e.data.datos.actualizarFicha,a.infoConsulta.consultaBoletin=e.data.datos.consultaBoletin,a.infoConsulta.consultaObservador=e.data.datos.consultaObservador)})).catch((function(e){a.mensajeEmergente("danger",l["h"],"Algo salio mal y no se pudo realizar: Consulta datos configuración documentos. Intente más tarde. "+e)}));case 2:case"end":return e.stop()}}),e)})))()},validateStateC:function(a){var e=this.$v.infoConsulta[a],t=e.$dirty,o=e.$error;return t?!o:null},ocuparComboPeriodos:function(){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.comboPeriodos=[],a.$store.state.datosTablas.periodos.forEach((function(e){a.comboPeriodos.push({value:e.id,text:e.periodo.toUpperCase()})}));case 2:case"end":return e.stop()}}),e)})))()},mensajeEmergente:function(a,e,t){this.$bvToast.toast(t,{title:e,variant:a,toaster:"b-toaster-top-center",solid:!0,autoHideDelay:4e3,appendToast:!1})}},beforeMount:function(){1==this.$store.state.idRol||12==this.$store.state.idRol?(this.ocuparComboPeriodos(),this.cargarConfiguracionConsulta()):this.$router.push("/restringida")}},f=d,b=t("2877"),m=Object(b["a"])(f,o,n,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0a36a8.fab9535b.js.map