{"version":3,"sources":["webpack:///./src/views/estudiantes/ListaObservadores.vue?c45f","webpack:///src/views/estudiantes/ListaObservadores.vue","webpack:///./src/views/estudiantes/ListaObservadores.vue?ac22","webpack:///./src/views/estudiantes/ListaObservadores.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","_v","proxy","ref","comboSedes","on","$event","idCurso","ocuparComboCursosSede","model","value","callback","$$v","idSede","expression","comboCursosSede","consultaListaCurso","encabColumnas","listaEstudiantesCurso","props","column","field","staticStyle","consultarObservador","row","_e","slot","datosObservador","datosRecibidosObservador","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d0e1b46.2c1b8e9c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',{staticClass:\"mt-2\"},[_c('b-col',{attrs:{\"lg\":\"12\"}},[_c('b-card',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h5',{staticClass:\"mb-0\"},[_c('b-icon',{attrs:{\"icon\":\"card-checklist\",\"aria-hidden\":\"true\"}}),_vm._v(\" OBSERVADORES POR CURSO\")],1)]},proxy:true},{key:\"footer\",fn:function(){return [_c('em',[_vm._v(\"Seleccione el curso donde se encuentra el estudiante y consulte el observador del estudiante haciendo clic en la lupa.\")])]},proxy:true}])},[_c('b-card-text',[_c('b-row',[_c('b-col',{attrs:{\"lg\":\"6\"}},[_c('b-form-group',{staticClass:\"etiqueta\",attrs:{\"label\":\"Seleccione la Sede:\",\"label-for\":\"sedes\"}},[_c('b-form-select',{ref:\"sedes\",attrs:{\"id\":\"sedes\",\"options\":_vm.comboSedes},on:{\"change\":function($event){_vm.idCurso=null,_vm.ocuparComboCursosSede()}},model:{value:(_vm.idSede),callback:function ($$v) {_vm.idSede=$$v},expression:\"idSede\"}})],1)],1),_c('b-col',{attrs:{\"lg\":\"6\"}},[_c('b-form-group',{staticClass:\"etiqueta\",attrs:{\"label\":\"Seleccione el Curso:\",\"label-for\":\"cursos\"}},[_c('b-form-select',{ref:\"cursos\",attrs:{\"id\":\"cursos\",\"options\":_vm.comboCursosSede,\"disabled\":_vm.idSede!=null ? false : true},on:{\"change\":function($event){return _vm.consultaListaCurso()}},model:{value:(_vm.idCurso),callback:function ($$v) {_vm.idCurso=$$v},expression:\"idCurso\"}})],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"lg\":\"12\"}},[_c('hr')])],1),(_vm.idCurso!=null)?_c('div',[_c('vue-good-table',{attrs:{\"columns\":_vm.encabColumnas,\"rows\":_vm.listaEstudiantesCurso,\"styleClass\":\"vgt-table condensed bordered striped\",\"line-numbers\":true},scopedSlots:_vm._u([{key:\"table-row\",fn:function(props){return [(props.column.field == 'idEstudiante')?_c('span',[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"color\":\"blue\",\"cursor\":\"pointer\"},attrs:{\"title\":\"Consultar Observador\"},on:{\"click\":function($event){return _vm.consultarObservador(props.row)}}},[_c('CIcon',{attrs:{\"name\":\"cilZoom\"}})],1)]):_vm._e()]}}],null,false,1619097401)},[_c('div',{attrs:{\"slot\":\"emptystate\"},slot:\"emptystate\"},[_c('h5',{staticClass:\"text-danger ml-5\"},[_vm._v(\"No existen Estudiantes matriculados en el Curso.\")])])])],1):_vm._e()],1)],1)],1)],1),_c('b-modal',{ref:\"modalCrearEditarFicha\",attrs:{\"size\":\"xl\",\"scrollable\":\"\",\"hide-footer\":\"\",\"title\":\"Observador del Estudiante\",\"ok-only\":\"\"}},[_c('div',{staticClass:\"mx-3\"},[_c('div',[_c('Observador',{attrs:{\"datosObservador\":_vm.datosObservador},on:{\"retorno\":_vm.datosRecibidosObservador}})],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-row class=\"mt-2\">\n      <b-col lg=\"12\">\n        <b-card>\n          <template #header>\n            <h5 class=\"mb-0\"><b-icon icon=\"card-checklist\" aria-hidden=\"true\"></b-icon> OBSERVADORES POR CURSO</h5>\n          </template>\n          <b-card-text>\n            <b-row>\n              <b-col lg=\"6\">\n                <b-form-group label=\"Seleccione la Sede:\" label-for=\"sedes\" class=\"etiqueta\">\n                  <b-form-select  id=\"sedes\" ref=\"sedes\" v-model=\"idSede\" :options=\"comboSedes\" @change=\"idCurso=null,ocuparComboCursosSede()\"></b-form-select>\n                </b-form-group>\n              </b-col>\n              <b-col lg=\"6\">\n                <b-form-group label=\"Seleccione el Curso:\" label-for=\"cursos\" class=\"etiqueta\">\n                  <b-form-select  id=\"cursos\" ref=\"cursos\" v-model=\"idCurso\" :options=\"comboCursosSede\" @change=\"consultaListaCurso()\" :disabled=\"idSede!=null ? false : true\"></b-form-select>\n                </b-form-group>\n              </b-col>\n            </b-row>\n            <b-row><b-col lg=\"12\"><hr></b-col></b-row>\n            <div v-if=\"idCurso!=null\">\n              <vue-good-table :columns=\"encabColumnas\" :rows=\"listaEstudiantesCurso\" styleClass=\"vgt-table condensed bordered striped\" :line-numbers=\"true\">\n                <template slot=\"table-row\" slot-scope=\"props\">\n                  <span v-if=\"props.column.field == 'idEstudiante'\">\n                    <span style=\"font-weight: bold; color: blue; cursor: pointer\" @click=\"consultarObservador(props.row)\" title=\"Consultar Observador\"><CIcon name=\"cilZoom\"/></span>\n                  </span>\n                </template>\n                <div slot=\"emptystate\">\n                  <h5 class=\"text-danger ml-5\">No existen Estudiantes matriculados en el Curso.</h5>\n                </div>\n              </vue-good-table>\n            </div>\n          </b-card-text>\n          <template #footer>\n            <em>Seleccione el curso donde se encuentra el estudiante y consulte el observador del estudiante haciendo clic en la lupa.</em>\n          </template>\n        </b-card>\n      </b-col>\n    </b-row>\n    <b-modal ref=\"modalCrearEditarFicha\" size=\"xl\" scrollable hide-footer title=\"Observador del Estudiante\" ok-only>\n      <div class=\"mx-3\">\n        <div>\n          <Observador :datosObservador=\"datosObservador\"  @retorno=\"datosRecibidosObservador\"/>\n        </div>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\"\n  import * as CONFIG from '@/assets/config.js'\n  import 'vue-good-table/dist/vue-good-table.css'\n  import { VueGoodTable } from 'vue-good-table'\n  import Observador from '@/views/estudiantes/Observador'\n\n  export default {\n    name: 'listaobservadores',\n    components: {\n      VueGoodTable,\n      Observador\n    },\n    data () {\n      return {\n        idSede: null,\n        comboSedes: [],\n        idCurso: null,\n        comboCursosSede: [],\n        listaEstudiantesCurso: [],\n        encabColumnas: [\n          { label: 'Apellidos y Nombres del Estudiante', field: 'estudiante', tdClass: this.tdClassFuncE },\n          { label: 'Documento', field: 'documento', tdClass: this.tdClassFuncE },\n          { label: 'Gen', field: 'id_genero', tdClass: this.tdClassFuncE },\n          { label: 'FechaNace', field: 'fechaNace', tdClass: this.tdClassFuncE },\n          { label: 'Edad', field: 'edad', tdClass: this.tdClassFuncE },\n          { label: 'Anotaciones', field: 'numObservaciones', tdClass: this.tdClassFuncE },\n          { label: 'Estado', field: 'estado', tdClass: this.tdClassFuncE },\n          { label: '', field: 'idEstudiante', sortable: false },\n        ],\n        datosObservador: {\n          idEstudiante: null,\n          idMatricula: null\n        }\n      }\n    },\n    methods: {\n      consultarObservador(item) {\n        this.$store.commit('set', ['idEstudiante', item.idEstudiante])\n        this.$store.commit('set', ['idMatricula', item.idMatricula])\n        this.$refs['modalCrearEditarFicha'].show()\n      },      \n      async consultaListaCurso() {\n        await axios\n        .get(CONFIG.ROOT_PATH + 'observador/listacurso', { params: { idCurso: this.idCurso, vigencia: this.$store.state.aLectivo }})\n        .then(response => {\n          if (response.data.error){\n            this.mensajeEmergente('danger',CONFIG.TITULO_MSG,response.data.mensaje + ' - Consulta Lista Curso')\n          } else{\n            if (response.data.datos != 0) {\n              this.listaEstudiantesCurso = []\n              response.data.datos.forEach(element => {\n                element.edad = this.calcularEdad(element.fechaNace) + \" Años\"\n              })\n              this.listaEstudiantesCurso = response.data.datos\n            }\n          }\n        })\n        .catch(err => {\n          this.mensajeEmergente('danger',CONFIG.TITULO_MSG,'Algo salio mal y no se pudo realizar: Consulta Lista Curso. Intente más tarde.' + err)\n        })\n      },\n      calcularEdad(fecha) {\n        var hoy = new Date()\n        var cumpleanos = new Date(fecha)\n        var edad = hoy.getFullYear() - cumpleanos.getFullYear()\n        var m = hoy.getMonth() - cumpleanos.getMonth()\n    \n        if (m < 0 || (m === 0 && hoy.getDate() < cumpleanos.getDate())) {\n            edad--\n        }\n        return edad\n      },\n      async ocuparComboCursosSede() {\n        this.comboCursosSede = []\n        this.$store.state.datosCursos.forEach(element => {\n          if (element.id_sede == this.idSede) {\n            this.comboCursosSede.push({ 'value': element.id, 'text': element.nomenclatura.toUpperCase() })\n          }\n        })\n      },\n      datosRecibidosObservador() {\n        this.$refs['modalCrearEditarFicha'].hide()\n      },\n      async ocuparComboSedes() {\n        this.comboSedes = []\n        this.$store.state.datosSedes.forEach(element => {\n          this.comboSedes.push({ 'value': element.id, 'text': element.sede.toUpperCase() })\n        })\n      },\n      tdClassFuncE(row) {\n        if (row.id_estado_actual == 2) { \n          return 'text-danger' \n        }\n      },\n      mensajeEmergente(variante, titulo, contenido) {\n        this.$bvToast.toast(contenido, { title: titulo, variant: variante, toaster: \"b-toaster-top-center\", solid: true, autoHideDelay: 4000, appendToast: false })\n      }\n    },\n    beforeMount() {\n      this.ocuparComboSedes()\n    }\n  }\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListaObservadores.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListaObservadores.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListaObservadores.vue?vue&type=template&id=5309cfd9&\"\nimport script from \"./ListaObservadores.vue?vue&type=script&lang=js&\"\nexport * from \"./ListaObservadores.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}